{"version":3,"file":"index.cjs","sources":["../src/features/expressionLanguage/variableExtractionHelpers.js","../src/features/expressionLanguage/FeelExpressionLanguage.js","../src/features/expressionLanguage/FeelersTemplating.js","../src/util/constants/DatetimeConstants.js","../src/util/constants/OptionsSourceConstants.js","../src/util/constants/IFrameConstants.js","../src/util/injector.js","../src/util/form.js","../src/render/components/Util.js","../src/render/context/FormRenderContext.js","../src/render/context/LocalExpressionContext.js","../src/render/context/FormContext.js","../src/render/hooks/useService.js","../src/util/simple.js","../src/util/expressions.js","../src/render/hooks/useCondition.js","../src/render/components/util/optionsUtil.js","../src/render/hooks/useExpressionEvaluation.js","../src/render/hooks/useDeepCompareMemoize.js","../src/render/hooks/useOptionsAsync.js","../src/render/hooks/useDangerousHTMLWrapper.js","../src/render/hooks/useSecurityAttributesMap.js","../src/render/hooks/useGetLabelCorrelation.js","../src/render/components/util/domUtil.js","../src/render/hooks/useScrollIntoView.js","../src/render/hooks/useBooleanExpressionEvaluation.js","../src/render/hooks/useFilteredFormData.js","../src/render/hooks/useKeyDownAction.js","../src/render/hooks/useReadonly.js","../src/render/hooks/usePrevious.js","../src/render/hooks/useFlushDebounce.js","../src/render/hooks/useTemplateEvaluation.js","../src/render/hooks/useSingleLineTemplateEvaluation.js","../src/render/components/util/dateTimeUtil.js","../src/render/components/util/sanitizerUtil.js","../src/render/hooks/useCleanupSingleSelectValue.js","../src/render/hooks/useCleanupMultiSelectValue.js","../src/render/components/form-fields/Button.js","../src/render/components/Description.js","../src/render/components/Errors.js","../src/render/components/Label.js","../src/render/components/form-fields/Checkbox.js","../src/render/components/form-fields/Checklist.js","../src/render/components/FormField.js","../src/render/components/form-fields/parts/ChildrenRenderer.js","../src/render/components/form-fields/Default.js","../src/render/components/form-fields/icons/Calendar.svg","../src/render/components/util/localisationUtil.js","../src/render/components/form-fields/parts/InputAdorner.js","../src/render/components/form-fields/parts/Datepicker.js","../src/render/components/form-fields/icons/Clock.svg","../src/render/components/form-fields/parts/DropdownList.js","../src/render/components/form-fields/parts/Timepicker.js","../src/render/components/form-fields/Datetime.js","../src/render/components/form-fields/Group.js","../src/render/components/form-fields/IFrame.js","../src/render/components/icons/Button.svg","../src/render/components/icons/Checkbox.svg","../src/render/components/icons/Checklist.svg","../src/render/components/icons/Datetime.svg","../src/render/components/icons/Taglist.svg","../src/render/components/icons/Form.svg","../src/render/components/icons/Group.svg","../src/render/components/icons/Number.svg","../src/render/components/icons/Radio.svg","../src/render/components/icons/Select.svg","../src/render/components/icons/Separator.svg","../src/render/components/icons/Spacer.svg","../src/render/components/icons/DynamicList.svg","../src/render/components/icons/Text.svg","../src/render/components/icons/HTML.svg","../src/render/components/icons/ExpressionField.svg","../src/render/components/icons/Textfield.svg","../src/render/components/icons/Textarea.svg","../src/render/components/icons/IFrame.svg","../src/render/components/icons/Image.svg","../src/render/components/icons/Table.svg","../src/render/components/icons/FilePicker.svg","../src/render/components/icons/DocumentPreview.svg","../src/render/components/icons/index.js","../src/render/components/form-fields/Image.js","../src/render/components/form-fields/parts/TemplatedInputAdorner.js","../src/render/components/form-fields/icons/AngelDown.svg","../src/render/components/form-fields/icons/AngelUp.svg","../src/render/components/util/numberFieldUtil.js","../src/render/components/form-fields/Number.js","../src/render/components/form-fields/Radio.js","../src/render/components/form-fields/icons/XMark.svg","../src/render/components/form-fields/parts/SearchableSelect.js","../src/render/components/form-fields/parts/SimpleSelect.js","../src/render/components/form-fields/Select.js","../src/render/components/form-fields/Separator.js","../src/render/components/form-fields/Spacer.js","../src/render/components/form-fields/DynamicList.js","../src/render/components/form-fields/parts/SkipLink.js","../src/render/components/form-fields/Taglist.js","../src/render/components/Sanitizer.js","../src/render/components/form-fields/Text.js","../src/render/components/form-fields/Html.js","../src/render/components/form-fields/ExpressionField.js","../src/render/components/form-fields/Textfield.js","../src/render/components/form-fields/Textarea.js","../src/render/components/form-fields/icons/ArrowDown.svg","../src/render/components/form-fields/icons/ArrowUp.svg","../src/render/components/form-fields/icons/CaretLeft.svg","../src/render/components/form-fields/icons/CaretRight.svg","../src/render/components/form-fields/Table.js","../src/util/constants/FilePickerConstants.js","../src/render/components/form-fields/FilePicker.js","../src/render/components/form-fields/icons/Download.svg","../src/render/components/form-fields/DocumentPreview.js","../src/render/components/PoweredBy.js","../src/render/components/FormComponent.js","../src/render/components/index.js","../src/render/FormFields.js","../src/util/getSchemaVariables.js","../src/util/structure.js","../src/features/expressionLanguage/ConditionChecker.js","../src/features/expressionLanguage/index.js","../src/features/expressionField/ExpressionLoopPreventer.js","../src/features/expressionField/index.js","../src/features/markdown/MarkdownRenderer.js","../src/features/markdown/index.js","../../../node_modules/diagram-js/lib/command/CommandStack.js","../../../node_modules/diagram-js/lib/command/index.js","../src/features/viewerCommands/cmd/UpdateFieldValidationHandler.js","../src/features/viewerCommands/cmd/UpdateFieldInstanceValidationHandler.js","../src/features/viewerCommands/ViewerCommands.js","../src/features/viewerCommands/index.js","../src/render/components/form-fields/icons/Expand.svg","../src/render/components/form-fields/icons/Collapse.svg","../src/render/components/form-fields/icons/Add.svg","../src/render/components/form-fields/icons/Delete.svg","../src/features/repeatRender/RepeatRenderManager.js","../src/features/repeatRender/index.js","../../../node_modules/diagram-js/lib/core/EventBus.js","../src/core/Validator.js","../src/core/Importer.js","../src/core/FieldFactory.js","../src/core/PathRegistry.js","../src/core/FormLayouter.js","../src/core/FormFieldRegistry.js","../src/core/FormFieldInstanceRegistry.js","../src/render/Renderer.js","../src/util/extractFileReferencesFromRemovedData.js","../src/render/FileRegistry.js","../src/render/index.js","../src/core/index.js","../src/Form.js","../src/index.js"],"sourcesContent":["import { parseExpression, parseUnaryTests } from 'feelin';\n\nexport const getFlavouredFeelVariableNames = (feelString, feelFlavour = 'expression', options = {}) => {\n  const { depth = 0, specialDepthAccessors = {} } = options;\n\n  if (!['expression', 'unaryTest'].includes(feelFlavour)) return [];\n\n  const tree = feelFlavour === 'expression' ? parseExpression(feelString) : parseUnaryTests(feelString);\n\n  const simpleExpressionTree = _buildSimpleFeelStructureTree(tree, feelString);\n\n  const variables = (function _unfoldVariables(node) {\n    if (node.name === 'PathExpression') {\n      // if the path is built on top of a context, we process that context and\n      // ignore the rest of the path expression, as it is not relevant for variable extraction\n      const pathRoot = _linearizePathExpression(node)[0];\n      if (pathRoot.name === 'Context') {\n        return _unfoldVariables(pathRoot);\n      }\n\n      if (Object.keys(specialDepthAccessors).length === 0) {\n        return depth === 0 ? [_getVariableNameAtPathIndex(node, 0)] : [];\n      }\n\n      // if using special depth accessors, use a more complex extraction\n      return Array.from(_smartExtractVariableNames(node, depth, specialDepthAccessors));\n    }\n\n    if (depth === 0 && node.name === 'VariableName') return [node.variableName];\n\n    // for any other kind of node, traverse its children and flatten the result\n    if (node.children) {\n      const variables = node.children.reduce((acc, child) => {\n        return acc.concat(_unfoldVariables(child));\n      }, []);\n\n      // if we are within a filter context, we need to remove the item variable as it is used for iteration there\n      return node.name === 'FilterContext' ? variables.filter((name) => name !== 'item') : variables;\n    }\n\n    return [];\n  })(simpleExpressionTree);\n\n  return [...new Set(variables)];\n};\n\n/**\n * Get the variable name at the specified index in a given path expression.\n *\n * @param {Object} root - The root node of the path expression tree.\n * @param {number} index - The index of the variable name to retrieve.\n * @returns {string|null} The variable name at the specified index or null if index is out of bounds.\n */\nconst _getVariableNameAtPathIndex = (root, index) => {\n  const nodes = _linearizePathExpression(root);\n  return nodes[index].variableName || null;\n};\n\n/**\n * Extracts the variables which are required of the external context for a given path expression.\n * This is done by traversing the path expression tree and keeping track of the current depth relative to the external context.\n *\n * @param {Object} node - The root node of the path expression tree.\n * @param {number} initialDepth - The depth at which the root node is located in the outer context.\n * @param {Object} specialDepthAccessors - Definitions of special keywords which represent more complex accesses of the outer context.\n * @returns {Set} - A set containing the extracted variable names.\n */\nconst _smartExtractVariableNames = (node, initialDepth, specialDepthAccessors) => {\n  // depth info represents the previous (initialised as null) and current depth of the current accessor in the path expression\n  // we track multiple of these to account for the fact that a path expression may be ambiguous due to special keywords\n  let accessorDepthInfos = [{ previous: null, current: initialDepth - 1 }];\n  const extractedVariables = new Set();\n  const pathNodes = _linearizePathExpression(node);\n\n  for (let i = 0; i < pathNodes.length; i++) {\n    const currentAccessor = pathNodes[i].variableName;\n\n    if (currentAccessor in specialDepthAccessors) {\n      const depthOffsets = specialDepthAccessors[currentAccessor];\n\n      // if the current accessor is a special keyword, we need to expand the current depth info set\n      // this is done to account for the ambiguity of keywords like parent, which may be used to access\n      // the parent of the current node, or a child variable of the same name\n      accessorDepthInfos = depthOffsets\n        .reduce((accumulator, offset) => {\n          return [\n            ...accumulator,\n            ...accessorDepthInfos.map((depthInfo) => ({\n              previous: depthInfo.current,\n              current: depthInfo.current + offset,\n            })),\n          ];\n        }, [])\n        .filter((depthInfo) => depthInfo.current >= -1); // discard all depth infos which are out of bounds\n    } else {\n      // if the current accessor is not a special keyword, we know it's simply accessing a child\n      // hence we are now one level deeper in the tree and simply increment\n      accessorDepthInfos = accessorDepthInfos.map((depthInfo) => ({\n        previous: depthInfo.current,\n        current: depthInfo.current + 1,\n      }));\n    }\n\n    // finally, we check if for the current accessor, there is a scenario where:\n    // previous it was at depth -1 (i.e. the root context), and is now at depth 0 (i.e. a variable)\n    // these are the variables we need to request, so we add them to the set\n    if (accessorDepthInfos.some((depthInfo) => depthInfo.previous === -1 && depthInfo.current === 0)) {\n      extractedVariables.add(currentAccessor);\n    }\n  }\n\n  // we return a set to avoid duplicates\n  return new Set(extractedVariables);\n};\n\n/**\n * Deconstructs a path expression tree into an array of components.\n *\n * @param {Object} root - The root node of the path expression tree.\n * @returns {Array<object>} An array of components in the path expression, in the correct order.\n */\nconst _linearizePathExpression = (root) => {\n  let node = root;\n  let parts = [];\n\n  // Traverse the tree and collect path components\n  while (node.name === 'PathExpression') {\n    parts.push(node.children[1]);\n    node = node.children[0];\n  }\n\n  // Add the last component to the array\n  parts.push(node);\n\n  // Reverse and return the array to get the correct order\n  return parts.reverse();\n};\n\n/**\n * Builds a simplified feel structure tree from the given parse tree and feel string.\n * The nodes follow this structure: `{ name: string, children: Array, variableName?: string }`\n *\n * @param {Object} parseTree - The parse tree generated by a parser.\n * @param {string} feelString - The feel string used for parsing.\n * @returns {Object} The simplified feel structure tree.\n */\nconst _buildSimpleFeelStructureTree = (parseTree, feelString) => {\n  const stack = [{ children: [] }];\n  parseTree.iterate({\n    enter: (node) => {\n      const nodeRepresentation = {\n        name: node.type.name,\n        children: [],\n      };\n\n      if (node.type.name === 'VariableName') {\n        nodeRepresentation.variableName = feelString.slice(node.from, node.to);\n      }\n\n      stack.push(nodeRepresentation);\n    },\n    leave: () => {\n      const result = stack.pop();\n      const parent = stack[stack.length - 1];\n      parent.children.push(result);\n    },\n  });\n\n  return _extractFilterExpressions(stack[0].children[0]);\n};\n\n/**\n * Restructure the tree in such a way to bring filters (which create new contexts) to the root of the tree.\n * This is done to simplify the extraction of variables and match the context hierarchy.\n */\nconst _extractFilterExpressions = (tree) => {\n  const flattenedExpressionTree = {\n    name: 'Root',\n    children: [tree],\n  };\n\n  const iterate = (node) => {\n    if (node.children) {\n      for (let x = 0; x < node.children.length; x++) {\n        if (node.children[x].name === 'FilterExpression') {\n          const filterTarget = node.children[x].children[0];\n          const filterExpression = node.children[x].children[2];\n\n          // bypass the filter expression\n          node.children[x] = filterTarget;\n\n          const taggedFilterExpression = {\n            name: 'FilterContext',\n            children: [filterExpression],\n          };\n\n          // append the filter expression to the root\n          flattenedExpressionTree.children.push(taggedFilterExpression);\n\n          // recursively iterate the expression\n          iterate(filterExpression);\n        } else {\n          iterate(node.children[x]);\n        }\n      }\n    }\n  };\n\n  iterate(tree);\n\n  return flattenedExpressionTree;\n};\n","import { evaluate } from 'feelin';\nimport { isString } from 'min-dash';\nimport { getFlavouredFeelVariableNames } from './variableExtractionHelpers';\n\nexport class FeelExpressionLanguage {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * Determines if the given value is a FEEL expression.\n   *\n   * @param {any} value\n   * @returns {boolean}\n   *\n   */\n  isExpression(value) {\n    return isString(value) && value.startsWith('=');\n  }\n\n  /**\n   * Retrieve variable names from a given FEEL expression.\n   *\n   * @param {string} expression\n   * @param {object} [options]\n   * @param {string} [options.type]\n   *\n   * @returns {string[]}\n   */\n  getVariableNames(expression, options = {}) {\n    const { type = 'expression' } = options;\n\n    if (!this.isExpression(expression)) {\n      return [];\n    }\n\n    if (!['unaryTest', 'expression'].includes(type)) {\n      throw new Error('Unknown expression type: ' + type);\n    }\n\n    return getFlavouredFeelVariableNames(expression, type);\n  }\n\n  /**\n   * Evaluate an expression.\n   *\n   * @param {string} expression\n   * @param {import('../../types').Data} [data]\n   *\n   * @returns {any}\n   */\n  evaluate(expression, data = {}) {\n    if (!expression) {\n      return null;\n    }\n\n    if (!isString(expression) || !expression.startsWith('=')) {\n      return null;\n    }\n\n    try {\n      const result = evaluate(expression.slice(1), data);\n\n      return result;\n    } catch (error) {\n      this._eventBus.fire('error', { error });\n      return null;\n    }\n  }\n}\n\nFeelExpressionLanguage.$inject = ['eventBus'];\n","import { parser as feelersParser, buildSimpleTree, evaluate as evaluateFeelers } from 'feelers';\nimport { isString } from 'min-dash';\nimport { getFlavouredFeelVariableNames } from './variableExtractionHelpers';\n\nexport class FeelersTemplating {\n  constructor() {}\n\n  /**\n   * Determines if the given value is a feelers template.\n   *\n   * @param {any} value\n   * @returns {boolean}\n   *\n   */\n  isTemplate(value) {\n    return isString(value) && (value.startsWith('=') || /{{.*?}}/.test(value));\n  }\n\n  /**\n   * Retrieve variable names from a given feelers template.\n   *\n   * @param {string} template\n   *\n   * @returns {string[]}\n   */\n  getVariableNames(template) {\n    if (!this.isTemplate(template)) {\n      return [];\n    }\n\n    const expressions = this._extractExpressionsWithDepth(template);\n\n    // defines special accessors, and the change(s) in depth they could imply (e.g. parent can be used to access the parent context (depth - 1) or a child variable named parent (depth + 1)\n    const specialDepthAccessors = {\n      parent: [-1, 1],\n      _parent_: [-1],\n      this: [0, 1],\n      _this_: [0],\n    };\n\n    return expressions.reduce((variables, { expression, depth }) => {\n      return variables.concat(\n        getFlavouredFeelVariableNames(expression, 'expression', { depth, specialDepthAccessors }),\n      );\n    }, []);\n  }\n\n  /**\n   * Evaluate a template.\n   *\n   * @param {string} template\n   * @param {Object<string, any>} context\n   * @param {Object} options\n   * @param {boolean} [options.debug = false]\n   * @param {boolean} [options.strict = false]\n   * @param {Function} [options.buildDebugString]\n   * @param {Function} [options.sanitizer]\n   *\n   * @returns\n   */\n  evaluate(template, context = {}, options = {}) {\n    const {\n      debug = false,\n      strict = false,\n      buildDebugString = (err) => ' {{⚠}} ',\n      sanitizer = (value) => value,\n    } = options;\n\n    return evaluateFeelers(template, context, { debug, strict, buildDebugString, sanitizer });\n  }\n\n  /**\n   * @typedef {Object} ExpressionWithDepth\n   * @property {number} depth - The depth of the expression in the syntax tree.\n   * @property {string} expression - The extracted expression\n   */\n\n  /**\n * Extracts all feel expressions in the template along with their depth in the syntax tree.\n * The depth is incremented for child expressions of loops to account for context drilling.\n\n * @name extractExpressionsWithDepth\n * @param {string} template - A feelers template string.\n * @returns {Array<ExpressionWithDepth>} An array of objects, each containing the depth and the extracted expression.\n *\n * @example\n * const template = \"Hello {{user}}, you have:{{#loop items}}\\n- {{amount}} {{name}}{{/loop}}.\";\n * const extractedExpressions = _extractExpressionsWithDepth(template);\n */\n  _extractExpressionsWithDepth(template) {\n    // build simplified feelers syntax tree\n    const parseTree = feelersParser.parse(template);\n    const tree = buildSimpleTree(parseTree, template);\n\n    return (function _traverse(n, depth = 0) {\n      if (['Feel', 'FeelBlock'].includes(n.name)) {\n        return [{ depth, expression: n.content }];\n      }\n\n      if (n.name === 'LoopSpanner') {\n        const loopExpression = n.children[0].content;\n        const childResults = n.children.slice(1).reduce((acc, child) => {\n          return acc.concat(_traverse(child, depth + 1));\n        }, []);\n        return [{ depth, expression: loopExpression }, ...childResults];\n      }\n\n      return n.children.reduce((acc, child) => {\n        return acc.concat(_traverse(child, depth));\n      }, []);\n    })(tree);\n  }\n}\n\nFeelersTemplating.$inject = [];\n","// config  ///////////////////\n\nexport const MINUTES_IN_DAY = 60 * 24;\n\nexport const DATETIME_SUBTYPES = {\n  DATE: 'date',\n  TIME: 'time',\n  DATETIME: 'datetime',\n};\n\nexport const TIME_SERIALISING_FORMATS = {\n  UTC_OFFSET: 'utc_offset',\n  UTC_NORMALIZED: 'utc_normalized',\n  NO_TIMEZONE: 'no_timezone',\n};\n\nexport const DATETIME_SUBTYPES_LABELS = {\n  [DATETIME_SUBTYPES.DATE]: 'Date',\n  [DATETIME_SUBTYPES.TIME]: 'Time',\n  [DATETIME_SUBTYPES.DATETIME]: 'Date & Time',\n};\n\nexport const TIME_SERIALISINGFORMAT_LABELS = {\n  [TIME_SERIALISING_FORMATS.UTC_OFFSET]: 'UTC offset',\n  [TIME_SERIALISING_FORMATS.UTC_NORMALIZED]: 'UTC normalized',\n  [TIME_SERIALISING_FORMATS.NO_TIMEZONE]: 'No timezone',\n};\n\nexport const DATETIME_SUBTYPE_PATH = ['subtype'];\nexport const DATE_LABEL_PATH = ['dateLabel'];\nexport const DATE_DISALLOW_PAST_PATH = ['disallowPassedDates'];\nexport const TIME_LABEL_PATH = ['timeLabel'];\nexport const TIME_USE24H_PATH = ['use24h'];\nexport const TIME_INTERVAL_PATH = ['timeInterval'];\nexport const TIME_SERIALISING_FORMAT_PATH = ['timeSerializingFormat'];\n","import { get } from 'min-dash';\n\n// config  ///////////////////\n\nexport const OPTIONS_SOURCES = {\n  STATIC: 'static',\n  INPUT: 'input',\n  EXPRESSION: 'expression',\n};\n\nexport const OPTIONS_SOURCE_DEFAULT = OPTIONS_SOURCES.STATIC;\n\nexport const OPTIONS_SOURCES_LABELS = {\n  [OPTIONS_SOURCES.STATIC]: 'Static',\n  [OPTIONS_SOURCES.INPUT]: 'Input data',\n  [OPTIONS_SOURCES.EXPRESSION]: 'Expression',\n};\n\nexport const OPTIONS_SOURCES_PATHS = {\n  [OPTIONS_SOURCES.STATIC]: ['values'],\n  [OPTIONS_SOURCES.INPUT]: ['valuesKey'],\n  [OPTIONS_SOURCES.EXPRESSION]: ['valuesExpression'],\n};\n\nexport const OPTIONS_SOURCES_DEFAULTS = {\n  [OPTIONS_SOURCES.STATIC]: [\n    {\n      label: 'Value',\n      value: 'value',\n    },\n  ],\n  [OPTIONS_SOURCES.INPUT]: '',\n  [OPTIONS_SOURCES.EXPRESSION]: '=',\n};\n\n// helpers ///////////////////\n\nexport function getOptionsSource(field) {\n  for (const source of Object.values(OPTIONS_SOURCES)) {\n    if (get(field, OPTIONS_SOURCES_PATHS[source]) !== undefined) {\n      return source;\n    }\n  }\n\n  return OPTIONS_SOURCE_DEFAULT;\n}\n","export const SANDBOX_ATTRIBUTE = 'sandbox';\nexport const ALLOW_ATTRIBUTE = 'allow';\n\n// Cf. https://developer.mozilla.org/en-US/docs/Web/HTTP/Permissions_Policy#iframe_syntax\nexport const SECURITY_ATTRIBUTES_DEFINITIONS = [\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-scripts',\n    property: 'allowScripts',\n    label: 'Script execution',\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-same-origin',\n    property: 'allowSameOrigin',\n    label: 'Allow same origin',\n  },\n  {\n    attribute: ALLOW_ATTRIBUTE,\n    directive: 'fullscreen',\n    property: 'fullscreen',\n    label: 'Open in fullscreen',\n  },\n  {\n    attribute: ALLOW_ATTRIBUTE,\n    directive: 'geolocation',\n    property: 'geolocation',\n    label: 'Geolocation',\n  },\n  {\n    attribute: ALLOW_ATTRIBUTE,\n    directive: 'camera',\n    property: 'camera',\n    label: 'Camera access',\n  },\n  {\n    attribute: ALLOW_ATTRIBUTE,\n    directive: 'microphone',\n    property: 'microphone',\n    label: 'Microphone access',\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-forms',\n    property: 'allowForms',\n    label: 'Forms submission',\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-modals',\n    property: 'allowModals',\n    label: 'Open modal windows',\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-popups',\n    property: 'allowPopups',\n    label: 'Open popups',\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-top-navigation',\n    property: 'allowTopNavigation',\n    label: 'Top level navigation',\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-storage-access-by-user-activation',\n    property: 'allowStorageAccessByUserActivation',\n    label: 'Storage access by user',\n  },\n];\n","import { Injector } from 'didi';\n\nexport function createInjector(bootstrapModules) {\n  const injector = new Injector(bootstrapModules);\n\n  injector.init();\n\n  return injector;\n}\n","/**\n * @param {string?} prefix\n *\n * @returns Element\n */\nexport function createFormContainer(prefix = 'fjs') {\n  const container = document.createElement('div');\n\n  container.classList.add(`${prefix}-container`);\n\n  return container;\n}\n","import classNames from 'classnames';\n\nexport function formFieldClasses(type, { errors = [], disabled = false, readonly = false } = {}) {\n  if (!type) {\n    throw new Error('type required');\n  }\n\n  return classNames('fjs-form-field', `fjs-form-field-${type}`, {\n    'fjs-has-errors': errors.length > 0,\n    'fjs-disabled': disabled,\n    'fjs-readonly': readonly,\n  });\n}\n\nexport function gridColumnClasses(formField) {\n  const { layout = {} } = formField;\n\n  const { columns } = layout;\n\n  return classNames(\n    'fjs-layout-column',\n    `cds--col${columns ? '-lg-' + columns : ''}`,\n\n    // always fall back to top-down on smallest screens\n    'cds--col-sm-16',\n    'cds--col-md-16',\n  );\n}\n\nexport function textToLabel(text) {\n  if (typeof text != 'string') return null;\n\n  for (const line of text.split('\\n')) {\n    const displayLine = line.trim();\n\n    // we use the first non-whitespace line in the text as label\n    if (displayLine !== '') {\n      return displayLine;\n    }\n  }\n\n  return null;\n}\n\nexport function prefixId(id, formId, indexes) {\n  let result = 'fjs-form';\n\n  if (formId) {\n    result += `-${formId}`;\n  }\n\n  result += `-${id}`;\n\n  Object.values(indexes || {}).forEach((index) => {\n    result += `_${index}`;\n  });\n\n  return result;\n}\n","import { createContext } from 'preact';\n\nexport const FormRenderContext = createContext({\n  Empty: (props) => {\n    return null;\n  },\n  Hidden: (props) => {\n    return null;\n  },\n  Children: (props) => {\n    return (\n      <div class={props.class} style={props.style}>\n        {props.children}\n      </div>\n    );\n  },\n  Element: (props) => {\n    return (\n      <div class={props.class} style={props.style}>\n        {props.children}\n      </div>\n    );\n  },\n  Row: (props) => {\n    return (\n      <div class={props.class} style={props.style}>\n        {props.children}\n      </div>\n    );\n  },\n  Column: (props) => {\n    if (props.field.type === 'default') {\n      return props.children;\n    }\n\n    return (\n      <div class={props.class} style={props.style}>\n        {props.children}\n      </div>\n    );\n  },\n  hoverInfo: {\n    cleanup: () => {},\n  },\n});\n","import { createContext } from 'preact';\n\nexport const LocalExpressionContext = createContext({\n  data: null,\n  this: null,\n  parent: null,\n  i: null,\n});\n","import { createContext } from 'preact';\n\n/**\n * @param {string} type\n * @param {boolean} [strict]\n *\n * @returns {any}\n */\nfunction getService(type, strict) {}\n\nexport const FormContext = createContext({\n  getService,\n  formId: null,\n});\n","import { useContext } from 'preact/hooks';\n\nimport { FormContext } from '../context';\n\n/**\n * @template T\n * @param {string} type\n * @param {boolean} [strict=true]\n * @returns {T | null}\n */\nexport function useService(type, strict) {\n  const { getService } = useContext(FormContext);\n\n  return getService(type, strict);\n}\n","export function isRequired(field) {\n  return field.required;\n}\n\nexport function pathParse(path) {\n  if (!path) {\n    return [];\n  }\n\n  return path.split('.').map((key) => {\n    return isNaN(parseInt(key)) ? key : parseInt(key);\n  });\n}\n\nexport function pathsEqual(a, b) {\n  return a && b && a.length === b.length && a.every((value, index) => value === b[index]);\n}\n\nconst indices = {};\n\nexport function generateIndexForType(type) {\n  if (type in indices) {\n    indices[type]++;\n  } else {\n    indices[type] = 1;\n  }\n\n  return indices[type];\n}\n\nexport function generateIdForType(type) {\n  return `${type}${generateIndexForType(type)}`;\n}\n\n/**\n * @template T\n * @param {T} data\n * @param {(this: any, key: string, value: any) => any} [replacer]\n * @return {T}\n */\nexport function clone(data, replacer) {\n  return JSON.parse(JSON.stringify(data, replacer));\n}\n\nexport function runRecursively(formField, fn) {\n  const components = formField.components || [];\n\n  components.forEach((component, _) => {\n    runRecursively(component, fn);\n  });\n\n  fn(formField);\n}\n\nexport function wrapObjectKeysWithUnderscores(obj) {\n  const newObj = {};\n  for (const [key, value] of Object.entries(obj)) {\n    newObj[`_${key}_`] = value;\n  }\n  return newObj;\n}\n","import { wrapObjectKeysWithUnderscores } from './simple';\n\n/**\n * Transform a LocalExpressionContext object into a usable FEEL context.\n *\n * @param {Object} context - The LocalExpressionContext object.\n * @returns {Object} The usable FEEL context.\n */\n\nexport function buildExpressionContext(context) {\n  const { data, ...specialContextKeys } = context;\n\n  return {\n    ...specialContextKeys,\n    ...data,\n    ...wrapObjectKeysWithUnderscores(specialContextKeys),\n  };\n}\n\n/**\n * If the value is a valid expression, it is evaluated and returned. Otherwise, it is returned as-is.\n *\n * @param {any} expressionLanguage - The expression language to use.\n * @param {any} value - The static value or expression to evaluate.\n * @param {Object} expressionContextInfo - The context information to use.\n * @returns {any} - Evaluated value or the original value if not an expression.\n */\nexport function runExpressionEvaluation(expressionLanguage, value, expressionContextInfo) {\n  if (expressionLanguage && expressionLanguage.isExpression(value)) {\n    return expressionLanguage.evaluate(value, buildExpressionContext(expressionContextInfo));\n  }\n  return value;\n}\n","import { useService } from './useService.js';\nimport { useContext, useMemo } from 'preact/hooks';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext.js';\nimport { buildExpressionContext } from '../../util/expressions.js';\n\n/**\n * Evaluate if condition is met reactively based on the conditionChecker and form data.\n *\n * @param {string | undefined} condition\n *\n * @returns {boolean} true if condition is met or no condition or condition checker exists\n */\nexport function useCondition(condition) {\n  const conditionChecker = useService('conditionChecker', false);\n  const expressionContextInfo = useContext(LocalExpressionContext);\n\n  return useMemo(() => {\n    return conditionChecker ? conditionChecker.check(condition, buildExpressionContext(expressionContextInfo)) : null;\n  }, [conditionChecker, condition, expressionContextInfo]);\n}\n","import { get, isObject, isString, isNil } from 'min-dash';\n\n/**\n * Returns the options data for the provided if they can be simply determined, ignoring expression defined options.\n *\n * @param {object} formField\n * @param {object} formData\n */\nfunction getSimpleOptionsData(formField, formData) {\n  const { valuesExpression: optionsExpression, valuesKey: optionsKey, values: staticOptions } = formField;\n\n  if (optionsExpression) {\n    return null;\n  }\n\n  return optionsKey ? get(formData, [optionsKey]) : staticOptions;\n}\n\n/**\n * Normalizes the provided options data to a format that can be used by the select components.\n * If the options data is not valid, it is filtered out.\n *\n * @param {any[]} optionsData\n *\n * @returns {object[]}\n */\nfunction normalizeOptionsData(optionsData) {\n  return optionsData\n    .filter(_isAllowedValue)\n    .map(_normalizeOption)\n    .filter((o) => !isNil(o));\n}\n\n/**\n * Creates an options object with default values if no options are provided.\n *\n * @param {object} options\n *\n * @returns {object}\n */\nfunction createEmptyOptions(options = {}) {\n  const defaults = {};\n\n  // provide default options if valuesKey and valuesExpression are not set\n  if (!options.valuesKey && !options.valuesExpression) {\n    defaults.values = [\n      {\n        label: 'Value',\n        value: 'value',\n      },\n    ];\n  }\n\n  return {\n    ...defaults,\n    ...options,\n  };\n}\n\n/**\n * Converts the provided option to a normalized format.\n * If the option is not valid, null is returned.\n *\n * @param {object} option\n * @param {string} option.label\n * @param {*} option.value\n *\n * @returns\n */\nfunction _normalizeOption(option) {\n  // (1) simple primitive case, use it as both label and value\n  if (_isAllowedPrimitive(option)) {\n    return { value: option, label: `${option}` };\n  }\n\n  if (isObject(option)) {\n    const isValidLabel = _isValidLabel(option.label);\n\n    // (2) no label provided, but value is a simple primitive, use it as label and value\n    if (!isValidLabel && _isAllowedPrimitive(option.value)) {\n      return { value: option.value, label: `${option.value}` };\n    }\n\n    // (3) both label and value are provided, use them as is\n    if (isValidLabel && _isAllowedValue(option.value)) {\n      return option;\n    }\n  }\n\n  return null;\n}\n\nfunction _isAllowedPrimitive(value) {\n  const isAllowedPrimitiveType = ['number', 'string', 'boolean'].includes(typeof value);\n  const isValid = value || value === 0 || value === false;\n\n  return isAllowedPrimitiveType && isValid;\n}\n\nfunction _isValidLabel(label) {\n  return label && isString(label);\n}\n\nfunction _isAllowedValue(value) {\n  if (isObject(value)) {\n    return Object.keys(value).length > 0;\n  }\n\n  return _isAllowedPrimitive(value);\n}\n\nexport { getSimpleOptionsData, normalizeOptionsData, createEmptyOptions };\n","import { useService } from './useService';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext';\nimport { useContext, useMemo } from 'preact/hooks';\nimport { runExpressionEvaluation } from '../../util/expressions';\n\n/**\n * If the value is a valid expression, it is evaluated and returned. Otherwise, it is returned as-is.\n * The function is memoized to minimize re-renders.\n *\n * @param {any} value - A static value or expression to evaluate.\n * @returns {any} - Evaluated value or the original value if not an expression.\n */\nexport function useExpressionEvaluation(value) {\n  const expressionLanguage = useService('expressionLanguage');\n  const expressionContextInfo = useContext(LocalExpressionContext);\n  return useMemo(\n    () => runExpressionEvaluation(expressionLanguage, value, expressionContextInfo),\n    [expressionLanguage, expressionContextInfo, value],\n  );\n}\n","import { useRef } from 'preact/hooks';\nimport isEqual from 'lodash/isEqual';\n\n/**\n * A custom hook to manage state changes with deep comparison.\n *\n * @template T\n * @param {T} value - The current value to manage.\n * @returns {T} - Returns the current state.\n */\nexport function useDeepCompareMemoize(value) {\n  /** @type {import(\"preact\").RefObject<T>} */\n  const ref = useRef();\n\n  if (!isEqual(value, ref.current)) {\n    ref.current = value;\n  }\n\n  return ref.current;\n}\n","import { useMemo } from 'preact/hooks';\nimport { normalizeOptionsData } from '../components/util/optionsUtil';\nimport { useExpressionEvaluation } from './useExpressionEvaluation';\nimport { useDeepCompareMemoize } from './useDeepCompareMemoize';\nimport { useService } from './useService';\n\n/**\n * @enum { String }\n */\nexport const LOAD_STATES = {\n  LOADING: 'loading',\n  LOADED: 'loaded',\n  ERROR: 'error',\n};\n\n/**\n * @typedef {Object} OptionsGetter\n * @property {Object[]} options - The options data\n * @property {(LOAD_STATES)} loadState - The options data's loading state, to use for conditional rendering\n */\n\n/**\n * A hook to load options for single and multiselect components.\n *\n * @param {Object} field - The form field to handle options for\n * @return {OptionsGetter} optionsGetter - A options getter object providing loading state and options\n */\nexport function useOptionsAsync(field) {\n  const { valuesExpression: optionsExpression, valuesKey: optionsKey, values: staticOptions } = field;\n\n  const initialData = useService('form')._getState().initialData;\n  const expressionEvaluation = useExpressionEvaluation(optionsExpression);\n  const evaluatedOptions = useDeepCompareMemoize(expressionEvaluation || []);\n\n  const optionsGetter = useMemo(() => {\n    let options = [];\n\n    // dynamic options\n    if (optionsKey !== undefined) {\n      const keyedOptions = (initialData || {})[optionsKey];\n      if (keyedOptions && Array.isArray(keyedOptions)) {\n        options = keyedOptions;\n      }\n\n      // static options\n    } else if (staticOptions !== undefined) {\n      options = Array.isArray(staticOptions) ? staticOptions : [];\n\n      // expression\n    } else if (optionsExpression && evaluatedOptions && Array.isArray(evaluatedOptions)) {\n      options = evaluatedOptions;\n\n      // error case\n    } else {\n      return buildErrorState('No options source defined in the form definition');\n    }\n\n    // normalize data to support primitives and partially defined objects\n    return buildLoadedState(normalizeOptionsData(options));\n  }, [optionsKey, staticOptions, initialData, optionsExpression, evaluatedOptions]);\n\n  return optionsGetter;\n}\n\nconst buildErrorState = (error) => ({ options: [], error, loadState: LOAD_STATES.ERROR });\n\nconst buildLoadedState = (options) => ({ options, error: undefined, loadState: LOAD_STATES.LOADED });\n","import { useMemo } from 'preact/hooks';\nimport DOMPurify from 'dompurify';\n\n/**\n * Wrap HTML content in a configuration object for dangerouslySetInnerHTML\n * @param {Object} props\n * @param {string} props.html\n * @param {Function} [props.transform]\n * @param {boolean} [props.sanitize = true]\n * @param {boolean} [props.sanitizeStyleTags = true]\n */\nconst useDangerousHTMLWrapper = (props) => {\n  const { html, transform = (html) => html, sanitize = true, sanitizeStyleTags = true } = props;\n\n  const sanitizedHtml = useMemo(\n    () => (sanitize ? DOMPurify.sanitize(html, getDOMPurifyConfig(sanitizeStyleTags)) : html),\n    [html, sanitize, sanitizeStyleTags],\n  );\n  const transformedHtml = useMemo(() => transform(sanitizedHtml), [sanitizedHtml, transform]);\n\n  // Return the configuration object for dangerouslySetInnerHTML\n  return { __html: transformedHtml };\n};\n\nconst getDOMPurifyConfig = (sanitizeStyleTags) => {\n  return {\n    FORCE_BODY: true,\n    FORBID_TAGS: sanitizeStyleTags ? ['style'] : [],\n  };\n};\n\nexport { useDangerousHTMLWrapper };\n","import { get } from 'min-dash';\nimport { SECURITY_ATTRIBUTES_DEFINITIONS, SANDBOX_ATTRIBUTE } from '../../util/constants';\nimport { useMemo } from 'preact/hooks';\nimport { useDeepCompareMemoize } from './useDeepCompareMemoize';\n\n/**\n * A custom hook to build up security attributes from form configuration.\n *\n * @param {Object} security - The security configuration.\n * @returns {Array} - Returns a tuple with sandbox and allow attributes.\n */\nexport function useSecurityAttributesMap(security) {\n  const securityMemoized = useDeepCompareMemoize(security);\n\n  const sandbox = useMemo(\n    () =>\n      SECURITY_ATTRIBUTES_DEFINITIONS.filter(({ attribute }) => attribute === SANDBOX_ATTRIBUTE)\n        .filter(({ property }) => get(securityMemoized, [property], false))\n        .map(({ directive }) => directive)\n        .join(' '),\n    [securityMemoized],\n  );\n\n  const allow = useMemo(\n    () =>\n      SECURITY_ATTRIBUTES_DEFINITIONS.filter(({ attribute }) => attribute !== SANDBOX_ATTRIBUTE)\n        .filter(({ property }) => get(securityMemoized, [property], false))\n        .map(({ directive }) => directive)\n        .join('; '),\n    [securityMemoized],\n  );\n\n  return [sandbox, allow];\n}\n","import { useCallback, useMemo } from 'preact/hooks';\nimport { isObject } from 'min-dash';\n\n/**\n * This hook allows us to retrieve the label from a value in linear time by caching it in a map\n * @param {Array} options\n */\nexport function useGetLabelCorrelation(options) {\n  // This allows us to retrieve the label from a value in linear time\n  const labelMap = useMemo(\n    () => Object.assign({}, ...options.map((o) => ({ [_getValueHash(o.value)]: o.label }))),\n    [options],\n  );\n  return useCallback((value) => labelMap[_getValueHash(value)], [labelMap]);\n}\n\nconst _getValueHash = (value) => {\n  return isObject(value) ? JSON.stringify(value) : value;\n};\n","/**\n * Wrap CSS styles with a given prefix.\n *\n * @param {HTMLElement} rootNode\n * @param {string} prefix\n *\n * @returns {HTMLElement}\n */\nfunction wrapCSSStyles(rootNode, prefix) {\n  const styleTags = rootNode.querySelectorAll('style');\n  styleTags.forEach((styleTag) => {\n    const topLevelRules = extractTopLevelRules(styleTag.textContent);\n    const scopedCss = topLevelRules\n      .map((rule) => {\n        const { selector, styles } = splitRule(rule);\n        const scopedSelector = scopeSelector(selector, prefix);\n        return `${scopedSelector} ${styles}`;\n      })\n      .join(' ');\n    styleTag.textContent = scopedCss;\n  });\n\n  return rootNode;\n}\n\nfunction extractTopLevelRules(cssString) {\n  let cursor = 0;\n  let start = 0;\n  let level = 0;\n  const topLevelRules = [];\n\n  while (cursor < cssString.length) {\n    if (cssString[cursor] === '{') {\n      level++;\n    }\n\n    if (cssString[cursor] === '}') {\n      level--;\n      if (level === 0) {\n        topLevelRules.push(cssString.substring(start, cursor + 1));\n        start = cursor + 1;\n      }\n    }\n\n    cursor++;\n  }\n\n  return topLevelRules.map((rule) => rule.trim());\n}\n\nfunction splitRule(rule) {\n  const firstBracket = rule.indexOf('{');\n  const selector = rule.substring(0, firstBracket);\n  const styles = rule.substring(firstBracket);\n  return { selector, styles };\n}\n\nfunction scopeSelector(selector, prefix) {\n  return selector\n    .split(',')\n    .map((sel) => `${prefix} ${sel.trim()}`)\n    .join(', ');\n}\n\nfunction getScrollContainer(el) {\n  while (el && el !== document.body && el !== document.documentElement) {\n    if (_isElementScrollable(el)) {\n      return el;\n    }\n    el = el.parentElement;\n  }\n\n  if (_isElementScrollable(document.body)) {\n    return document.body;\n  } else if (_isElementScrollable(document.documentElement)) {\n    return document.documentElement;\n  }\n\n  return null;\n}\n\nfunction _isElementScrollable(el) {\n  const style = window.getComputedStyle(el);\n  const overflowY = style.overflowY || style.overflow;\n\n  return (overflowY === 'auto' || overflowY === 'scroll') && el.scrollHeight > el.clientHeight;\n}\n\nexport { wrapCSSStyles, getScrollContainer };\n","import { some } from 'min-dash';\nimport { useEffect } from 'preact/hooks';\nimport { getScrollContainer } from '../components/util/domUtil';\n\nconst EMPTY_OBJECT = {};\nconst EMPTY_ARRAY = [];\n\n/**\n * Custom hook to scroll an element within a scrollable container.\n *\n * @param {Object} scrolledElementRef - A ref pointing to the DOM element to scroll into view.\n * @param {Array} deps - An array of dependencies that trigger the effect.\n * @param {Object} [scrollOptions={}] - Options defining the behavior of the scrolling.\n * @param {String} [scrollOptions.align='center'] - The alignment of the element within the viewport.\n * @param {String} [scrollOptions.behavior='auto'] - The scrolling behavior.\n * @param {Number} [scrollOptions.offset=0] - An offset that is added to the scroll position.\n * @param {Boolean} [scrollOptions.scrollIfVisible=false] - Whether to scroll even if the element is visible.\n * @param {Array} [flagRefs] - An array of refs that are used as flags to control when to scroll.\n */\nexport function useScrollIntoView(scrolledElementRef, deps, scrollOptions, flagRefs) {\n  const _scrollOptions = scrollOptions || EMPTY_OBJECT;\n  const _flagRefs = flagRefs || EMPTY_ARRAY;\n\n  useEffect(() => {\n    // return early if flags are not raised, or component is not mounted\n    if (some(_flagRefs, (ref) => !ref.current) || !scrolledElementRef.current) {\n      return;\n    }\n\n    for (let i = 0; i < _flagRefs.length; i++) {\n      _flagRefs[i].current = false;\n    }\n\n    const itemToBeScrolled = scrolledElementRef.current;\n    const scrollContainer = getScrollContainer(itemToBeScrolled);\n\n    if (!scrollContainer) {\n      return;\n    }\n\n    const itemRect = itemToBeScrolled.getBoundingClientRect();\n    const containerRect = scrollContainer.getBoundingClientRect();\n\n    const { align = 'center', offset = 0, behavior = 'auto', scrollIfVisible = false } = _scrollOptions;\n\n    const shouldScroll =\n      scrollIfVisible || !(itemRect.top >= containerRect.top && itemRect.bottom <= containerRect.bottom);\n\n    if (!shouldScroll) {\n      return;\n    }\n\n    const topOffset = _getTopOffset(itemToBeScrolled, scrollContainer, { align, offset });\n    scrollContainer.scroll({ top: topOffset, behavior });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n}\n\n// helper //////////////////////\n\nfunction _getTopOffset(item, scrollContainer, options) {\n  const itemRect = item.getBoundingClientRect();\n  const containerRect = scrollContainer.getBoundingClientRect();\n\n  if (options.align === 'top') {\n    return itemRect.top - containerRect.top + scrollContainer.scrollTop - options.offset;\n  } else if (options.align === 'bottom') {\n    return (\n      itemRect.bottom - containerRect.top - scrollContainer.clientHeight + scrollContainer.scrollTop + options.offset\n    );\n  } else if (options.align === 'center') {\n    return (\n      itemRect.top -\n      containerRect.top -\n      scrollContainer.clientHeight / 2 +\n      scrollContainer.scrollTop +\n      itemRect.height / 2 +\n      options.offset\n    );\n  }\n\n  return 0;\n}\n","import { useService } from './useService';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext';\nimport { useContext, useMemo } from 'preact/hooks';\nimport { runExpressionEvaluation } from '../../util/expressions';\n\n/**\n * If the value is a valid expression, we evaluate it. Otherwise, we continue with the value as-is.\n * If the resulting value isn't a boolean, we return 'false'\n * The function is memoized to minimize re-renders.\n *\n * @param {boolean | string} value - A static boolean or expression to evaluate.\n * @returns {boolean} - Evaluated boolean result.\n */\nexport function useBooleanExpressionEvaluation(value) {\n  const expressionLanguage = useService('expressionLanguage');\n  const expressionContextInfo = useContext(LocalExpressionContext);\n  return useMemo(() => {\n    const evaluationResult = runExpressionEvaluation(expressionLanguage, value, expressionContextInfo);\n    return typeof evaluationResult === 'boolean' ? evaluationResult : false;\n  }, [expressionLanguage, expressionContextInfo, value]);\n}\n","import { useService } from './useService.js';\nimport { useMemo } from 'preact/hooks';\n\n/**\n * Returns the conditionally filtered data of a form reactively.\n * Memoised to minimize re-renders\n *\n * Warning: costly operation, use with care\n */\nexport function useFilteredFormData() {\n  const { initialData, data } = useService('form')._getState();\n  const conditionChecker = useService('conditionChecker', false);\n\n  return useMemo(() => {\n    const newData = conditionChecker ? conditionChecker.applyConditions(data, data) : data;\n    return { ...initialData, ...newData };\n  }, [conditionChecker, data, initialData]);\n}\n","import { useEffect } from 'preact/hooks';\n\nexport function useKeyDownAction(targetKey, action, listenerElement = window) {\n  function downHandler({ key }) {\n    if (key === targetKey) {\n      action();\n    }\n  }\n\n  useEffect(() => {\n    listenerElement.addEventListener('keydown', downHandler);\n\n    return () => {\n      listenerElement.removeEventListener('keydown', downHandler);\n    };\n  });\n}\n","import { buildExpressionContext } from '../../util/expressions.js';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext.js';\nimport { useService } from './useService.js';\nimport { useContext } from 'preact/hooks';\n\n/**\n * Retrieve readonly value of a form field, given it can be an\n * expression optionally or configured globally.\n *\n * @typedef { import('../../types').FormProperties } FormProperties\n *\n * @param {any} formField\n * @param {FormProperties} properties\n *\n * @returns {boolean}\n */\nexport function useReadonly(formField, properties = {}) {\n  const expressionLanguage = useService('expressionLanguage');\n  const conditionChecker = useService('conditionChecker', false);\n  const expressionContextInfo = useContext(LocalExpressionContext);\n\n  const { readonly } = formField;\n\n  if (properties.readOnly) {\n    return true;\n  }\n\n  if (expressionLanguage && expressionLanguage.isExpression(readonly)) {\n    return conditionChecker ? conditionChecker.check(readonly, buildExpressionContext(expressionContextInfo)) : false;\n  }\n\n  return readonly || false;\n}\n","import { useEffect, useRef } from 'preact/hooks';\n\nexport function usePrevious(value, defaultValue = null) {\n  const ref = useRef(defaultValue);\n\n  useEffect(() => (ref.current = value), [value]);\n\n  return ref.current;\n}\n","import { useCallback, useRef } from 'preact/hooks';\nimport { useService } from './useService';\n\nexport function useFlushDebounce(func) {\n  const timeoutRef = useRef(null);\n  const lastArgsRef = useRef(null);\n\n  const config = useService('config', false);\n  const debounce = config && config.debounce;\n  const shouldDebounce = debounce !== false && debounce !== 0;\n  const delay = typeof debounce === 'number' ? debounce : 300;\n\n  const debounceFunc = useCallback(\n    (...args) => {\n      if (!shouldDebounce) {\n        func(...args);\n        return;\n      }\n\n      lastArgsRef.current = args;\n\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n\n      timeoutRef.current = setTimeout(() => {\n        func(...lastArgsRef.current);\n        lastArgsRef.current = null;\n      }, delay);\n    },\n    [func, delay, shouldDebounce],\n  );\n\n  const flushFunc = useCallback(() => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n      if (lastArgsRef.current !== null) {\n        func(...lastArgsRef.current);\n        lastArgsRef.current = null;\n      }\n      timeoutRef.current = null;\n    }\n  }, [func]);\n\n  return [debounceFunc, flushFunc];\n}\n","import { useService } from './useService';\nimport { useContext, useMemo } from 'preact/hooks';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext';\nimport { buildExpressionContext } from '../../util/expressions';\n\n/**\n * Template a string reactively based on form data. If the string is not a template, it is returned as is.\n * Memoised to minimize re-renders\n *\n * @param {string} value\n * @param {Object} options\n * @param {boolean} [options.debug = false]\n * @param {boolean} [options.strict = false]\n * @param {Function} [options.sanitizer]\n * @param {Function} [options.buildDebugString]\n *\n */\nexport function useTemplateEvaluation(value, options = {}) {\n  const templating = useService('templating');\n  const expressionContextInfo = useContext(LocalExpressionContext);\n\n  return useMemo(() => {\n    if (templating && templating.isTemplate(value)) {\n      return templating.evaluate(value, buildExpressionContext(expressionContextInfo), options);\n    }\n    return value;\n  }, [templating, value, expressionContextInfo, options]);\n}\n","import { useTemplateEvaluation } from './useTemplateEvaluation';\nimport { useMemo } from 'preact/hooks';\n\n/**\n * Template a string reactively based on form data. If the string is not a template, it is returned as is.\n * If the string contains multiple lines, only the first line is returned.\n * Memoised to minimize re-renders\n *\n * @param {string} value\n * @param {Object} [options]\n * @param {boolean} [options.debug = false]\n * @param {boolean} [options.strict = false]\n * @param {Function} [options.buildDebugString]\n *\n */\nexport function useSingleLineTemplateEvaluation(value, options = {}) {\n  const evaluatedTemplate = useTemplateEvaluation(value, options);\n  return useMemo(() => evaluatedTemplate && evaluatedTemplate.split('\\n')[0], [evaluatedTemplate]);\n}\n","import { isNumber } from 'min-dash';\nimport { MINUTES_IN_DAY, TIME_SERIALISING_FORMATS } from '../../../util/constants/DatetimeConstants';\nimport { DateTime as LuxonDateTime } from 'luxon';\n\nexport const ENTER_KEYDOWN_EVENT = new KeyboardEvent('keydown', {\n  code: 'Enter',\n  key: 'Enter',\n  charCode: 13,\n  keyCode: 13,\n  bubbles: true,\n});\n\nexport function focusRelevantFlatpickerDay(flatpickrInstance) {\n  if (!flatpickrInstance) return;\n\n  !flatpickrInstance.isOpen && flatpickrInstance.open();\n\n  const container = flatpickrInstance.calendarContainer;\n  const dayToFocus =\n    container.querySelector('.flatpickr-day.selected') ||\n    container.querySelector('.flatpickr-day.today') ||\n    container.querySelector('.flatpickr-day');\n\n  dayToFocus && dayToFocus.focus();\n}\n\nexport function formatTime(use24h, minutes) {\n  if (minutes === null) return null;\n\n  const wrappedMinutes = minutes % (24 * 60);\n\n  const minute = minutes % 60;\n  let hour = Math.floor(wrappedMinutes / 60);\n\n  if (use24h) {\n    return _getZeroPaddedString(hour) + ':' + _getZeroPaddedString(minute);\n  }\n\n  hour = hour % 12 || 12;\n\n  const isPM = wrappedMinutes >= 12 * 60;\n\n  return _getZeroPaddedString(hour) + ':' + _getZeroPaddedString(minute) + ' ' + (isPM ? 'PM' : 'AM');\n}\n\nexport function parseInputTime(stringTime) {\n  let workingString = stringTime.toLowerCase();\n  const is12h = workingString.includes('am') || workingString.includes('pm');\n\n  if (is12h) {\n    const isPM = workingString.includes('pm');\n    const digits = workingString.match(/\\d+/g);\n    const displayHour = parseInt(digits && digits[0]);\n    const minute = parseInt(digits && digits[1]) || 0;\n\n    const isValidDisplayHour = isNumber(displayHour) && displayHour >= 1 && displayHour <= 12;\n    const isValidMinute = minute >= 0 && minute <= 59;\n\n    if (!isValidDisplayHour || !isValidMinute) return null;\n\n    const hour = (displayHour % 12) + (isPM ? 12 : 0);\n\n    return hour * 60 + minute;\n  } else {\n    const digits = workingString.match(/\\d+/g);\n    const hour = parseInt(digits && digits[0]);\n    const minute = parseInt(digits && digits[1]);\n\n    const isValidHour = isNumber(hour) && hour >= 0 && hour <= 23;\n    const isValidMinute = isNumber(minute) && minute >= 0 && minute <= 59;\n\n    if (!isValidHour || !isValidMinute) return null;\n\n    return hour * 60 + minute;\n  }\n}\n\nexport function serializeTime(minutes, offset, timeSerializingFormat) {\n  if (timeSerializingFormat === TIME_SERIALISING_FORMATS.UTC_NORMALIZED) {\n    const normalizedMinutes = (minutes + offset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n    return (\n      _getZeroPaddedString(Math.floor(normalizedMinutes / 60)) +\n      ':' +\n      _getZeroPaddedString(normalizedMinutes % 60) +\n      'Z'\n    );\n  }\n\n  const baseTime = _getZeroPaddedString(Math.floor(minutes / 60)) + ':' + _getZeroPaddedString(minutes % 60);\n  const addUTCOffset = timeSerializingFormat === TIME_SERIALISING_FORMATS.UTC_OFFSET;\n\n  return baseTime + (addUTCOffset ? formatTimezoneOffset(offset) : '');\n}\n\nexport function parseIsoTime(isoTimeString) {\n  if (!isoTimeString) return null;\n\n  const parseBasicMinutes = (timeString) => {\n    const timeSegments = timeString.split(':');\n    const hour = parseInt(timeSegments[0]);\n    const minute = timeSegments.length > 1 ? parseInt(timeSegments[1]) : 0;\n    if (isNaN(hour) || hour < 0 || hour > 24 || isNaN(minute) || minute < 0 || minute > 60) return null;\n    return hour * 60 + minute;\n  };\n\n  const localOffset = new Date().getTimezoneOffset();\n\n  // Parse normalized time\n  if (isoTimeString.includes('Z')) {\n    isoTimeString = isoTimeString.replace('Z', '');\n    const minutes = parseBasicMinutes(isoTimeString);\n    if (minutes === null) return null;\n    return (minutes - localOffset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n  }\n\n  // Parse offset positive time\n  else if (isoTimeString.includes('+')) {\n    const [timeString, offsetString] = isoTimeString.split('+');\n\n    const minutes = parseBasicMinutes(timeString);\n    let inboundOffset = parseBasicMinutes(offsetString);\n\n    if (minutes === null || inboundOffset === null) return null;\n\n    // The offset is flipped for consistency with javascript\n    inboundOffset = -inboundOffset;\n\n    return (minutes + inboundOffset - localOffset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n  }\n\n  // Parse offset negative time\n  else if (isoTimeString.includes('-')) {\n    const [timeString, offsetString] = isoTimeString.split('-');\n\n    const minutes = parseBasicMinutes(timeString);\n    let inboundOffset = parseBasicMinutes(offsetString);\n\n    if (minutes === null || inboundOffset === null) return null;\n\n    return (minutes + inboundOffset - localOffset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n  }\n\n  // Default to local parsing\n  else {\n    return parseBasicMinutes(isoTimeString);\n  }\n}\n\n/**\n * Returns the date object as a simple 'YYYY-MM-DD' formatted date in the local timezone.\n *\n * @param {*} date The date object to serialize.\n * @returns {string} The serialized date.\n */\nexport function serializeDate(date) {\n  return LuxonDateTime.fromJSDate(date).toISODate();\n}\n// this method is used to make the `new Date(value)` parsing behavior stricter\nexport function isDateTimeInputInformationSufficient(value) {\n  if (!value || typeof value !== 'string') return false;\n\n  const segments = value.split('T');\n  if (segments.length != 2) return false;\n\n  const dateNumbers = segments[0].split('-');\n  if (dateNumbers.length != 3) return false;\n\n  return true;\n}\n\n// this method checks if the date isn't a datetime, or a partial date\nexport function isDateInputInformationMatching(value) {\n  if (!value || typeof value !== 'string') return false;\n\n  if (value.includes('T')) return false;\n\n  const dateNumbers = value.split('-');\n  if (dateNumbers.length != 3) return false;\n\n  return true;\n}\n\nexport function serializeDateTime(date, time, timeSerializingFormat) {\n  const workingDate = new Date();\n  workingDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n  workingDate.setHours(Math.floor(time / 60), time % 60, 0, 0);\n\n  if (timeSerializingFormat === TIME_SERIALISING_FORMATS.UTC_NORMALIZED) {\n    const timezoneOffsetMinutes = workingDate.getTimezoneOffset();\n    const dayOffset = time + timezoneOffsetMinutes < 0 ? -1 : time + timezoneOffsetMinutes > MINUTES_IN_DAY ? 1 : 0;\n\n    // Apply the date rollover pre-emptively\n    workingDate.setHours(workingDate.getHours() + dayOffset * 24);\n  }\n\n  return serializeDate(workingDate) + 'T' + serializeTime(time, workingDate.getTimezoneOffset(), timeSerializingFormat);\n}\n\nexport function formatTimezoneOffset(minutes) {\n  return _getSignedPaddedHours(minutes) + ':' + _getZeroPaddedString(Math.abs(minutes % 60));\n}\n\nexport function isInvalidDateString(value) {\n  return isNaN(new Date(Date.parse(value)).getTime());\n}\n\nexport function getNullDateTime() {\n  return {\n    date: new Date(Date.parse(null)),\n    time: null,\n  };\n}\n\nexport function isValidDate(date) {\n  return date && !isNaN(date.getTime());\n}\n\nexport function isValidTime(time) {\n  return !isNaN(parseInt(time));\n}\n\nfunction _getSignedPaddedHours(minutes) {\n  if (minutes > 0) {\n    return '-' + _getZeroPaddedString(Math.floor(minutes / 60));\n  } else {\n    return '+' + _getZeroPaddedString(Math.floor((0 - minutes) / 60));\n  }\n}\n\nfunction _getZeroPaddedString(time) {\n  return time.toString().padStart(2, '0');\n}\n","import isEqual from 'lodash/isEqual';\nimport { DATETIME_SUBTYPES } from '../../../util/constants/DatetimeConstants';\nimport {\n  isDateInputInformationMatching,\n  isDateTimeInputInformationSufficient,\n  isInvalidDateString,\n  parseIsoTime,\n} from './dateTimeUtil';\nimport { getSimpleOptionsData, normalizeOptionsData } from './optionsUtil';\n\nconst ALLOWED_IMAGE_SRC_PATTERN = /^(https?|data):.*/i;\nconst ALLOWED_IFRAME_SRC_PATTERN = /^(https):\\/\\/*/i;\n\nexport function sanitizeDateTimePickerValue(options) {\n  const { formField, value } = options;\n\n  const { subtype } = formField;\n\n  if (typeof value !== 'string') return null;\n\n  if (subtype === DATETIME_SUBTYPES.DATE && (isInvalidDateString(value) || !isDateInputInformationMatching(value)))\n    return null;\n  if (subtype === DATETIME_SUBTYPES.TIME && parseIsoTime(value) === null) return null;\n  if (\n    subtype === DATETIME_SUBTYPES.DATETIME &&\n    (isInvalidDateString(value) || !isDateTimeInputInformationSufficient(value))\n  )\n    return null;\n\n  return value;\n}\n\nexport function hasEqualValue(value, array) {\n  if (!Array.isArray(array)) {\n    return false;\n  }\n\n  return array.some((element) => isEqual(value, element));\n}\n\nexport function sanitizeSingleSelectValue(options) {\n  const { formField, data, value } = options;\n\n  const { valuesExpression: optionsExpression } = formField;\n\n  try {\n    // if options are expression evaluated, we don't need to sanitize the value against the options\n    // and defer to the field's internal validation\n    if (optionsExpression) {\n      return value;\n    }\n\n    const validValues = normalizeOptionsData(getSimpleOptionsData(formField, data)).map((v) => v.value);\n    return hasEqualValue(value, validValues) ? value : null;\n  } catch (error) {\n    // use default value in case of formatting error\n    // TODO(@Skaiir): log a warning when this happens - https://github.com/bpmn-io/form-js/issues/289\n    return null;\n  }\n}\n\nexport function sanitizeMultiSelectValue(options) {\n  const { formField, data, value } = options;\n\n  const { valuesExpression: optionsExpression } = formField;\n\n  try {\n    // if options are expression evaluated, we don't need to sanitize the values against the options\n    // and defer to the field's internal validation\n    if (optionsExpression) {\n      return value;\n    }\n\n    const validValues = normalizeOptionsData(getSimpleOptionsData(formField, data)).map((v) => v.value);\n    return value.filter((v) => hasEqualValue(v, validValues));\n  } catch (error) {\n    // use default value in case of formatting error\n    // TODO(@Skaiir): log a warning when this happens - https://github.com/bpmn-io/form-js/issues/289\n    return [];\n  }\n}\n\n/**\n * Sanitizes an image source to ensure we only allow for data URI and links\n * that start with http(s).\n *\n * Note: Most browsers anyway do not support script execution in <img> elements.\n *\n * @param {string} src\n * @returns {string}\n */\nexport function sanitizeImageSource(src) {\n  const valid = ALLOWED_IMAGE_SRC_PATTERN.test(src);\n\n  return valid ? src : '';\n}\n\n/**\n * Sanitizes an iframe source to ensure we only allow for links\n * that start with http(s).\n *\n * @param {string} src\n * @returns {string}\n */\nexport function sanitizeIFrameSource(src) {\n  const valid = ALLOWED_IFRAME_SRC_PATTERN.test(src);\n\n  return valid ? src : '';\n}\n\n/**\n * Escapes HTML and returns pure text.\n * @param {string} html\n * @returns {string}\n */\nexport function escapeHTML(html) {\n  const escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#039;',\n    '{': '&#123;',\n    '}': '&#125;',\n    ':': '&#58;',\n    ';': '&#59;',\n  };\n\n  return html.replace(/[&<>\"'{};:]/g, (match) => escapeMap[match]);\n}\n","import { useEffect } from 'preact/hooks';\nimport { LOAD_STATES } from './useOptionsAsync';\nimport { hasEqualValue } from '../components/util/sanitizerUtil';\n\nexport function useCleanupSingleSelectValue(props) {\n  const { field, options, loadState, onChange, value } = props;\n\n  // Ensures that the value is always one of the possible options\n  useEffect(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return;\n    }\n\n    const optionValues = options.map((o) => o.value);\n    const hasValueNotInOptions = value && !hasEqualValue(value, optionValues);\n\n    if (hasValueNotInOptions) {\n      onChange({\n        field,\n        value: null,\n      });\n    }\n  }, [field, options, onChange, value, loadState]);\n}\n","import { useEffect } from 'preact/hooks';\nimport { LOAD_STATES } from './useOptionsAsync';\nimport { hasEqualValue } from '../components/util/sanitizerUtil';\nimport { useDeepCompareMemoize } from './useDeepCompareMemoize';\n\nexport function useCleanupMultiSelectValue(props) {\n  const { field, options, loadState, onChange, values } = props;\n\n  const memoizedValues = useDeepCompareMemoize(values || []);\n\n  // ensures that the values are always a subset of the possible options\n  useEffect(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return;\n    }\n\n    const optionValues = options.map((o) => o.value);\n    const hasValuesNotInOptions = memoizedValues.some((v) => !hasEqualValue(v, optionValues));\n\n    if (hasValuesNotInOptions) {\n      onChange({\n        field,\n        value: memoizedValues.filter((v) => hasEqualValue(v, optionValues)),\n      });\n    }\n  }, [field, options, onChange, memoizedValues, loadState]);\n}\n","import { formFieldClasses } from '../Util';\nimport { useSingleLineTemplateEvaluation } from '../../hooks';\n\nconst type = 'button';\n\nexport function Button(props) {\n  const { disabled, onFocus, onBlur, field } = props;\n\n  const { action = 'submit' } = field;\n\n  const evaluatedLabel = useSingleLineTemplateEvaluation(field.label || '', { debug: true });\n\n  return (\n    <div class={formFieldClasses(type)}>\n      <button\n        class=\"fjs-button\"\n        type={action}\n        disabled={disabled}\n        onFocus={() => onFocus && onFocus()}\n        onBlur={() => onBlur && onBlur()}>\n        {evaluatedLabel}\n      </button>\n    </div>\n  );\n}\n\nButton.config = {\n  type,\n  keyed: false,\n  name: 'Button',\n  group: 'action',\n  create: (options = {}) => ({\n    label: 'Button',\n    action: 'submit',\n    ...options,\n  }),\n};\n","import { useSingleLineTemplateEvaluation } from '../hooks';\n\nexport function Description(props) {\n  const { description, id } = props;\n\n  const evaluatedDescription = useSingleLineTemplateEvaluation(description || '', { debug: true });\n\n  if (!evaluatedDescription) {\n    return null;\n  }\n\n  return (\n    <div id={id} class=\"fjs-form-field-description\">\n      {evaluatedDescription}\n    </div>\n  );\n}\n","/**\n * @typedef Props\n * @property {string} id\n * @property {string[]} errors\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nexport function Errors(props) {\n  const { errors, id } = props;\n\n  if (!errors.length) {\n    return null;\n  }\n\n  return (\n    <div class=\"fjs-form-field-error\" aria-live=\"polite\" id={id}>\n      <ul>\n        {errors.map((error, index) => {\n          return <li key={index}>{error}</li>;\n        })}\n      </ul>\n    </div>\n  );\n}\n","import classNames from 'classnames';\n\nimport { useSingleLineTemplateEvaluation } from '../hooks';\n\n/**\n * @typedef Props\n * @property {string|undefined} [id]\n * @property {string|undefined} [htmlFor]\n * @property {string|undefined} label\n * @property {string} [class]\n * @property {boolean} [collapseOnEmpty]\n * @property {boolean} [required]\n * @property {import(\"preact\").VNode} [children]\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nexport function Label(props) {\n  const { id, htmlFor, label, collapseOnEmpty = true, required = false } = props;\n\n  const evaluatedLabel = useSingleLineTemplateEvaluation(label || '', { debug: true });\n\n  return (\n    <label\n      id={id}\n      htmlFor={htmlFor}\n      class={classNames('fjs-form-field-label', { 'fjs-incollapsible-label': !collapseOnEmpty }, props['class'])}>\n      {props.children}\n      {evaluatedLabel}\n      {required && (\n        <span class=\"fjs-asterix\" aria-hidden>\n          *\n        </span>\n      )}\n    </label>\n  );\n}\n","import { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\n\nimport { formFieldClasses } from '../Util';\n\nimport classNames from 'classnames';\n\nconst type = 'checkbox';\n\nexport function Checkbox(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, readonly, value = false } = props;\n\n  const { description, label, validate = {} } = field;\n\n  const { required } = validate;\n\n  const onChange = ({ target }) => {\n    props.onChange({\n      value: target.checked,\n    });\n  };\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return (\n    <div class={classNames(formFieldClasses(type, { errors, disabled, readonly }), { 'fjs-checked': value })}>\n      <div class=\"fjs-inline-label\">\n        <input\n          checked={value}\n          class=\"fjs-input\"\n          disabled={disabled}\n          readOnly={readonly}\n          id={domId}\n          type=\"checkbox\"\n          onChange={onChange}\n          onBlur={() => onBlur && onBlur()}\n          onFocus={() => onFocus && onFocus()}\n          required={required}\n          aria-invalid={errors.length > 0}\n          aria-describedby={[descriptionId, errorMessageId].join(' ')}\n        />\n        <Label htmlFor={domId} label={label} required={required} />\n      </div>\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nCheckbox.config = {\n  type,\n  keyed: true,\n  name: 'Checkbox',\n  group: 'selection',\n  emptyValue: false,\n  sanitizeValue: ({ value }) => value === true,\n  create: (options = {}) => ({\n    label: 'Checkbox',\n    ...options,\n  }),\n};\n","import { useRef } from 'preact/hooks';\nimport { useOptionsAsync, LOAD_STATES } from '../../hooks/useOptionsAsync';\nimport { useCleanupMultiSelectValue } from '../../hooks/useCleanupMultiSelectValue';\nimport classNames from 'classnames';\nimport isEqual from 'lodash/isEqual';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\n\nimport { sanitizeMultiSelectValue, hasEqualValue } from '../util/sanitizerUtil';\n\nimport { createEmptyOptions } from '../util/optionsUtil';\n\nimport { formFieldClasses } from '../Util';\n\nconst type = 'checklist';\n\nexport function Checklist(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, readonly, value: values = [] } = props;\n\n  const { description, label, validate = {} } = field;\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const outerDivRef = useRef();\n\n  const { required } = validate;\n\n  const toggleCheckbox = (toggledValue) => {\n    const newValues = hasEqualValue(toggledValue, values)\n      ? values.filter((value) => !isEqual(value, toggledValue))\n      : [...values, toggledValue];\n\n    props.onChange({\n      value: newValues,\n    });\n  };\n\n  const onCheckboxBlur = (e) => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n\n    onBlur && onBlur();\n  };\n\n  const onCheckboxFocus = (e) => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n\n    onFocus && onFocus();\n  };\n\n  const { loadState, options } = useOptionsAsync(field);\n\n  useCleanupMultiSelectValue({\n    field,\n    loadState,\n    options,\n    values,\n    onChange: props.onChange,\n  });\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return (\n    <div class={classNames(formFieldClasses(type, { errors, disabled, readonly }))} ref={outerDivRef}>\n      <Label label={label} required={required} />\n      {loadState == LOAD_STATES.LOADED &&\n        options.map((option, index) => {\n          const itemDomId = `${domId}-${index}`;\n          const isChecked = hasEqualValue(option.value, values);\n\n          return (\n            <div\n              className={classNames('fjs-inline-label', {\n                'fjs-checked': isChecked,\n              })}\n              key={option.value}>\n              <input\n                checked={isChecked}\n                class=\"fjs-input\"\n                disabled={disabled}\n                readOnly={readonly}\n                id={itemDomId}\n                type=\"checkbox\"\n                onClick={() => toggleCheckbox(option.value)}\n                onBlur={onCheckboxBlur}\n                onFocus={onCheckboxFocus}\n                required={required}\n                aria-invalid={errors.length > 0}\n                aria-describedby={[descriptionId, errorMessageId].join(' ')}\n              />\n              <Label htmlFor={itemDomId} label={option.label} required={false} />\n            </div>\n          );\n        })}\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nChecklist.config = {\n  type,\n  keyed: true,\n  name: 'Checkbox group',\n  group: 'selection',\n  emptyValue: [],\n  sanitizeValue: sanitizeMultiSelectValue,\n  create: (options = {}) => ({\n    label: 'Checkbox group',\n    ...createEmptyOptions(options),\n  }),\n};\n","import Ids from 'ids';\n\nimport { useRef, useCallback, useContext, useEffect, useMemo, useState } from 'preact/hooks';\nimport isEqual from 'lodash/isEqual';\n\nimport { get } from 'min-dash';\n\nimport { FormContext, FormRenderContext, LocalExpressionContext } from '../context';\n\nimport { useCondition, useReadonly, useService } from '../hooks';\n\nimport { gridColumnClasses, prefixId } from './Util';\n\nconst noop = () => false;\nconst ids = new Ids([32, 36, 1]);\n\nexport function FormField(props) {\n  const instanceIdRef = useRef(ids.next());\n\n  const { field, indexes, onChange: _onChange } = props;\n\n  const formFields = useService('formFields'),\n    viewerCommands = useService('viewerCommands', false),\n    formFieldInstanceRegistry = useService('formFieldInstanceRegistry', false),\n    pathRegistry = useService('pathRegistry'),\n    eventBus = useService('eventBus'),\n    form = useService('form');\n\n  const { initialData, data, errors, properties } = form._getState();\n\n  const { Element, Hidden, Column } = useContext(FormRenderContext);\n\n  const { formId } = useContext(FormContext);\n\n  // track whether we should trigger initial validation on certain actions, e.g. field blur\n  // disabled straight away, if viewerCommands are not available\n  const [initialValidationTrigger, setInitialValidationTrigger] = useState(!!viewerCommands);\n\n  const FormFieldComponent = formFields.get(field.type);\n\n  if (!FormFieldComponent) {\n    throw new Error(`cannot render field <${field.type}>`);\n  }\n\n  const fieldConfig = FormFieldComponent.config;\n\n  const localExpressionContext = useContext(LocalExpressionContext);\n  const valuePath = useMemo(() => pathRegistry.getValuePath(field, { indexes }), [field, indexes, pathRegistry]);\n\n  const initialValue = useMemo(() => get(initialData, valuePath), [initialData, valuePath]);\n\n  const readonly = useReadonly(field, properties);\n\n  const value = get(data, valuePath);\n\n  // add precedence: global readonly > form field disabled\n  const disabled = !properties.readOnly && (properties.disabled || field.disabled || false);\n\n  const hidden = useCondition((field.conditional && field.conditional.hide) || null);\n\n  const instanceId = useMemo(() => {\n    if (!formFieldInstanceRegistry) {\n      return null;\n    }\n\n    return formFieldInstanceRegistry.syncInstance(instanceIdRef.current, {\n      id: field.id,\n      expressionContextInfo: localExpressionContext,\n      valuePath,\n      value,\n      indexes,\n      hidden,\n    });\n  }, [formFieldInstanceRegistry, field.id, localExpressionContext, valuePath, value, indexes, hidden]);\n\n  const fieldInstance = instanceId ? formFieldInstanceRegistry.get(instanceId) : null;\n\n  // cleanup the instance on unmount\n  useEffect(() => {\n    const instanceId = instanceIdRef.current;\n\n    if (formFieldInstanceRegistry) {\n      return () => formFieldInstanceRegistry.cleanupInstance(instanceId);\n    }\n  }, [formFieldInstanceRegistry]);\n\n  // ensures the initial validation behavior can be re-triggered upon form reset\n  useEffect(() => {\n    if (!viewerCommands) {\n      return;\n    }\n\n    const resetValidation = () => {\n      setInitialValidationTrigger(true);\n    };\n\n    eventBus.on('import.done', resetValidation);\n    eventBus.on('reset', resetValidation);\n\n    return () => {\n      eventBus.off('import.done', resetValidation);\n      eventBus.off('reset', resetValidation);\n    };\n  }, [eventBus, viewerCommands]);\n\n  useEffect(() => {\n    const hasInitialValue = initialValue && !isEqual(initialValue, []);\n\n    if (initialValidationTrigger && hasInitialValue && fieldInstance) {\n      setInitialValidationTrigger(false);\n      viewerCommands.updateFieldInstanceValidation(fieldInstance, initialValue);\n    }\n  }, [fieldInstance, initialValidationTrigger, initialValue, viewerCommands]);\n\n  const onBlur = useCallback(() => {\n    const value = get(data, valuePath);\n\n    if (initialValidationTrigger) {\n      setInitialValidationTrigger(false);\n      viewerCommands.updateFieldInstanceValidation(fieldInstance, value);\n    }\n\n    eventBus.fire('formField.blur', { formField: field });\n  }, [data, eventBus, field, fieldInstance, initialValidationTrigger, valuePath, viewerCommands]);\n\n  const onFocus = useCallback(() => {\n    eventBus.fire('formField.focus', { formField: field });\n  }, [eventBus, field]);\n\n  const onChange = useCallback(\n    (update) => {\n      setInitialValidationTrigger(false);\n      _onChange({ field, indexes, fieldInstance, ...update });\n    },\n    [_onChange, field, fieldInstance, indexes],\n  );\n\n  if (hidden) {\n    return <Hidden field={field} />;\n  }\n\n  const domId = `${prefixId(field.id, formId, indexes)}`;\n  const fieldErrors = get(errors, [field.id, ...Object.values(indexes || {})]) || [];\n\n  const formFieldElement = (\n    <FormFieldComponent\n      {...props}\n      disabled={disabled}\n      errors={fieldErrors}\n      domId={domId}\n      onChange={disabled || readonly ? noop : onChange}\n      onBlur={disabled || readonly ? noop : onBlur}\n      onFocus={disabled || readonly ? noop : onFocus}\n      readonly={readonly}\n      value={value}\n      fieldInstance={fieldInstance}\n    />\n  );\n\n  if (fieldConfig.escapeGridRender) {\n    return formFieldElement;\n  }\n\n  return (\n    <Column field={field} class={gridColumnClasses(field)}>\n      <Element class=\"fjs-element\" field={field}>\n        {formFieldElement}\n      </Element>\n    </Column>\n  );\n}\n","import { useContext, useState } from 'preact/hooks';\n\nimport { useService } from '../../../hooks/useService';\n\nimport { FormField } from '../../FormField';\n\nimport { FormRenderContext } from '../../../context';\n\nexport function ChildrenRenderer(props) {\n  const { Children } = useContext(FormRenderContext);\n\n  const { field, Empty } = props;\n\n  const { id } = field;\n\n  const repeatRenderManager = useService('repeatRenderManager', false);\n\n  const isRepeating = repeatRenderManager && repeatRenderManager.isFieldRepeating(id);\n\n  const Repeater = repeatRenderManager.Repeater;\n  const RepeatFooter = repeatRenderManager.RepeatFooter;\n\n  return isRepeating ? (\n    <RepeatChildrenRenderer\n      {...props}\n      {...{ ChildrenRoot: Children, Empty, Repeater, RepeatFooter, repeatRenderManager }}\n    />\n  ) : (\n    <SimpleChildrenRenderer {...props} {...{ ChildrenRoot: Children, Empty }} />\n  );\n}\n\nfunction SimpleChildrenRenderer(props) {\n  const { ChildrenRoot, Empty, field } = props;\n\n  const { components = [] } = field;\n\n  const isEmpty = !components.length;\n\n  return (\n    <ChildrenRoot class=\"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed\" field={field}>\n      <RowsRenderer {...props} />\n      {isEmpty ? <Empty field={field} /> : null}\n    </ChildrenRoot>\n  );\n}\n\nfunction RepeatChildrenRenderer(props) {\n  const { ChildrenRoot, repeatRenderManager, Empty, field, ...restProps } = props;\n\n  const { components = [] } = field;\n\n  const useSharedState = useState({ isCollapsed: true });\n\n  const Repeater = repeatRenderManager.Repeater;\n  const RepeatFooter = repeatRenderManager.RepeatFooter;\n\n  return (\n    <>\n      <ChildrenRoot class=\"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed\" field={field}>\n        {Repeater ? (\n          <Repeater {...{ ...restProps, useSharedState, field, RowsRenderer }} />\n        ) : (\n          <RowsRenderer {...{ ...restProps, field }} />\n        )}\n        {!components.length ? <Empty field={field} /> : null}\n      </ChildrenRoot>\n      {RepeatFooter ? <RepeatFooter {...{ ...restProps, useSharedState, field }} /> : null}\n    </>\n  );\n}\n\nfunction RowsRenderer(props) {\n  const { field, indexes } = props;\n  const { id: parentId, verticalAlignment = 'start' } = field;\n\n  const formLayouter = useService('formLayouter');\n  const formFieldRegistry = useService('formFieldRegistry');\n  const rows = formLayouter.getRows(parentId);\n\n  const { Row } = useContext(FormRenderContext);\n\n  return (\n    <>\n      {' '}\n      {rows.map((row) => {\n        const { components = [] } = row;\n\n        if (!components.length) {\n          return null;\n        }\n\n        return (\n          <Row key={row.id} row={row} class=\"fjs-layout-row cds--row\" style={{ alignItems: verticalAlignment }}>\n            {components.map((childId) => {\n              const childField = formFieldRegistry.get(childId);\n\n              if (!childField) {\n                return null;\n              }\n\n              return <FormField {...props} key={childId} field={childField} indexes={indexes} />;\n            })}\n          </Row>\n        );\n      })}{' '}\n    </>\n  );\n}\n","import { useContext } from 'preact/hooks';\nimport { FormRenderContext } from '../../context';\nimport { ChildrenRenderer } from './parts/ChildrenRenderer';\n\nexport function Default(props) {\n  const { Empty } = useContext(FormRenderContext);\n\n  const fullProps = { ...props, Empty };\n\n  return <ChildrenRenderer {...fullProps} />;\n}\n\nDefault.config = {\n  type: 'default',\n  keyed: false,\n  label: null,\n  group: null,\n  create: (options = {}) => ({\n    components: [],\n    ...options,\n  }),\n  getSubheading: (field) => field.id,\n};\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"15\" fill=\"none\" viewBox=\"0 0 28 30\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M19 2H9V0H7v2H2a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5V0h-2v2ZM7 7V4H2v5h24V4h-5v3h-2V4H9v3H7Zm-5 4v17h24V11H2Z\" clip-rule=\"evenodd\"/></svg>","/**\n * Returns date format for the provided locale.\n * If the locale is not provided, uses the browser's locale.\n *\n * @param {string} [locale] - The locale to get date format for.\n * @returns {string} The date format for the locale.\n */\nexport function getLocaleDateFormat(locale = 'default') {\n  const parts = new Intl.DateTimeFormat(locale).formatToParts(new Date(Date.UTC(2020, 5, 5)));\n  return parts\n    .map((part) => {\n      const len = part.value.length;\n      switch (part.type) {\n        case 'day':\n          return 'd'.repeat(len);\n        case 'month':\n          return 'M'.repeat(len);\n        case 'year':\n          return 'y'.repeat(len);\n        default:\n          return part.value;\n      }\n    })\n    .join('');\n}\n\n/**\n * Returns readable date format for the provided locale.\n * If the locale is not provided, uses the browser's locale.\n *\n * @param {string} [locale] - The locale to get readable date format for.\n * @returns {string} The readable date format for the locale.\n */\nexport function getLocaleReadableDateFormat(locale) {\n  let format = getLocaleDateFormat(locale).toLowerCase();\n\n  // Ensure month is in 'mm' format\n  if (!format.includes('mm')) {\n    format = format.replace('m', 'mm');\n  }\n\n  // Ensure day is in 'dd' format\n  if (!format.includes('dd')) {\n    format = format.replace('d', 'dd');\n  }\n\n  return format;\n}\n\n/**\n * Returns flatpickr config for the provided locale.\n * If the locale is not provided, uses the browser's locale.\n *\n * @param {string} [locale] - The locale to get flatpickr config for.\n * @returns {object} The flatpickr config for the locale.\n */\nexport function getLocaleDateFlatpickrConfig(locale) {\n  return flatpickerizeDateFormat(getLocaleDateFormat(locale));\n}\n\nfunction flatpickerizeDateFormat(dateFormat) {\n  const useLeadingZero = {\n    day: dateFormat.includes('dd'),\n    month: dateFormat.includes('MM'),\n    year: dateFormat.includes('yyyy'),\n  };\n\n  dateFormat = useLeadingZero.day ? dateFormat.replace('dd', 'd') : dateFormat.replace('d', 'j');\n  dateFormat = useLeadingZero.month ? dateFormat.replace('MM', 'm') : dateFormat.replace('M', 'n');\n  dateFormat = useLeadingZero.year ? dateFormat.replace('yyyy', 'Y') : dateFormat.replace('yy', 'y');\n\n  return dateFormat;\n}\n","import classNames from 'classnames';\nimport { isString } from 'min-dash';\n\nexport function InputAdorner(props) {\n  const { pre, post, rootRef, inputRef, children, disabled, readonly, hasErrors } = props;\n\n  const onAdornmentClick = () => inputRef && inputRef.current && inputRef.current.focus();\n\n  return (\n    <div\n      class={classNames(\n        'fjs-input-group',\n        { 'fjs-disabled': disabled, 'fjs-readonly': readonly },\n        { hasErrors: hasErrors },\n      )}\n      ref={rootRef}>\n      {pre && (\n        <span class=\"fjs-input-adornment border-right border-radius-left\" onClick={onAdornmentClick}>\n          {' '}\n          {isString(pre) ? <span class=\"fjs-input-adornment-text\">{pre}</span> : pre}{' '}\n        </span>\n      )}\n      {children}\n      {post && (\n        <span class=\"fjs-input-adornment border-left border-radius-right\" onClick={onAdornmentClick}>\n          {' '}\n          {isString(post) ? <span class=\"fjs-input-adornment-text\">{post}</span> : post}{' '}\n        </span>\n      )}\n    </div>\n  );\n}\n","import flatpickr from 'flatpickr';\nimport CalendarIcon from '../icons/Calendar.svg';\n\nimport { ENTER_KEYDOWN_EVENT, focusRelevantFlatpickerDay } from '../../util/dateTimeUtil';\nimport { getLocaleReadableDateFormat, getLocaleDateFlatpickrConfig } from '../../util/localisationUtil';\nimport { useCallback, useEffect, useRef, useState } from 'preact/hooks';\nimport { useDeepCompareMemoize } from '../../../hooks';\n\nimport { InputAdorner } from './InputAdorner';\nimport { Label } from '../../Label';\n\nexport function Datepicker(props) {\n  const {\n    label,\n    domId,\n    collapseLabelOnEmpty,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    required,\n    disabled,\n    disallowPassedDates,\n    date: dateObject,\n    readonly,\n    setDate,\n  } = props;\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const dateInputRef = useRef();\n\n  /** @type {import(\"preact\").RefObject<HTMLElement>} */\n  const focusScopeRef = useRef();\n\n  const [flatpickrInstance, setFlatpickrInstance] = useState(null);\n  const [isInputDirty, setIsInputDirty] = useState(false);\n  const [forceFocusCalendar, setForceFocusCalendar] = useState(false);\n\n  // ensures we render based on date value instead of reference\n  const date = useDeepCompareMemoize(dateObject);\n\n  // shorts the date value back to the source\n  useEffect(() => {\n    if (!flatpickrInstance || !flatpickrInstance.config) return;\n\n    flatpickrInstance.setDate(date, true);\n    setIsInputDirty(false);\n  }, [flatpickrInstance, date]);\n\n  useEffect(() => {\n    if (!forceFocusCalendar) return;\n\n    focusRelevantFlatpickerDay(flatpickrInstance);\n    setForceFocusCalendar(false);\n  }, [flatpickrInstance, forceFocusCalendar]);\n\n  // setup flatpickr instance\n  useEffect(() => {\n    let config = {\n      allowInput: true,\n      dateFormat: getLocaleDateFlatpickrConfig(),\n      static: true,\n      clickOpens: false,\n\n      // TODO: support dates prior to 1900 (https://github.com/bpmn-io/form-js/issues/533)\n      minDate: disallowPassedDates ? 'today' : '01/01/1900',\n      errorHandler: () => {\n        /* do nothing, we expect the values to sometimes be erronous and we don't want warnings polluting the console */\n      },\n    };\n\n    const instance = flatpickr(dateInputRef.current, config);\n\n    setFlatpickrInstance(instance);\n\n    const onCalendarFocusOut = (e) => {\n      if (!instance.calendarContainer.contains(e.relatedTarget) && e.relatedTarget != dateInputRef.current) {\n        instance.close();\n      }\n    };\n\n    // remove dirty tag to have mouse day selection prioritize input blur\n    const onCalendarMouseDown = (e) => {\n      if (e.target.classList.contains('flatpickr-day')) {\n        setIsInputDirty(false);\n      }\n    };\n\n    // when the dropdown of the datepickr opens, we register a few event handlers to re-implement some of the\n    // flatpicker logic that was lost when setting allowInput to true\n    instance.config.onOpen = [\n      () => instance.calendarContainer.addEventListener('focusout', onCalendarFocusOut),\n      () => instance.calendarContainer.addEventListener('mousedown', onCalendarMouseDown),\n    ];\n\n    instance.config.onClose = [\n      () => instance.calendarContainer.removeEventListener('focusout', onCalendarFocusOut),\n      () => instance.calendarContainer.removeEventListener('mousedown', onCalendarMouseDown),\n    ];\n  }, [disallowPassedDates]);\n\n  // onChange is updated dynamically, so not to re-render the flatpicker every time it changes\n  useEffect(() => {\n    if (!flatpickrInstance || !flatpickrInstance.config) return;\n\n    flatpickrInstance.config.onChange = [(date) => setDate(new Date(date)), () => setIsInputDirty(false)];\n  }, [flatpickrInstance, setDate]);\n\n  const onInputKeyDown = useCallback(\n    (e) => {\n      if (!flatpickrInstance) return;\n\n      if (e.code === 'Escape') {\n        flatpickrInstance.close();\n      }\n\n      if (e.code === 'ArrowDown') {\n        if (isInputDirty) {\n          // trigger an enter keypress to submit the new input, then focus calendar day on the next render cycle\n          dateInputRef.current.dispatchEvent(ENTER_KEYDOWN_EVENT);\n          setIsInputDirty(false);\n          setForceFocusCalendar(true);\n        } else {\n          // focus calendar day immediately\n          focusRelevantFlatpickerDay(flatpickrInstance);\n        }\n\n        e.preventDefault();\n      }\n\n      if (e.code === 'Enter') {\n        setIsInputDirty(false);\n      }\n    },\n    [flatpickrInstance, isInputDirty],\n  );\n\n  const onInputFocus = useCallback(\n    (e) => {\n      if (!flatpickrInstance || focusScopeRef.current.contains(e.relatedTarget) || readonly) return;\n      flatpickrInstance.open();\n      onDateTimeFocus(e);\n    },\n    [flatpickrInstance, readonly, onDateTimeFocus],\n  );\n\n  // simulate an enter press on blur to make sure the date value is submitted in all scenarios\n  const onInputBlur = useCallback(\n    (e) => {\n      const isFalseBlur = e.relatedTarget && e.relatedTarget.classList.contains('flatpickr-day');\n      if (isFalseBlur) return;\n      if (isInputDirty) {\n        dateInputRef.current.dispatchEvent(ENTER_KEYDOWN_EVENT);\n        setIsInputDirty(false);\n      }\n\n      onDateTimeBlur(e);\n    },\n    [isInputDirty, onDateTimeBlur],\n  );\n\n  return (\n    <div class=\"fjs-datetime-subsection\">\n      <Label htmlFor={domId} label={label} collapseOnEmpty={collapseLabelOnEmpty} required={required} />\n      <InputAdorner\n        pre={<CalendarIcon />}\n        disabled={disabled}\n        readonly={readonly}\n        rootRef={focusScopeRef}\n        inputRef={dateInputRef}>\n        <div class=\"fjs-datepicker\" style={{ width: '100%' }}>\n          <input\n            ref={dateInputRef}\n            type=\"text\"\n            id={domId}\n            class=\"fjs-input\"\n            disabled={disabled}\n            readOnly={readonly}\n            placeholder={getLocaleReadableDateFormat()}\n            autoComplete=\"off\"\n            onFocus={onInputFocus}\n            onBlur={onInputBlur}\n            onKeyDown={onInputKeyDown}\n            onMouseDown={() => !flatpickrInstance.isOpen && !readonly && flatpickrInstance.open()}\n            onInput={() => setIsInputDirty(true)}\n            data-input\n            aria-describedby={props['aria-describedby']}\n          />\n        </div>\n      </InputAdorner>\n    </div>\n  );\n}\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\" viewBox=\"0 0 28 29\"><path fill=\"currentColor\" d=\"M13 14.41 18.59 20 20 18.59l-5-5.01V5h-2v9.41Z\"/><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M6.222 25.64A14 14 0 1 0 21.778 2.36 14 14 0 0 0 6.222 25.64ZM7.333 4.023a12 12 0 1 1 13.334 19.955A12 12 0 0 1 7.333 4.022Z\" clip-rule=\"evenodd\"/></svg>","import classNames from 'classnames';\nimport { useState, useEffect, useCallback, useRef, useMemo } from 'preact/hooks';\nimport { useKeyDownAction } from '../../../hooks/useKeyDownAction';\n\nconst DEFAULT_LABEL_GETTER = (value) => value;\nconst NOOP = () => {};\n\nexport function DropdownList(props) {\n  const {\n    listenerElement = window,\n    values = [],\n    getLabel = DEFAULT_LABEL_GETTER,\n    onValueSelected = NOOP,\n    height = 235,\n    emptyListMessage = 'No results',\n    initialFocusIndex = 0,\n  } = props;\n\n  const [mouseControl, setMouseControl] = useState(false);\n  const [focusedValueIndex, setFocusedValueIndex] = useState(initialFocusIndex);\n  const [smoothScrolling, setSmoothScrolling] = useState(false);\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const dropdownContainer = useRef();\n\n  /** @type {import(\"preact\").RefObject<{ x: number, y: number }>} */\n  const mouseScreenPos = useRef();\n\n  const focusedItem = useMemo(() => (values.length ? values[focusedValueIndex] : null), [focusedValueIndex, values]);\n\n  const changeFocusedValueIndex = useCallback(\n    (delta) => {\n      setFocusedValueIndex((x) => Math.min(Math.max(0, x + delta), values.length - 1));\n    },\n    [values.length],\n  );\n\n  useEffect(() => {\n    if (focusedValueIndex === 0) return;\n\n    if (!focusedValueIndex || !values.length) {\n      setFocusedValueIndex(0);\n    } else if (focusedValueIndex >= values.length) {\n      setFocusedValueIndex(values.length - 1);\n    }\n  }, [focusedValueIndex, values.length]);\n\n  useKeyDownAction(\n    'ArrowUp',\n    () => {\n      if (values.length) {\n        changeFocusedValueIndex(-1);\n        setMouseControl(false);\n      }\n    },\n    listenerElement,\n  );\n\n  useKeyDownAction(\n    'ArrowDown',\n    () => {\n      if (values.length) {\n        changeFocusedValueIndex(1);\n        setMouseControl(false);\n      }\n    },\n    listenerElement,\n  );\n\n  useKeyDownAction(\n    'Enter',\n    () => {\n      if (focusedItem) {\n        onValueSelected(focusedItem);\n      }\n    },\n    listenerElement,\n  );\n\n  useEffect(() => {\n    const individualEntries = dropdownContainer.current.children;\n    if (individualEntries.length && !mouseControl) {\n      const focusedEntry = individualEntries[focusedValueIndex];\n      focusedEntry && focusedEntry.scrollIntoView({ block: 'nearest', inline: 'nearest' });\n    }\n  }, [focusedValueIndex, mouseControl]);\n\n  useEffect(() => {\n    setSmoothScrolling(true);\n  }, []);\n\n  const onMouseMovedInKeyboardMode = (event, valueIndex) => {\n    const userMovedCursor =\n      !mouseScreenPos.current ||\n      (mouseScreenPos.current.x !== event.screenX && mouseScreenPos.current.y !== event.screenY);\n\n    if (userMovedCursor) {\n      mouseScreenPos.current = { x: event.screenX, y: event.screenY };\n      setMouseControl(true);\n      setFocusedValueIndex(valueIndex);\n    }\n  };\n\n  return (\n    <div\n      ref={dropdownContainer}\n      tabIndex={-1}\n      class=\"fjs-dropdownlist\"\n      onMouseDown={(e) => e.preventDefault()}\n      style={{ maxHeight: height, scrollBehavior: smoothScrolling ? 'smooth' : 'auto' }}>\n      {values.length > 0 &&\n        values.map((entry, index) => {\n          return (\n            <div\n              key={entry.value}\n              class={classNames('fjs-dropdownlist-item', { focused: focusedValueIndex === index })}\n              onMouseMove={mouseControl ? undefined : (e) => onMouseMovedInKeyboardMode(e, index)}\n              onMouseEnter={mouseControl ? () => setFocusedValueIndex(index) : undefined}\n              onMouseDown={(e) => onValueSelected(entry)}>\n              {getLabel(entry)}\n            </div>\n          );\n        })}\n      {!values.length && <div class=\"fjs-dropdownlist-empty\">{emptyListMessage}</div>}\n    </div>\n  );\n}\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { formatTime, parseInputTime } from '../../util/dateTimeUtil';\nimport { isNumber } from 'min-dash';\n\nimport ClockIcon from '../icons/Clock.svg';\nimport { DropdownList } from './DropdownList';\nimport { InputAdorner } from './InputAdorner';\nimport { Label } from '../../Label';\n\nexport function Timepicker(props) {\n  const {\n    label,\n    collapseLabelOnEmpty,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    domId,\n    required,\n    disabled,\n    readonly,\n    use24h = false,\n    timeInterval,\n    time,\n    setTime,\n  } = props;\n\n  const safeTimeInterval = useMemo(() => {\n    const allowedIntervals = [1, 5, 10, 15, 30, 60];\n\n    if (allowedIntervals.includes(timeInterval)) {\n      return timeInterval;\n    }\n\n    return 15;\n  }, [timeInterval]);\n\n  const timeInputRef = useRef();\n  const [dropdownIsOpen, setDropdownIsOpen] = useState(false);\n  const useDropdown = useMemo(() => safeTimeInterval !== 1, [safeTimeInterval]);\n\n  const [rawValue, setRawValue] = useState('');\n\n  // populates values from source\n  useEffect(() => {\n    if (time === null) {\n      setRawValue('');\n      return;\n    }\n\n    const intervalAdjustedTime = time - (time % safeTimeInterval);\n    setRawValue(formatTime(use24h, intervalAdjustedTime));\n\n    if (intervalAdjustedTime != time) {\n      setTime(intervalAdjustedTime);\n    }\n  }, [time, setTime, use24h, safeTimeInterval]);\n\n  const propagateRawToMinute = useCallback(\n    (newRawValue) => {\n      const localRawValue = newRawValue || rawValue;\n\n      // If no raw value exists, set the minute to null\n      if (!localRawValue) {\n        setTime(null);\n        return;\n      }\n\n      const minutes = parseInputTime(localRawValue);\n\n      // If raw string couldn't be parsed, clean everything up\n      if (!isNumber(minutes)) {\n        setRawValue('');\n        setTime(null);\n        return;\n      }\n\n      // Enforce the minutes to match the timeInterval\n      const correctedMinutes = minutes - (minutes % safeTimeInterval);\n\n      // Enforce the raw text to be formatted properly\n      setRawValue(formatTime(use24h, correctedMinutes));\n      setTime(correctedMinutes);\n    },\n    [rawValue, safeTimeInterval, use24h, setTime],\n  );\n\n  const timeOptions = useMemo(() => {\n    const minutesInDay = 24 * 60;\n    const intervalCount = Math.floor(minutesInDay / safeTimeInterval);\n    return [...Array(intervalCount).keys()].map((intervalIndex) =>\n      formatTime(use24h, intervalIndex * safeTimeInterval),\n    );\n  }, [safeTimeInterval, use24h]);\n\n  const initialFocusIndex = useMemo(() => {\n    // if there are no options, there will not be any focusing\n    if (!timeOptions || !safeTimeInterval) return null;\n\n    // if there is a set minute value, we focus it in the dropdown\n    if (time) return time / safeTimeInterval;\n\n    const cacheTime = parseInputTime(rawValue);\n\n    // if there is a valid value in the input cache, we try and focus close to it\n    if (cacheTime) {\n      const flooredCacheTime = cacheTime - (cacheTime % safeTimeInterval);\n      return flooredCacheTime / safeTimeInterval;\n    }\n\n    // If there is no set value, simply focus the middle of the dropdown (12:00)\n    return Math.floor(timeOptions.length / 2);\n  }, [rawValue, time, safeTimeInterval, timeOptions]);\n\n  const onInputKeyDown = (e) => {\n    switch (e.key) {\n      case 'ArrowUp':\n        e.preventDefault();\n        break;\n      case 'ArrowDown':\n        useDropdown && setDropdownIsOpen(true);\n        e.preventDefault();\n        break;\n      case 'Escape':\n        useDropdown && setDropdownIsOpen(false);\n        break;\n      case 'Enter':\n        !dropdownIsOpen && propagateRawToMinute();\n        break;\n    }\n  };\n\n  const onInputBlur = (e) => {\n    setDropdownIsOpen(false);\n    propagateRawToMinute();\n    onDateTimeBlur(e);\n  };\n\n  const onInputFocus = (e) => {\n    onDateTimeFocus(e);\n    !readonly && useDropdown && setDropdownIsOpen(true);\n  };\n\n  const onDropdownValueSelected = (value) => {\n    setDropdownIsOpen(false);\n    propagateRawToMinute(value);\n  };\n\n  return (\n    <div class=\"fjs-datetime-subsection\">\n      <Label htmlFor={domId} label={label} collapseOnEmpty={collapseLabelOnEmpty} required={required} />\n      <InputAdorner pre={<ClockIcon />} inputRef={timeInputRef} disabled={disabled} readonly={readonly}>\n        <div class=\"fjs-timepicker fjs-timepicker-anchor\">\n          <input\n            ref={timeInputRef}\n            type=\"text\"\n            id={domId}\n            class=\"fjs-input\"\n            value={rawValue}\n            disabled={disabled}\n            readOnly={readonly}\n            placeholder={use24h ? 'hh:mm' : 'hh:mm --'}\n            autoComplete=\"off\"\n            onInput={(e) => {\n              // @ts-expect-error\n              setRawValue(e.target.value);\n              useDropdown && setDropdownIsOpen(false);\n            }}\n            onBlur={onInputBlur}\n            onFocus={onInputFocus}\n            onClick={() => !readonly && useDropdown && setDropdownIsOpen(true)}\n            onKeyDown={onInputKeyDown}\n            data-input\n            aria-describedby={props['aria-describedby']}\n          />\n\n          {dropdownIsOpen && (\n            <DropdownList\n              values={timeOptions}\n              height={150}\n              onValueSelected={onDropdownValueSelected}\n              listenerElement={timeInputRef.current}\n              initialFocusIndex={initialFocusIndex}\n            />\n          )}\n        </div>\n      </InputAdorner>\n    </div>\n  );\n}\n","import { useCallback, useContext, useMemo, useState, useEffect, useRef } from 'preact/hooks';\nimport { DateTime as LuxonDateTime } from 'luxon';\n\nimport classNames from 'classnames';\n\nimport { set } from 'min-dash';\n\nimport { FormContext } from '../../context';\n\nimport { DATETIME_SUBTYPES, DATETIME_SUBTYPE_PATH, DATE_LABEL_PATH } from '../../../util/constants/DatetimeConstants';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Datepicker } from './parts/Datepicker';\nimport { Timepicker } from './parts/Timepicker';\n\nimport { formFieldClasses, prefixId } from '../Util';\nimport { sanitizeDateTimePickerValue } from '../util/sanitizerUtil';\nimport {\n  parseIsoTime,\n  serializeDate,\n  serializeDateTime,\n  serializeTime,\n  getNullDateTime,\n  isValidDate,\n  isValidTime,\n} from '../util/dateTimeUtil';\n\nconst type = 'datetime';\n\nexport function Datetime(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, onChange, readonly, value = '' } = props;\n\n  const {\n    description,\n    id,\n    dateLabel,\n    timeLabel,\n    validate = {},\n    subtype,\n    use24h,\n    disallowPassedDates,\n    timeInterval,\n    timeSerializingFormat,\n  } = field;\n\n  const { required } = validate;\n  const { formId } = useContext(FormContext);\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const dateTimeGroupRef = useRef();\n\n  const [dateTime, setDateTime] = useState(getNullDateTime());\n  const [dateTimeUpdateRequest, setDateTimeUpdateRequest] = useState(null);\n\n  const useDatePicker = useMemo(\n    () => subtype === DATETIME_SUBTYPES.DATE || subtype === DATETIME_SUBTYPES.DATETIME,\n    [subtype],\n  );\n  const useTimePicker = useMemo(\n    () => subtype === DATETIME_SUBTYPES.TIME || subtype === DATETIME_SUBTYPES.DATETIME,\n    [subtype],\n  );\n\n  const onDateTimeBlur = useCallback(\n    (e) => {\n      if (e.relatedTarget && dateTimeGroupRef.current.contains(e.relatedTarget)) {\n        return;\n      }\n\n      onBlur && onBlur();\n    },\n    [onBlur],\n  );\n\n  const onDateTimeFocus = useCallback(\n    (e) => {\n      if (e.relatedTarget && dateTimeGroupRef.current.contains(e.relatedTarget)) {\n        return;\n      }\n\n      onFocus && onFocus();\n    },\n    [onFocus],\n  );\n\n  useEffect(() => {\n    let { date, time } = getNullDateTime();\n\n    switch (subtype) {\n      case DATETIME_SUBTYPES.DATE: {\n        date = typeof value === 'string' ? LuxonDateTime.fromISO(value).toJSDate() : new Date(NaN);\n        break;\n      }\n      case DATETIME_SUBTYPES.TIME: {\n        time = parseIsoTime(value);\n        break;\n      }\n      case DATETIME_SUBTYPES.DATETIME: {\n        date = new Date(Date.parse(value));\n        time = isValidDate(date) ? 60 * date.getHours() + date.getMinutes() : null;\n        break;\n      }\n    }\n\n    setDateTime({ date, time });\n  }, [subtype, value]);\n\n  const computeAndSetState = useCallback(\n    ({ date, time }) => {\n      let newDateTimeValue = null;\n\n      if (subtype === DATETIME_SUBTYPES.DATE && isValidDate(date)) {\n        newDateTimeValue = serializeDate(date);\n      } else if (subtype === DATETIME_SUBTYPES.TIME && isValidTime(time)) {\n        newDateTimeValue = serializeTime(time, new Date().getTimezoneOffset(), timeSerializingFormat);\n      } else if (subtype === DATETIME_SUBTYPES.DATETIME && isValidDate(date) && isValidTime(time)) {\n        newDateTimeValue = serializeDateTime(date, time, timeSerializingFormat);\n      }\n\n      if (value === newDateTimeValue) {\n        return;\n      }\n\n      onChange({ value: newDateTimeValue, field });\n    },\n    [value, field, onChange, subtype, timeSerializingFormat],\n  );\n\n  useEffect(() => {\n    if (dateTimeUpdateRequest) {\n      if (dateTimeUpdateRequest.refreshOnly) {\n        computeAndSetState(dateTime);\n      } else {\n        const newDateTime = { ...dateTime, ...dateTimeUpdateRequest };\n        setDateTime(newDateTime);\n        computeAndSetState(newDateTime);\n      }\n      setDateTimeUpdateRequest(null);\n    }\n  }, [computeAndSetState, dateTime, dateTimeUpdateRequest]);\n\n  useEffect(() => {\n    setDateTimeUpdateRequest({ refreshOnly: true });\n  }, [timeSerializingFormat]);\n\n  const allErrors = useMemo(() => {\n    if (required || subtype !== DATETIME_SUBTYPES.DATETIME) return errors;\n    const isOnlyOneFieldSet =\n      (isValidDate(dateTime.date) && !isValidTime(dateTime.time)) ||\n      (!isValidDate(dateTime.date) && isValidTime(dateTime.time));\n    return isOnlyOneFieldSet ? ['Date and time must both be entered.', ...errors] : errors;\n  }, [required, subtype, dateTime, errors]);\n\n  const setDate = useCallback((date) => {\n    setDateTimeUpdateRequest((prev) => (prev ? { ...prev, date } : { date }));\n  }, []);\n\n  const setTime = useCallback((time) => {\n    setDateTimeUpdateRequest((prev) => (prev ? { ...prev, time } : { time }));\n  }, []);\n\n  const errorMessageId = allErrors.length === 0 ? undefined : `${prefixId(id, formId)}-error-message`;\n  const descriptionId = `${prefixId(id, formId)}-description`;\n\n  const datePickerProps = {\n    label: dateLabel,\n    collapseLabelOnEmpty: !timeLabel,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    domId: `${domId}-date`,\n    required,\n    disabled,\n    disallowPassedDates,\n    date: dateTime.date,\n    readonly,\n    setDate,\n    'aria-describedby': [descriptionId, errorMessageId].join(' '),\n  };\n\n  const timePickerProps = {\n    label: timeLabel,\n    collapseLabelOnEmpty: !dateLabel,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    domId: `${domId}-time`,\n    required,\n    disabled,\n    readonly,\n    use24h,\n    timeInterval,\n    time: dateTime.time,\n    setTime,\n    'aria-describedby': [descriptionId, errorMessageId].join(' '),\n  };\n\n  return (\n    <div class={formFieldClasses(type, { errors: allErrors, disabled, readonly })}>\n      <div class={classNames('fjs-vertical-group')} ref={dateTimeGroupRef}>\n        {useDatePicker && <Datepicker {...datePickerProps} />}\n        {useTimePicker && useDatePicker && <div class=\"fjs-datetime-separator\" />}\n        {useTimePicker && <Timepicker {...timePickerProps} />}\n      </div>\n      <Description id={descriptionId} description={description} />\n      <Errors errors={allErrors} id={errorMessageId} />\n    </div>\n  );\n}\n\nDatetime.config = {\n  type,\n  keyed: true,\n  name: 'Date time',\n  group: 'basic-input',\n  emptyValue: null,\n  sanitizeValue: sanitizeDateTimePickerValue,\n  create: (options = {}, isNewField) => {\n    const defaults = {};\n    set(defaults, DATETIME_SUBTYPE_PATH, DATETIME_SUBTYPES.DATE);\n\n    if (isNewField) {\n      set(defaults, DATE_LABEL_PATH, 'Date');\n    }\n\n    return { ...defaults, ...options };\n  },\n  getSubheading: (field) => {\n    return field.dateLabel || field.timeLabel;\n  },\n};\n","import classNames from 'classnames';\nimport { useContext } from 'preact/hooks';\nimport { FormRenderContext } from '../../context';\nimport { formFieldClasses } from '../Util';\nimport { Label } from '../Label';\nimport { ChildrenRenderer } from './parts/ChildrenRenderer';\n\nexport function Group(props) {\n  const { field, domId } = props;\n  const { label, type, showOutline } = field;\n  const { Empty } = useContext(FormRenderContext);\n\n  const fullProps = { ...props, Empty };\n\n  return (\n    <div\n      className={classNames(formFieldClasses(type), 'fjs-form-field-grouplike', { 'fjs-outlined': showOutline })}\n      role=\"group\"\n      aria-labelledby={domId}>\n      <Label id={domId} label={label} />\n      <ChildrenRenderer {...fullProps} />\n    </div>\n  );\n}\n\nGroup.config = {\n  type: 'group',\n  pathed: true,\n  name: 'Group',\n  group: 'container',\n  create: (options = {}) => ({\n    label: 'Group',\n    components: [],\n    showOutline: true,\n    ...options,\n  }),\n};\n","import { useEffect, useMemo, useState } from 'preact/hooks';\n\nimport { useSingleLineTemplateEvaluation, useSecurityAttributesMap } from '../../hooks';\nimport { sanitizeIFrameSource } from '../util/sanitizerUtil';\n\nimport { Label } from '../Label';\n\nimport { formFieldClasses } from '../Util';\n\nconst type = 'iframe';\n\nconst DEFAULT_HEIGHT = 300;\n\nexport function IFrame(props) {\n  const { field, disabled, readonly, domId } = props;\n\n  const { height = DEFAULT_HEIGHT, label, url, security = {} } = field;\n\n  const evaluatedUrl = useSingleLineTemplateEvaluation(url, { debug: true });\n\n  const safeUrl = useMemo(() => sanitizeIFrameSource(evaluatedUrl), [evaluatedUrl]);\n\n  const evaluatedLabel = useSingleLineTemplateEvaluation(label, { debug: true });\n\n  const [sandbox, allow] = useSecurityAttributesMap(security);\n  const [iframeRefresh, setIframeRefresh] = useState(0);\n\n  // forces re-render of iframe when sandbox or allow attributes change, as browsers do not do it automatically\n  useEffect(() => {\n    setIframeRefresh((count) => count + 1);\n  }, [sandbox, allow]);\n\n  return (\n    <div class={formFieldClasses(type, { disabled, readonly })}>\n      <Label htmlFor={domId} label={evaluatedLabel} />\n      {!evaluatedUrl && <IFramePlaceholder text=\"No content to show.\" />}\n      {evaluatedUrl && safeUrl && (\n        <iframe\n          src={safeUrl}\n          title={evaluatedLabel}\n          height={height}\n          class=\"fjs-iframe\"\n          id={domId}\n          sandbox={sandbox}\n          key={'iframe-' + iframeRefresh}\n          /* @Note: JSX HTML attributes do not include <allow> */\n          {...{ allow }}\n        />\n      )}\n      {evaluatedUrl && !safeUrl && <IFramePlaceholder text=\"External content couldn't be loaded.\" />}\n    </div>\n  );\n}\n\nfunction IFramePlaceholder(props) {\n  const { text = 'iFrame' } = props;\n\n  return (\n    <div class=\"fjs-iframe-placeholder\">\n      <p class=\"fjs-iframe-placeholder-text\">{text}</p>\n    </div>\n  );\n}\n\nIFrame.config = {\n  type,\n  keyed: false,\n  name: 'iFrame',\n  group: 'container',\n  create: (options = {}) => ({\n    label: 'iFrame',\n    security: {\n      allowScripts: true,\n    },\n    ...options,\n  }),\n};\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 17a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V20a3 3 0 0 1 3-3h36zm-9 8.889H18v2.222h18v-2.222z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path d=\"M34 18H20a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V20a2 2 0 0 0-2-2zm-9 14-5-5 1.41-1.41L25 29.17l7.59-7.59L34 23l-9 9z\"/></svg>","<svg width=\"54\" height=\"54\" viewBox=\"0 0 54 54\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.35 24.75H19V29.4H14.35V24.75ZM12.9358 23.3358C13.3109 22.9607 13.8196 22.75 14.35 22.75H19C19.5304 22.75 20.0391 22.9607 20.4142 23.3358C20.7893 23.7109 21 24.2196 21 24.75V29.4C21 29.9304 20.7893 30.4391 20.4142 30.8142C20.0391 31.1893 19.5304 31.4 19 31.4H14.35C13.8196 31.4 13.3109 31.1893 12.9358 30.8142C12.5607 30.4391 12.35 29.9304 12.35 29.4V24.75C12.35 24.2196 12.5607 23.7109 12.9358 23.3358ZM14.35 37.05H19V41.7H14.35V37.05ZM12.9358 35.6358C13.3109 35.2607 13.8196 35.05 14.35 35.05H19C19.5304 35.05 20.0391 35.2607 20.4142 35.6358C20.7893 36.0109 21 36.5196 21 37.05V41.7C21 42.2304 20.7893 42.7391 20.4142 43.1142C20.0391 43.4893 19.5304 43.7 19 43.7H14.35C13.8196 43.7 13.3109 43.4893 12.9358 43.1142C12.5607 42.7391 12.35 42.2304 12.35 41.7V37.05C12.35 36.5196 12.5607 36.0109 12.9358 35.6358ZM14.35 12.45H19V17.1H14.35V12.45ZM12.9358 11.0358C13.3109 10.6607 13.8196 10.45 14.35 10.45H19C19.5304 10.45 20.0391 10.6607 20.4142 11.0358C20.7893 11.4109 21 11.9196 21 12.45V17.1C21 17.6304 20.7893 18.1391 20.4142 18.5142C20.0391 18.8893 19.5304 19.1 19 19.1H14.35C13.8196 19.1 13.3109 18.8893 12.9358 18.5142C12.5607 18.1391 12.35 17.6304 12.35 17.1V12.45C12.35 11.9196 12.5607 11.4109 12.9358 11.0358ZM24.9429 26.0128C24.7554 26.2004 24.65 26.4547 24.65 26.7199V27.3699C24.65 27.6352 24.7554 27.8895 24.9429 28.077C25.1304 28.2646 25.3848 28.3699 25.65 28.3699H40.65C40.9152 28.3699 41.1696 28.2646 41.3571 28.077C41.5446 27.8895 41.65 27.6352 41.65 27.3699V26.7199C41.65 26.4547 41.5446 26.2004 41.3571 26.0128C41.1696 25.8253 40.9152 25.7199 40.65 25.7199H25.65C25.3848 25.7199 25.1304 25.8253 24.9429 26.0128ZM24.9429 38.3128C24.7554 38.5004 24.65 38.7547 24.65 39.0199V39.6699C24.65 39.9352 24.7554 40.1895 24.9429 40.377C25.1304 40.5646 25.3848 40.6699 25.65 40.6699H40.65C40.9152 40.6699 41.1696 40.5646 41.3571 40.377C41.5446 40.1895 41.65 39.9352 41.65 39.6699V39.0199C41.65 38.7547 41.5446 38.5004 41.3571 38.3128C41.1696 38.1253 40.9152 38.0199 40.65 38.0199H25.65C25.3848 38.0199 25.1304 38.1253 24.9429 38.3128ZM24.9429 13.7128C24.7554 13.9004 24.65 14.1547 24.65 14.4199V15.0699C24.65 15.3352 24.7554 15.5895 24.9429 15.777C25.1304 15.9646 25.3848 16.0699 25.65 16.0699H40.65C40.9152 16.0699 41.1696 15.9646 41.3571 15.777C41.5446 15.5895 41.65 15.3352 41.65 15.0699V14.4199C41.65 14.1547 41.5446 13.9004 41.3571 13.7128C41.1696 13.5253 40.9152 13.4199 40.65 13.4199H25.65C25.3848 13.4199 25.1304 13.5253 24.9429 13.7128Z\" fill=\"currentColor\"/>\n</svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M37.908 13.418h-5.004v-2.354h-1.766v2.354H21.13v-2.354h-1.766v2.354H14.36a2.07 2.07 0 0 0-2.06 2.06v23.549a2.07 2.07 0 0 0 2.06 2.06h6.77v-1.766h-6.358a.707.707 0 0 1-.706-.706V15.89c0-.39.316-.707.706-.707h4.592v2.355h1.766v-2.355h10.008v2.355h1.766v-2.355h4.592a.71.71 0 0 1 .707.707v6.358h1.765v-6.77c0-1.133-.927-2.06-2.06-2.06z\"/><path d=\"m35.13 37.603 1.237-1.237-3.468-3.475v-5.926h-1.754v6.654l3.984 3.984Z\"/><path fill-rule=\"evenodd\" d=\"M23.08 36.962a9.678 9.678 0 1 0 17.883-7.408 9.678 9.678 0 0 0-17.882 7.408Zm4.54-10.292a7.924 7.924 0 1 1 8.805 13.177A7.924 7.924 0 0 1 27.62 26.67Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36Zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1Z\"/><path d=\"M11 22a1 1 0 0 1 1-1h19a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H12a1 1 0 0 1-1-1V22Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\"><rect width=\"24\" height=\"4\" x=\"15\" y=\"17\" rx=\"1\"/><rect width=\"24\" height=\"4\" x=\"15\" y=\"25\" rx=\"1\"/><rect width=\"13\" height=\"4\" x=\"15\" y=\"33\" rx=\"1\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M4.05 42.132v1.164c0 .693.604 1.254 1.35 1.254h1.35v-2.507h-2.7v.09Zm0-2.328h2.7v-2.328h-2.7v2.328Zm0-4.656h2.7V32.82h-2.7v2.328Zm0-4.656h2.7v-2.328h-2.7v2.328Zm0-4.656h2.7v-2.328h-2.7v2.328Zm0-4.656h2.7v-2.328h-2.7v2.328Zm0-4.656h2.7v-2.328h-2.7v2.328Zm0-4.656v.09h2.7V9.45H5.4c-.746 0-1.35.561-1.35 1.254v1.164Zm5.4-2.418v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V10.704c0-.693-.604-1.254-1.35-1.254h-1.35Zm2.7 4.746h-2.7v2.328h2.7v-2.328Zm0 4.656h-2.7v2.328h2.7v-2.328Zm0 4.656h-2.7v2.328h2.7v-2.328Zm0 4.656h-2.7v2.328h2.7v-2.328Zm0 4.656h-2.7v2.328h2.7V32.82Zm0 4.656h-2.7v2.328h2.7v-2.328Zm0 4.656v-.09h-2.7v2.508h1.35c.746 0 1.35-.561 1.35-1.254v-1.164Zm-5.4 2.418v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Z\" clip-rule=\"evenodd\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1zM35 28.444h7l-3.5 4-3.5-4zM35 26h7l-3.5-4-3.5 4z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path d=\"M27 22c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0 18a8 8 0 1 1 0-16 8 8 0 1 1 0 16z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1zm-12 7h9l-4.5 6-4.5-6z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"currentColor\" d=\"M26.293 16.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 18.414l-3.293 3.293a1 1 0 0 1-1.414-1.414l4-4ZM9 26h36v2H9v-2ZM22.293 33.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 35.586l-3.293-3.293a1 1 0 0 0-1.414 1.414Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"currentColor\" d=\"M9 15v2h36v-2H9ZM9 37v2h36v-2H9ZM26.293 19.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 21.414l-3.293 3.293a1 1 0 0 1-1.414-1.414l4-4ZM22.293 30.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 32.586l-3.293-3.293a1 1 0 0 0-1.414 1.414Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M2.7 43.296v1.254c0 .746.604 1.35 1.35 1.35h1.275v-1.795c.049.14.075.29.075.445v-1.254h-.075V43.2H4.05c.177 0 .347.034.502.096H2.7Zm2.7-2.507v-2.507H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507h2.7Zm0-5.015V23.24H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507h2.7Zm0-5.014V13.21H2.7v2.507h2.7Zm-2.7-5.014h1.852a1.346 1.346 0 0 1-.502.096h1.275v-.096H5.4V9.45c0 .156-.026.306-.075.445V8.1H4.05A1.35 1.35 0 0 0 2.7 9.45v1.254Zm5.175.096h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1-2.7v1.795a1.348 1.348 0 0 1-.075-.445v1.254h.075v.096h1.275c-.177 0-.347-.034-.502-.096H51.3V9.45a1.35 1.35 0 0 0-1.35-1.35h-1.275Zm-.075 5.11v2.508h2.7V13.21h-2.7Zm0 5.015v2.507h2.7v-2.507h-2.7Zm0 5.014v2.507h2.7V23.24h-2.7Zm0 5.015v2.507h2.7v-2.507h-2.7Zm0 5.014v2.507h2.7v-2.507h-2.7Zm0 5.014v2.507h2.7v-2.507h-2.7Zm2.7 5.014h-1.852c.155-.062.325-.096.502-.096h-1.275v.096H48.6v1.254c0-.156.026-.305.075-.445V45.9h1.275a1.35 1.35 0 0 0 1.35-1.35v-1.254Zm-5.175-.096h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7ZM16.2 17.55a4.05 4.05 0 0 1 4.05 4.05v1.35A4.05 4.05 0 0 1 16.2 27h-1.35a4.05 4.05 0 0 1-4.05-4.05V21.6a4.05 4.05 0 0 1 4.05-4.05h1.35Zm0 2.7h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35c0 .746.604 1.35 1.35 1.35h1.35a1.35 1.35 0 0 0 1.35-1.35V21.6a1.35 1.35 0 0 0-1.35-1.35Zm27 1.35a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35A4.05 4.05 0 0 0 29.7 27h9.45a4.05 4.05 0 0 0 4.05-4.05V21.6Zm-13.5-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35a1.35 1.35 0 0 1-1.35 1.35H29.7a1.35 1.35 0 0 1-1.35-1.35V21.6c0-.746.604-1.35 1.35-1.35ZM43.2 37.8a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35h2.7V37.8c0-.746.604-1.35 1.35-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35h2.7V37.8Zm-27-4.05a4.05 4.05 0 0 1 4.05 4.05v1.35h-2.7V37.8a1.35 1.35 0 0 0-1.35-1.35h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35h-2.7V37.8a4.05 4.05 0 0 1 4.05-4.05h1.35Z\" clip-rule=\"evenodd\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path d=\"M20.58 33.77h-3l-1.18-3.08H11l-1.1 3.08H7l5.27-13.54h2.89zm-5-5.36-1.86-5-1.83 5zM22 20.23h5.41a15.47 15.47 0 0 1 2.4.14 3.42 3.42 0 0 1 1.41.55 3.47 3.47 0 0 1 1 1.14 3 3 0 0 1 .42 1.58 3.26 3.26 0 0 1-1.91 2.94 3.63 3.63 0 0 1 1.91 1.22 3.28 3.28 0 0 1 .66 2 4 4 0 0 1-.43 1.8 3.63 3.63 0 0 1-1.09 1.4 3.89 3.89 0 0 1-1.83.65q-.69.07-3.3.09H22zm2.73 2.25v3.13h3.8a1.79 1.79 0 0 0 1.1-.49 1.41 1.41 0 0 0 .41-1 1.49 1.49 0 0 0-.35-1 1.54 1.54 0 0 0-1-.48c-.27 0-1.05-.05-2.34-.05zm0 5.39v3.62h2.57a11.52 11.52 0 0 0 1.88-.09 1.65 1.65 0 0 0 1-.54 1.6 1.6 0 0 0 .38-1.14 1.75 1.75 0 0 0-.29-1 1.69 1.69 0 0 0-.86-.62 9.28 9.28 0 0 0-2.41-.23zm19.62.92 2.65.84a5.94 5.94 0 0 1-2 3.29A5.74 5.74 0 0 1 41.38 34a5.87 5.87 0 0 1-4.44-1.84 7.09 7.09 0 0 1-1.73-5A7.43 7.43 0 0 1 37 21.87 6 6 0 0 1 41.54 20a5.64 5.64 0 0 1 4 1.47A5.33 5.33 0 0 1 47 24l-2.7.65a2.8 2.8 0 0 0-2.86-2.27A3.09 3.09 0 0 0 39 23.42a5.31 5.31 0 0 0-.93 3.5 5.62 5.62 0 0 0 .93 3.65 3 3 0 0 0 2.4 1.09 2.72 2.72 0 0 0 1.82-.66 4 4 0 0 0 1.13-2.21z\"/></svg>","<svg width=\"54\" height=\"54\" viewBox=\"0 0 54 54\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M47.0082 12.15C48.6329 12.15 49.95 13.5106 49.95 15.189V38.811C49.95 40.4894 48.6329 41.85 47.0082 41.85H6.99194C5.36718 41.85 4.05005 40.4894 4.05005 38.811V15.189C4.05005 13.5106 5.36718 12.15 6.99194 12.15H47.0082ZM47.0082 14.176H6.99194C6.45035 14.176 6.01131 14.6295 6.01131 15.189V16.2H6.00755V18.9H6.01131V38.811C6.01131 39.3705 6.45035 39.824 6.99194 39.824H47.0082C47.5498 39.824 47.9888 39.3705 47.9888 38.811V18.9H47.9925V16.2H47.9888V15.189C47.9888 14.6295 47.5498 14.176 47.0082 14.176ZM14.9344 26.055V22.275H17.1282V31.725H14.9344V27.945H11.6438V31.725H9.45005V22.275H11.6438V26.055H14.9344ZM19.3219 24.165H21.5157V31.725H23.7094V24.165H25.9032V22.275H19.3219V24.165ZM33.5813 22.275H35.775V31.725H33.5813V25.11L31.936 28.89L30.2907 25.11V31.725H28.0969V22.275H30.2907L31.936 26.055L33.5813 22.275ZM37.9688 22.275H40.1625V29.835H44.55V31.725H37.9688V22.275Z\" fill=\"currentColor\"/>\n</svg>\n","<svg width=\"54\" height=\"54\" viewBox=\"0 0 54 54\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.78 16.2V22.95C12.78 24.5689 12.1447 26.0086 11.1621 27C12.1447 27.9914 12.78 29.4311 12.78 31.05V37.8H16.29V40.5H12.78C11.4912 40.5 10.44 39.2871 10.44 37.8V31.05C10.44 29.5629 9.38883 28.35 8.10001 28.35V25.65C9.38883 25.65 10.44 24.4371 10.44 22.95V16.2C10.44 14.7129 11.4912 13.5 12.78 13.5H16.29V16.2H12.78ZM43.56 16.2V22.95C43.56 24.4371 44.6112 25.65 45.9 25.65V28.35C44.6112 28.35 43.56 29.5629 43.56 31.05V37.8C43.56 39.2871 42.5088 40.5 41.22 40.5H37.71V37.8H41.22V31.05C41.22 29.4311 41.8553 27.9914 42.8379 27C41.8553 26.0086 41.22 24.5689 41.22 22.95V16.2H37.71V13.5H41.22C42.5088 13.5 43.56 14.7129 43.56 16.2ZM21.8005 34.5313C22.2674 34.1521 22.5869 33.5662 22.7589 32.7734L24.5467 24.4321H26.1317L26.5187 22.6053H24.9337L25.3392 20.7268H26.9242L27.3113 18.9H25.6894C24.8416 18.9 24.1842 19.0896 23.7173 19.4687C23.2627 19.8479 22.9494 20.4338 22.7774 21.2266L22.4825 22.6053H21.3398L20.9527 24.4321H22.0954L20.1971 33.2732H18.612L18.225 35.1H19.8469C20.6947 35.1 21.3459 34.9104 21.8005 34.5313ZM29.0479 26.8449L25.2512 31.6532H27.8499L29.9694 28.6372H30.1906L31.0752 31.6532H33.6739L31.9967 27.293L35.775 22.6053H33.1763L31.0568 25.5523H30.8356L29.951 22.6053H27.3523L29.0479 26.8449Z\" fill=\"currentcolor\"/>\r\n</svg>\r\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1zm-32 4v10h-2V22h2z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 13a3 3 0 0 1 3 3v22a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V16a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v22a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V16a1 1 0 0 0-1-1zm-1.136 15.5.849.849-6.364 6.364-.849-.849 6.364-6.364zm.264 3.5.849.849-2.828 2.828-.849-.849L44.128 34zM13 19v10h-2V19h2z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M45.658 9.45c1.625 0 2.942 1.36 2.942 3.039V22.95h-1.961v-4.383H7.36V41.51c0 .56.44 1.013.98 1.013H27v2.026H8.342c-1.625 0-2.942-1.36-2.942-3.039V12.489c0-1.678 1.317-3.039 2.942-3.039h37.316Zm0 2.026H8.342c-.542 0-.98.454-.98 1.013v4.052h39.277v-4.052c0-.56-.44-1.013-.98-1.013ZM31.05 35.775A8.768 8.768 0 0 1 39.825 27a8.768 8.768 0 0 1 8.775 8.775 8.768 8.768 0 0 1-8.775 8.775 8.768 8.768 0 0 1-8.775-8.775Zm12.388-.516h3.097c-.206-2.581-1.858-4.646-4.026-5.678.62 1.548.93 3.613.93 5.678Zm-5.162 2.065c.207 3.303 1.136 4.955 1.549 5.161.413-.206 1.239-1.858 1.445-5.161h-2.994Zm1.446-8.26c-.31.207-1.342 2.272-1.446 6.195h2.994c-.103-3.923-1.135-5.988-1.548-6.194Zm-3.51 6.195c.103-2.065.31-4.13.929-5.678-2.168 1.032-3.82 3.097-4.026 5.678h3.097Zm0 2.065h-2.89c.515 2.064 1.96 3.82 3.819 4.645-.516-1.342-.826-2.994-.93-4.645Zm7.226 0c-.103 1.755-.413 3.303-.929 4.645 1.858-.826 3.304-2.58 3.923-4.645h-2.994Z\" clip-rule=\"evenodd\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M34.636 21.91A3.818 3.818 0 1 1 27 21.908a3.818 3.818 0 0 1 7.636 0Zm-2 0A1.818 1.818 0 1 1 29 21.908a1.818 1.818 0 0 1 3.636 0Z\" clip-rule=\"evenodd\"/><path fill-rule=\"evenodd\" d=\"M15 13a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V15a2 2 0 0 0-2-2H15Zm24 2H15v12.45l4.71-4.709a1.91 1.91 0 0 1 2.702 0l6.695 6.695 2.656-1.77a1.91 1.91 0 0 1 2.411.239L39 32.73V15ZM15 39v-8.754c.06-.038.116-.083.168-.135l5.893-5.893 6.684 6.685a1.911 1.911 0 0 0 2.41.238l2.657-1.77 6.02 6.02c.052.051.108.097.168.135V39H15Z\" clip-rule=\"evenodd\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 54 54\"><path fill=\"currentcolor\" fill-rule=\"evenodd\" d=\"M42.545479 12.272741C43.901087 12.272741 45 13.371687 45 14.727295v24.545443c0 1.355609-1.098913 2.454521-2.454521 2.454521H11.454554C10.098946 41.727259 9 40.628347 9 39.272738V14.727295c0-1.355608 1.098946-2.454554 2.454554-2.454554zM27.818242 40.090875h14.727237c.451869 0 .818137-.366267.818137-.818137v-4.909042H27.818242Zm-1.636385-5.727179v5.727179H11.454554c-.451869 0-.818192-.366267-.818192-.818137v-4.909042zm1.636385-1.636385h15.545374v-5.727289H27.818242Zm-1.636385-5.727289v5.727289H10.636362v-5.727289zm1.636385-1.636384h15.545374v-5.72729H27.818242Zm-1.636385-5.72729v5.72729H10.636362v-5.72729z\" clip-rule=\"evenodd\"/></svg>\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"currentcolor\" fill-rule=\"evenodd\" d=\"M17.55 41.175H27v2.362h-9.45a2.37 2.37 0 0 1-2.363-2.362v-28.35a2.37 2.37 0 0 1 2.363-2.363h11.813a1.074 1.074 0 0 1 .826.355l8.27 8.269a1.074 1.074 0 0 1 .353.826v5.907H36.45v-3.544h-7.088A2.37 2.37 0 0 1 27 19.912v-7.087h-9.45v28.35Zm18.427-21.263-6.614-6.615v6.615h6.614Zm4.253 18.664 3.308 3.308-1.654 1.653-3.308-3.307a6.35 6.35 0 0 1-3.307.945c-3.308 0-5.906-2.599-5.906-5.906 0-3.308 2.598-5.907 5.906-5.907 3.307 0 5.906 2.6 5.906 5.907a6.35 6.35 0 0 1-.945 3.307Zm-4.961-6.851c-2.008 0-3.544 1.536-3.544 3.544s1.536 3.543 3.544 3.543 3.544-1.535 3.544-3.543-1.536-3.544-3.544-3.544Z\" clip-rule=\"evenodd\"/></svg>","<svg width=\"54\" height=\"54\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" fill=\"currentcolor\" clip-rule=\"evenodd\" d=\"M17.55 41.175h6.75v2.363h-6.75a2.369 2.369 0 0 1-2.363-2.363v-28.35a2.369 2.369 0 0 1 2.363-2.362h11.813a1.073 1.073 0 0 1 .826.354l8.27 8.269a1.073 1.073 0 0 1 .353.827v7.256H36.45v-4.894h-7.088A2.369 2.369 0 0 1 27 19.913v-7.088h-9.45v28.35Zm18.427-21.262-6.614-6.616v6.616h6.614Zm-2.212 10.564-.015-.001h-.015a8.856 8.856 0 0 0-7.926 5.656l-.003.008a.912.912 0 0 0 0 .62l.003.008a8.854 8.854 0 0 0 7.926 5.655l.015.001h.015a8.856 8.856 0 0 0 7.926-5.656l.003-.008a.911.911 0 0 0 0-.62l-.003-.008a8.854 8.854 0 0 0-7.926-5.655ZM33.75 40.6c-2.456 0-5.088-1.802-6.107-4.151 1.019-2.349 3.651-4.151 6.107-4.151 2.456 0 5.088 1.802 6.107 4.151-1.019 2.349-3.65 4.151-6.107 4.151Zm0-7.593a3.443 3.443 0 1 0 0 6.885 3.443 3.443 0 0 0 0-6.886Zm-.316 1.853a1.62 1.62 0 1 1 .632 3.178 1.62 1.62 0 0 1-.632-3.178Z\" /></svg>\n","import ButtonIcon from './Button.svg';\nimport CheckboxIcon from './Checkbox.svg';\nimport ChecklistIcon from './Checklist.svg';\nimport DatetimeIcon from './Datetime.svg';\nimport TaglistIcon from './Taglist.svg';\nimport FormIcon from './Form.svg';\nimport ColumnsIcon from './Group.svg';\nimport NumberIcon from './Number.svg';\nimport RadioIcon from './Radio.svg';\nimport SelectIcon from './Select.svg';\nimport SeparatorIcon from './Separator.svg';\nimport SpacerIcon from './Spacer.svg';\nimport DynamicListIcon from './DynamicList.svg';\nimport TextIcon from './Text.svg';\nimport HTMLIcon from './HTML.svg';\nimport ExpressionFieldIcon from './ExpressionField.svg';\nimport TextfieldIcon from './Textfield.svg';\nimport TextareaIcon from './Textarea.svg';\nimport IFrameIcon from './IFrame.svg';\nimport ImageIcon from './Image.svg';\nimport GroupIcon from './Group.svg';\nimport TableIcon from './Table.svg';\nimport FilePickerIcon from './FilePicker.svg';\nimport DocumentPreviewIcon from './DocumentPreview.svg';\n\nexport const iconsByType = (type) => {\n  return {\n    button: ButtonIcon,\n    checkbox: CheckboxIcon,\n    checklist: ChecklistIcon,\n    columns: ColumnsIcon,\n    datetime: DatetimeIcon,\n    group: GroupIcon,\n    iframe: IFrameIcon,\n    image: ImageIcon,\n    number: NumberIcon,\n    expression: ExpressionFieldIcon,\n    radio: RadioIcon,\n    select: SelectIcon,\n    separator: SeparatorIcon,\n    spacer: SpacerIcon,\n    dynamiclist: DynamicListIcon,\n    taglist: TaglistIcon,\n    text: TextIcon,\n    html: HTMLIcon,\n    textfield: TextfieldIcon,\n    textarea: TextareaIcon,\n    table: TableIcon,\n    filepicker: FilePickerIcon,\n    documentPreview: DocumentPreviewIcon,\n    default: FormIcon,\n  }[type];\n};\n","import { useContext, useMemo } from 'preact/hooks';\n\nimport { FormContext } from '../../context';\n\nimport { iconsByType } from '../icons';\n\nimport { useSingleLineTemplateEvaluation } from '../../hooks';\nimport { sanitizeImageSource } from '../util/sanitizerUtil';\n\nimport { formFieldClasses, prefixId } from '../Util';\n\nconst type = 'image';\n\nexport function Image(props) {\n  const { field } = props;\n\n  const { alt, id, source } = field;\n\n  const Icon = iconsByType(field.type);\n\n  const evaluatedImageSource = useSingleLineTemplateEvaluation(source, { debug: true });\n\n  const safeSource = useMemo(() => sanitizeImageSource(evaluatedImageSource), [evaluatedImageSource]);\n\n  const altText = useSingleLineTemplateEvaluation(alt, { debug: true });\n\n  const { formId } = useContext(FormContext);\n\n  return (\n    <div class={formFieldClasses(type)}>\n      {safeSource && (\n        <div class=\"fjs-image-container\">\n          <img alt={altText} src={safeSource} class=\"fjs-image\" id={prefixId(id, formId)} />\n        </div>\n      )}\n      {!safeSource && (\n        <div class=\"fjs-image-placeholder\">\n          <span class=\"fjs-image-placeholder-inner\">\n            <Icon alt=\"This is an image placeholder\" width=\"32\" height=\"32\" viewBox=\"0 0 56 56\" />\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n\nImage.config = {\n  type,\n  keyed: false,\n  name: 'Image view',\n  group: 'presentation',\n  create: (options = {}) => options,\n  getSubheading: (field) => field.alt,\n};\n","import { InputAdorner } from './InputAdorner';\n\nimport { useSingleLineTemplateEvaluation } from '../../../hooks';\n\nexport function TemplatedInputAdorner(props) {\n  const { pre, post } = props;\n\n  const evaluatedPre = useSingleLineTemplateEvaluation(pre, { debug: true });\n  const evaluatedPost = useSingleLineTemplateEvaluation(post, { debug: true });\n\n  return <InputAdorner {...props} pre={evaluatedPre} post={evaluatedPost} />;\n}\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\"><path fill=\"currentColor\" fill-rule=\"evenodd\" stroke=\"currentColor\" stroke-width=\".5\" d=\"M7.75 1.336 4 6.125.258 1.335 0 1.54l4 5.125L8 1.54Zm0 0\" clip-rule=\"evenodd\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\"><path fill=\"currentColor\" fill-rule=\"evenodd\" stroke=\"currentColor\" stroke-width=\".5\" d=\"M7.75 6.664 4 1.875.258 6.665 0 6.46l4-5.125L8 6.46Zm0 0\" clip-rule=\"evenodd\"/></svg>","import Big from 'big.js';\n\nexport function countDecimals(number) {\n  const num = Big(number);\n  if (num.toString() === num.toFixed(0)) return 0;\n  return num.toFixed().split('.')[1].length || 0;\n}\n\nexport function isValidNumber(value) {\n  return (typeof value === 'number' || typeof value === 'string') && value !== '' && !isNaN(Number(value));\n}\n\nexport function willKeyProduceValidNumber(key, previousValue, caretIndex, selectionWidth, decimalDigits) {\n  if (previousValue === 'NaN') {\n    return false;\n  }\n\n  // Dot and comma are both treated as dot\n  previousValue = previousValue.replace(',', '.');\n  const isFirstDot = !previousValue.includes('.') && (key === '.' || key === ',');\n  const isFirstMinus = !previousValue.includes('-') && key === '-' && caretIndex === 0;\n\n  const keypressIsNumeric = /^[0-9]$/i.test(key);\n  const dotIndex = previousValue === undefined ? -1 : previousValue.indexOf('.');\n\n  // If the caret is positioned after a dot, and the current decimal digits count is equal or greater to the maximum, disallow the key press\n  const overflowsDecimalSpace =\n    typeof decimalDigits === 'number' &&\n    selectionWidth === 0 &&\n    dotIndex !== -1 &&\n    previousValue.includes('.') &&\n    previousValue.split('.')[1].length >= decimalDigits &&\n    caretIndex > dotIndex;\n\n  const keypressIsAllowedChar = keypressIsNumeric || (decimalDigits !== 0 && isFirstDot) || isFirstMinus;\n\n  return keypressIsAllowedChar && !overflowsDecimalSpace;\n}\n\nexport function isNullEquivalentValue(value) {\n  return value === undefined || value === null || value === '';\n}\n","import Big from 'big.js';\nimport classNames from 'classnames';\nimport { useCallback, useMemo, useRef, useState } from 'preact/hooks';\nimport { useFlushDebounce, usePrevious } from '../../hooks';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\nimport { TemplatedInputAdorner } from './parts/TemplatedInputAdorner';\n\nimport AngelDownIcon from './icons/AngelDown.svg';\nimport AngelUpIcon from './icons/AngelUp.svg';\n\nimport { formFieldClasses } from '../Util';\n\nimport { isNullEquivalentValue, isValidNumber, willKeyProduceValidNumber } from '../util/numberFieldUtil';\n\nconst type = 'number';\n\nexport function Numberfield(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, value, readonly } = props;\n\n  const { description, label, appearance = {}, validate = {}, decimalDigits, increment: incrementValue } = field;\n\n  const { prefixAdorner, suffixAdorner } = appearance;\n\n  const { required } = validate;\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const inputRef = useRef();\n\n  const [cachedValue, setCachedValue] = useState(value);\n  const [displayValue, setDisplayValue] = useState(value);\n\n  const sanitize = useCallback((value) => Numberfield.config.sanitizeValue({ value, formField: field }), [field]);\n\n  const [debouncedOnChange, flushOnChange] = useFlushDebounce(props.onChange);\n\n  const previousCachedValue = usePrevious(value);\n\n  if (previousCachedValue !== cachedValue) {\n    debouncedOnChange({ field, value: cachedValue });\n  }\n\n  const onInputBlur = () => {\n    flushOnChange && flushOnChange();\n    onBlur && onBlur();\n  };\n\n  const onInputFocus = () => {\n    onFocus && onFocus();\n  };\n\n  // all value changes must go through this function\n  const setValue = useCallback(\n    (stringValue) => {\n      if (isNullEquivalentValue(stringValue)) {\n        setDisplayValue('');\n        setCachedValue(null);\n        return;\n      }\n\n      // converts automatically for countries where the comma is used as a decimal separator\n      stringValue = stringValue.replaceAll(',', '.');\n\n      if (stringValue === '-') {\n        setDisplayValue('-');\n        return;\n      }\n\n      // provides feedback for invalid numbers entered via pasting as opposed to just ignoring the paste\n      if (isNaN(Number(stringValue))) {\n        setDisplayValue('NaN');\n        setCachedValue(null);\n        return;\n      }\n\n      setDisplayValue(stringValue);\n      setCachedValue(sanitize(stringValue));\n    },\n    [sanitize],\n  );\n\n  // when external changes occur independently of the input, we update the display and cache values of the component\n  const previousValue = usePrevious(value);\n  const outerValueChanged = previousValue != value;\n  const outerValueEqualsCache = sanitize(value) === sanitize(cachedValue);\n\n  if (outerValueChanged && !outerValueEqualsCache) {\n    setValue((value && value.toString()) || '');\n  }\n\n  // caches the value an increment/decrement operation will be based on\n  const incrementAmount = useMemo(() => {\n    if (incrementValue) return Big(incrementValue);\n    if (decimalDigits) return Big(`1e-${decimalDigits}`);\n    return Big('1');\n  }, [decimalDigits, incrementValue]);\n\n  const increment = () => {\n    if (readonly) {\n      return;\n    }\n\n    const base = isValidNumber(cachedValue) ? Big(cachedValue) : Big(0);\n    const stepFlooredValue = base.minus(base.mod(incrementAmount));\n\n    // note: toFixed() behaves differently in big.js\n    setValue(stepFlooredValue.plus(incrementAmount).toFixed());\n  };\n\n  const decrement = () => {\n    if (readonly) {\n      return;\n    }\n\n    const base = isValidNumber(cachedValue) ? Big(cachedValue) : Big(0);\n    const offset = base.mod(incrementAmount);\n\n    if (offset.cmp(0) === 0) {\n      // if we're already on a valid step, decrement\n      setValue(base.minus(incrementAmount).toFixed());\n    } else {\n      // otherwise floor to the step\n      const stepFlooredValue = base.minus(base.mod(incrementAmount));\n      setValue(stepFlooredValue.toFixed());\n    }\n  };\n\n  const onKeyDown = (e) => {\n    // delete the NaN state all at once on backspace or delete\n    if (displayValue === 'NaN' && (e.code === 'Backspace' || e.code === 'Delete')) {\n      setValue('');\n      e.preventDefault();\n      return;\n    }\n\n    if (e.code === 'ArrowUp') {\n      increment();\n      e.preventDefault();\n      return;\n    }\n\n    if (e.code === 'ArrowDown') {\n      decrement();\n      e.preventDefault();\n      return;\n    }\n  };\n\n  // intercept key presses which would lead to an invalid number\n  const onKeyPress = (e) => {\n    const caretIndex = inputRef.current.selectionStart;\n    const selectionWidth = inputRef.current.selectionStart - inputRef.current.selectionEnd;\n    const previousValue = inputRef.current.value;\n\n    if (!willKeyProduceValidNumber(e.key, previousValue, caretIndex, selectionWidth, decimalDigits)) {\n      e.preventDefault();\n    }\n  };\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return (\n    <div class={formFieldClasses(type, { errors, disabled, readonly })}>\n      <Label htmlFor={domId} label={label} required={required} />\n      <TemplatedInputAdorner disabled={disabled} readonly={readonly} pre={prefixAdorner} post={suffixAdorner}>\n        <div\n          class={classNames(\n            'fjs-vertical-group',\n            { 'fjs-disabled': disabled, 'fjs-readonly': readonly },\n            { hasErrors: errors.length },\n          )}>\n          <input\n            ref={inputRef}\n            class=\"fjs-input\"\n            disabled={disabled}\n            readOnly={readonly}\n            id={domId}\n            onKeyDown={onKeyDown}\n            onKeyPress={onKeyPress}\n            onBlur={onInputBlur}\n            onFocus={onInputFocus}\n            // @ts-ignore\n            onInput={(e) => setValue(e.target.value, true)}\n            onPaste={(e) => displayValue === 'NaN' && e.preventDefault()}\n            type=\"text\"\n            autoComplete=\"off\"\n            step={incrementAmount}\n            value={displayValue}\n            aria-describedby={[descriptionId, errorMessageId].join(' ')}\n            required={required}\n            aria-invalid={errors.length > 0}\n          />\n          <div class={classNames('fjs-number-arrow-container', { 'fjs-disabled': disabled, 'fjs-readonly': readonly })}>\n            {/* we're disabling tab navigation on both buttons to imitate the native browser behavior of input[type='number'] increment arrows */}\n            <button\n              type=\"button\"\n              class=\"fjs-number-arrow-up\"\n              aria-label=\"Increment\"\n              onClick={() => increment()}\n              tabIndex={-1}>\n              <AngelUpIcon />\n            </button>\n            <div class=\"fjs-number-arrow-separator\" />\n            <button\n              type=\"button\"\n              class=\"fjs-number-arrow-down\"\n              aria-label=\"Decrement\"\n              onClick={() => decrement()}\n              tabIndex={-1}>\n              <AngelDownIcon />\n            </button>\n          </div>\n        </div>\n      </TemplatedInputAdorner>\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nNumberfield.config = {\n  type,\n  keyed: true,\n  name: 'Number',\n  group: 'basic-input',\n  emptyValue: null,\n  sanitizeValue: ({ value, formField }) => {\n    // invalid value types are sanitized to null\n    if (isNullEquivalentValue(value) || !isValidNumber(value)) return null;\n\n    // otherwise, we return a string or a number depending on the form field configuration\n    return formField.serializeToString ? value.toString() : Number(value);\n  },\n  create: (options = {}) => ({\n    label: 'Number',\n    ...options,\n  }),\n};\n","import { useRef } from 'preact/hooks';\nimport isEqual from 'lodash/isEqual';\nimport { useOptionsAsync, LOAD_STATES } from '../../hooks/useOptionsAsync';\nimport { useCleanupSingleSelectValue } from '../../hooks/useCleanupSingleSelectValue';\nimport classNames from 'classnames';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\n\nimport { sanitizeSingleSelectValue } from '../util/sanitizerUtil';\n\nimport { createEmptyOptions } from '../util/optionsUtil';\n\nimport { formFieldClasses } from '../Util';\n\nconst type = 'radio';\n\nexport function Radio(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, readonly, value } = props;\n\n  const { description, label, validate = {} } = field;\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const outerDivRef = useRef();\n\n  const { required } = validate;\n\n  const onChange = (v) => {\n    props.onChange({\n      value: v,\n    });\n  };\n\n  const onRadioBlur = (e) => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n\n    onBlur && onBlur();\n  };\n\n  const onRadioFocus = (e) => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n\n    onFocus && onFocus();\n  };\n\n  const { loadState, options } = useOptionsAsync(field);\n\n  useCleanupSingleSelectValue({\n    field,\n    loadState,\n    options,\n    value,\n    onChange: props.onChange,\n  });\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return (\n    <div class={formFieldClasses(type, { errors, disabled, readonly })} ref={outerDivRef}>\n      <Label label={label} required={required} />\n      {loadState == LOAD_STATES.LOADED &&\n        options.map((option, index) => {\n          const itemDomId = `${domId}-${index}`;\n          const isChecked = isEqual(option.value, value);\n\n          return (\n            <div\n              className={classNames('fjs-inline-label', {\n                'fjs-checked': isChecked,\n              })}\n              key={option.value}>\n              <input\n                checked={isChecked}\n                class=\"fjs-input\"\n                disabled={disabled}\n                readOnly={readonly}\n                name={domId}\n                id={itemDomId}\n                type=\"radio\"\n                onClick={() => onChange(option.value)}\n                onBlur={onRadioBlur}\n                onFocus={onRadioFocus}\n                aria-describedby={[descriptionId, errorMessageId].join(' ')}\n                required={required}\n                aria-invalid={errors.length > 0}\n              />\n              <Label\n                htmlFor={itemDomId}\n                label={option.label}\n                class={classNames({ 'fjs-checked': isChecked })}\n                required={false}\n              />\n            </div>\n          );\n        })}\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nRadio.config = {\n  type,\n  keyed: true,\n  name: 'Radio group',\n  group: 'selection',\n  emptyValue: null,\n  sanitizeValue: sanitizeSingleSelectValue,\n  create: (options = {}) => ({\n    label: 'Radio group',\n    ...createEmptyOptions(options),\n  }),\n};\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\"><path fill=\"currentColor\" fill-rule=\"evenodd\" stroke=\"currentColor\" stroke-width=\".5\" d=\"M4 3.766 7.43.336l.234.234L4.234 4l3.43 3.43-.234.234L4 4.234.57 7.664.336 7.43 3.766 4 .336.57.57.336Zm0 0\" clip-rule=\"evenodd\"/></svg>","import { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { useOptionsAsync, LOAD_STATES } from '../../../hooks/useOptionsAsync';\nimport { useGetLabelCorrelation } from '../../../hooks/useGetLabelCorrelation';\nimport { useService, useCleanupSingleSelectValue } from '../../../hooks';\n\nimport classNames from 'classnames';\n\nimport XMarkIcon from '../icons/XMark.svg';\nimport AngelDownIcon from '../icons/AngelDown.svg';\nimport AngelUpIcon from '../icons/AngelUp.svg';\nimport { DropdownList } from './DropdownList';\n\nexport function SearchableSelect(props) {\n  const { domId, disabled, errors, onBlur, onFocus, field, readonly, value } = props;\n\n  const [filter, setFilter] = useState('');\n  const [isDropdownExpanded, setIsDropdownExpanded] = useState(false);\n  const [isFilterActive, setIsFilterActive] = useState(true);\n  const [isEscapeClosed, setIsEscapeClose] = useState(false);\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const searchbarRef = useRef();\n  const eventBus = useService('eventBus');\n\n  const { loadState, options } = useOptionsAsync(field);\n\n  useCleanupSingleSelectValue({\n    field,\n    loadState,\n    options,\n    value,\n    onChange: props.onChange,\n  });\n\n  const getLabelCorrelation = useGetLabelCorrelation(options);\n\n  const label = useMemo(() => value && getLabelCorrelation(value), [value, getLabelCorrelation]);\n\n  // whenever we change the underlying value, set the label to it\n  useEffect(() => {\n    setFilter(label || '');\n  }, [label]);\n\n  const filteredOptions = useMemo(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return [];\n    }\n\n    if (!filter || !isFilterActive) {\n      return options;\n    }\n\n    return options.filter(\n      (option) => option.label && option.value && option.label.toLowerCase().includes(filter.toLowerCase()),\n    );\n  }, [filter, loadState, options, isFilterActive]);\n\n  const pickOption = useCallback(\n    (option) => {\n      setFilter((option && option.label) || '');\n      props.onChange({ value: (option && option.value) || null });\n    },\n    [props],\n  );\n\n  const displayState = useMemo(() => {\n    const ds = {};\n    ds.componentReady = !disabled && !readonly && loadState === LOAD_STATES.LOADED;\n    ds.displayCross = ds.componentReady && value !== null && value !== undefined;\n    ds.displayDropdown = !disabled && !readonly && isDropdownExpanded && !isEscapeClosed;\n    return ds;\n  }, [disabled, isDropdownExpanded, isEscapeClosed, loadState, readonly, value]);\n\n  const onAngelMouseDown = useCallback(\n    (e) => {\n      setIsEscapeClose(false);\n      setIsDropdownExpanded(!isDropdownExpanded);\n\n      const searchbar = searchbarRef.current;\n      isDropdownExpanded ? searchbar.blur() : searchbar.focus();\n\n      e.preventDefault();\n    },\n    [isDropdownExpanded],\n  );\n\n  const onInputChange = ({ target }) => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(true);\n    setIsFilterActive(true);\n    setFilter(target.value || '');\n    eventBus.fire('formField.search', { formField: field, value: target.value || '' });\n  };\n\n  const onInputKeyDown = useCallback(\n    (keyDownEvent) => {\n      switch (keyDownEvent.key) {\n        case 'ArrowUp':\n          keyDownEvent.preventDefault();\n          break;\n        case 'ArrowDown': {\n          if (!isDropdownExpanded) {\n            setIsDropdownExpanded(true);\n            setIsFilterActive(false);\n          }\n\n          keyDownEvent.preventDefault();\n          break;\n        }\n        case 'Escape':\n          setIsEscapeClose(true);\n          break;\n        case 'Enter':\n          if (isEscapeClosed) {\n            setIsEscapeClose(false);\n          }\n          break;\n      }\n    },\n    [isDropdownExpanded, isEscapeClosed],\n  );\n\n  const onInputMouseDown = useCallback(() => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(true);\n    setIsFilterActive(false);\n  }, []);\n\n  const onInputFocus = useCallback(() => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(true);\n    onFocus && onFocus();\n  }, [onFocus]);\n\n  const onInputBlur = useCallback(() => {\n    setIsDropdownExpanded(false);\n    setFilter(label || '');\n    onBlur && onBlur();\n  }, [onBlur, label]);\n\n  return (\n    <>\n      <div\n        class={classNames('fjs-input-group', { disabled: disabled, readonly: readonly }, { hasErrors: errors.length })}>\n        <input\n          disabled={disabled}\n          readOnly={readonly}\n          class=\"fjs-input\"\n          ref={searchbarRef}\n          id={domId}\n          onChange={onInputChange}\n          type=\"text\"\n          value={filter}\n          placeholder={'Pesquisar'}\n          autoComplete=\"off\"\n          onKeyDown={onInputKeyDown}\n          onMouseDown={onInputMouseDown}\n          onFocus={onInputFocus}\n          onBlur={onInputBlur}\n          aria-describedby={props['aria-describedby']}\n        />\n        {displayState.displayCross && (\n          <span\n            class=\"fjs-select-cross\"\n            onMouseDown={(e) => {\n              pickOption(null);\n              e.preventDefault();\n            }}>\n            <XMarkIcon />{' '}\n          </span>\n        )}\n        <span class=\"fjs-select-arrow\" onMouseDown={(e) => onAngelMouseDown(e)}>\n          {displayState.displayDropdown ? <AngelUpIcon /> : <AngelDownIcon />}\n        </span>\n      </div>\n      <div class=\"fjs-select-anchor\">\n        {displayState.displayDropdown && (\n          <DropdownList\n            values={filteredOptions}\n            getLabel={(option) => option.label}\n            onValueSelected={(option) => {\n              pickOption(option);\n              setIsDropdownExpanded(false);\n            }}\n            listenerElement={searchbarRef.current}\n          />\n        )}\n      </div>\n    </>\n  );\n}\n","import { useCallback, useMemo, useRef, useState } from 'preact/hooks';\nimport classNames from 'classnames';\nimport { findIndex } from 'min-dash';\nimport { useOptionsAsync, LOAD_STATES } from '../../../hooks/useOptionsAsync';\nimport { useCleanupSingleSelectValue } from '../../../hooks/useCleanupSingleSelectValue';\nimport { useGetLabelCorrelation } from '../../../hooks/useGetLabelCorrelation';\n\nimport XMarkIcon from '../icons/XMark.svg';\nimport AngelDownIcon from '../icons/AngelDown.svg';\nimport AngelUpIcon from '../icons/AngelUp.svg';\nimport { DropdownList } from './DropdownList';\n\nexport function SimpleSelect(props) {\n  const { domId, disabled, errors, onBlur, onFocus, field, readonly, value } = props;\n\n  const [isDropdownExpanded, setIsDropdownExpanded] = useState(false);\n  const selectRef = useRef();\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const inputRef = useRef();\n\n  const { loadState, options } = useOptionsAsync(field);\n\n  useCleanupSingleSelectValue({\n    field,\n    loadState,\n    options,\n    value,\n    onChange: props.onChange,\n  });\n\n  const getLabelCorrelation = useGetLabelCorrelation(options);\n\n  const valueLabel = useMemo(() => value && getLabelCorrelation(value), [value, getLabelCorrelation]);\n\n  const pickOption = useCallback(\n    (option) => {\n      props.onChange({ value: (option && option.value) || null });\n    },\n    [props],\n  );\n\n  const displayState = useMemo(() => {\n    const ds = {};\n    ds.componentReady = !disabled && !readonly && loadState === LOAD_STATES.LOADED;\n    ds.displayCross = ds.componentReady && value !== null && value !== undefined;\n    ds.displayDropdown = !disabled && !readonly && isDropdownExpanded;\n    return ds;\n  }, [disabled, isDropdownExpanded, loadState, readonly, value]);\n\n  const onMouseDown = useCallback(\n    (e) => {\n      const input = inputRef.current;\n\n      if (disabled || !input) {\n        return;\n      }\n\n      setIsDropdownExpanded(!isDropdownExpanded);\n\n      if (isDropdownExpanded) {\n        input.blur();\n      } else {\n        input.focus();\n      }\n\n      e.preventDefault();\n    },\n    [disabled, isDropdownExpanded],\n  );\n\n  const initialFocusIndex = useMemo(\n    () => (value && findIndex(options, (option) => option.value === value)) || 0,\n    [options, value],\n  );\n\n  const onInputFocus = useCallback(() => {\n    if (!readonly) {\n      setIsDropdownExpanded(true);\n      onFocus && onFocus();\n    }\n  }, [onFocus, readonly]);\n\n  const onInputBlur = useCallback(() => {\n    if (!readonly) {\n      setIsDropdownExpanded(false);\n      onBlur && onBlur();\n    }\n  }, [onBlur, readonly]);\n\n  return (\n    <>\n      <div\n        ref={selectRef}\n        class={classNames('fjs-input-group', { disabled, readonly }, { hasErrors: errors.length })}\n        onFocus={onInputFocus}\n        onBlur={onInputBlur}\n        onMouseDown={onMouseDown}>\n        <div class={classNames('fjs-select-display', { 'fjs-select-placeholder': !value })} id={`${domId}-display`}>\n          {valueLabel || 'Select'}\n        </div>\n        {!disabled && (\n          <input\n            ref={inputRef}\n            id={domId}\n            class=\"fjs-select-hidden-input\"\n            value={valueLabel}\n            onFocus={onInputFocus}\n            onBlur={onInputBlur}\n            aria-describedby={props['aria-describedby']}\n          />\n        )}\n        {displayState.displayCross && (\n          <span\n            class=\"fjs-select-cross\"\n            onMouseDown={(e) => {\n              pickOption(null);\n              e.stopPropagation();\n            }}>\n            <XMarkIcon />\n          </span>\n        )}\n        <span class=\"fjs-select-arrow\">{displayState.displayDropdown ? <AngelUpIcon /> : <AngelDownIcon />}</span>\n      </div>\n      <div class=\"fjs-select-anchor\">\n        {displayState.displayDropdown && (\n          <DropdownList\n            values={options}\n            getLabel={(option) => option.label}\n            initialFocusIndex={initialFocusIndex}\n            onValueSelected={(option) => {\n              pickOption(option);\n              setIsDropdownExpanded(false);\n            }}\n            listenerElement={selectRef.current}\n          />\n        )}\n      </div>\n    </>\n  );\n}\n","import { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\nimport { SearchableSelect } from './parts/SearchableSelect';\nimport { SimpleSelect } from './parts/SimpleSelect';\n\nimport { sanitizeSingleSelectValue } from '../util/sanitizerUtil';\nimport { createEmptyOptions } from '../util/optionsUtil';\nimport { formFieldClasses } from '../Util';\n\nconst type = 'select';\n\nexport function Select(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, onChange, readonly, value } = props;\n\n  const { description, label, searchable = false, validate = {} } = field;\n\n  const { required } = validate;\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  const selectProps = {\n    domId,\n    disabled,\n    errors,\n    onBlur,\n    onFocus,\n    field,\n    value,\n    onChange,\n    readonly,\n    required,\n    'aria-invalid': errors.length > 0,\n    'aria-describedby': [descriptionId, errorMessageId].join(' '),\n  };\n\n  return (\n    <div\n      class={formFieldClasses(type, { errors, disabled, readonly })}\n      onKeyDown={(event) => {\n        if (event.key === 'Enter') {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }}>\n      <Label htmlFor={domId} label={label} required={required} />\n      {searchable ? <SearchableSelect {...selectProps} /> : <SimpleSelect {...selectProps} />}\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nSelect.config = {\n  type,\n  keyed: true,\n  name: 'Select',\n  group: 'selection',\n  emptyValue: null,\n  sanitizeValue: sanitizeSingleSelectValue,\n  create: (options = {}) => ({\n    label: 'Select',\n    ...createEmptyOptions(options),\n  }),\n};\n","import { formFieldClasses } from '../Util';\n\nconst type = 'separator';\n\nexport function Separator() {\n  return (\n    <div class={formFieldClasses(type)}>\n      <hr />\n    </div>\n  );\n}\n\nSeparator.config = {\n  type,\n  keyed: false,\n  name: 'Separator',\n  group: 'presentation',\n  create: (options = {}) => ({\n    ...options,\n  }),\n};\n","import { formFieldClasses } from '../Util';\n\nconst type = 'spacer';\n\nexport function Spacer(props) {\n  const { field } = props;\n  const { height = 60 } = field;\n\n  return <div class={formFieldClasses(type)} style={{ height: height }} />;\n}\n\nSpacer.config = {\n  type,\n  keyed: false,\n  name: 'Spacer',\n  group: 'presentation',\n  create: (options = {}) => ({\n    height: 60,\n    ...options,\n  }),\n};\n","import { useContext } from 'preact/hooks';\nimport { FormRenderContext } from '../../context';\nimport { formFieldClasses } from '../Util';\nimport classNames from 'classnames';\n\nimport { Label } from '../Label';\nimport { ChildrenRenderer } from './parts/ChildrenRenderer';\n\nexport function DynamicList(props) {\n  const { field, domId, readonly } = props;\n  const { label, type, showOutline } = field;\n\n  const { Empty } = useContext(FormRenderContext);\n\n  const fullProps = { ...props, Empty };\n\n  return (\n    <div\n      className={classNames(formFieldClasses(type, { readonly }), 'fjs-form-field-grouplike', {\n        'fjs-outlined': showOutline,\n      })}\n      role=\"group\"\n      aria-labelledby={domId}>\n      <Label id={domId} label={label} />\n      <ChildrenRenderer {...fullProps} />\n    </div>\n  );\n}\n\nDynamicList.config = {\n  type: 'dynamiclist',\n  pathed: true,\n  repeatable: true,\n  name: 'Dynamic list',\n  group: 'container',\n  create: (options = {}) => ({\n    label: 'Dynamic list',\n    components: [],\n    showOutline: true,\n    isRepeating: true,\n    allowAddRemove: true,\n    defaultRepetitions: 1,\n    ...options,\n  }),\n};\n","import classNames from 'classnames';\n\nimport { useCallback } from 'preact/hooks';\n\nexport function SkipLink(props) {\n  const { className, label, onSkip } = props;\n\n  const onKeyDown = useCallback(\n    (event) => {\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        event.stopPropagation();\n        onSkip();\n      }\n    },\n    [onSkip],\n  );\n\n  return (\n    <a href=\"#\" class={classNames('fjs-skip-link', className)} onKeyDown={onKeyDown}>\n      {label}\n    </a>\n  );\n}\n","import { useMemo, useRef, useState } from 'preact/hooks';\n\nimport {\n  useDeepCompareMemoize,\n  useService,\n  useOptionsAsync,\n  useCleanupMultiSelectValue,\n  useGetLabelCorrelation,\n  LOAD_STATES,\n} from '../../hooks';\n\nimport XMarkIcon from './icons/XMark.svg';\nimport { DropdownList } from './parts/DropdownList';\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\nimport { SkipLink } from './parts/SkipLink';\n\nimport classNames from 'classnames';\nimport isEqual from 'lodash/isEqual';\nimport { sanitizeMultiSelectValue, hasEqualValue } from '../util/sanitizerUtil';\nimport { createEmptyOptions } from '../util/optionsUtil';\nimport { formFieldClasses } from '../Util';\n\nconst type = 'taglist';\n\nexport function Taglist(props) {\n  const { disabled, errors = [], onFocus, domId, onBlur, field, readonly, value } = props;\n\n  const { description, label, validate = {} } = field;\n\n  const { required } = validate;\n\n  const [filter, setFilter] = useState('');\n  const [isDropdownExpanded, setIsDropdownExpanded] = useState(false);\n  const [isEscapeClosed, setIsEscapeClose] = useState(false);\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const focusScopeRef = useRef();\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const inputRef = useRef();\n  const eventBus = useService('eventBus');\n\n  const { loadState, options } = useOptionsAsync(field);\n\n  // ensures we render based on array content instead of reference\n  const values = useDeepCompareMemoize(value || []);\n\n  useCleanupMultiSelectValue({\n    field,\n    loadState,\n    options,\n    values,\n    onChange: props.onChange,\n  });\n\n  const getLabelCorrelation = useGetLabelCorrelation(options);\n\n  const hasOptionsLeft = useMemo(() => options.length > values.length, [options.length, values.length]);\n\n  const filteredOptions = useMemo(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return [];\n    }\n\n    const isValidFilteredOption = (option) => {\n      const filterMatches = option.label.toLowerCase().includes(filter.toLowerCase());\n      return filterMatches && !hasEqualValue(option.value, values);\n    };\n\n    return options.filter(isValidFilteredOption);\n  }, [filter, options, values, loadState]);\n\n  const selectValue = (value) => {\n    setFilter('');\n\n    // Ensure values cannot be double selected due to latency\n    if (values.at(-1) === value) {\n      return;\n    }\n\n    props.onChange({ value: [...values, value] });\n  };\n\n  const deselectValue = (value) => {\n    const newValues = values.filter((v) => !isEqual(v, value));\n    props.onChange({ value: newValues });\n  };\n\n  const onInputChange = ({ target }) => {\n    setIsEscapeClose(false);\n    setFilter(target.value || '');\n    eventBus.fire('formField.search', { formField: field, value: target.value || '' });\n  };\n\n  const onInputKeyDown = (e) => {\n    switch (e.key) {\n      case 'ArrowUp':\n      case 'ArrowDown':\n        // We do not want the cursor to seek in the search field when we press up and down\n        e.preventDefault();\n        break;\n      case 'Backspace':\n        if (!filter && values.length) {\n          deselectValue(values[values.length - 1]);\n        }\n        break;\n      case 'Escape':\n        setIsEscapeClose(true);\n        break;\n      case 'Enter':\n        if (isEscapeClosed) {\n          setIsEscapeClose(false);\n        }\n        break;\n    }\n  };\n\n  const onElementBlur = (e) => {\n    if (focusScopeRef.current.contains(e.relatedTarget)) return;\n    onBlur && onBlur();\n  };\n\n  const onElementFocus = (e) => {\n    if (focusScopeRef.current.contains(e.relatedTarget)) return;\n    onFocus && onFocus();\n  };\n\n  const onInputBlur = (e) => {\n    if (!readonly) {\n      setIsDropdownExpanded(false);\n      setFilter('');\n    }\n    onElementBlur(e);\n  };\n\n  const onInputFocus = (e) => {\n    if (!readonly) {\n      setIsDropdownExpanded(true);\n    }\n    onElementFocus(e);\n  };\n\n  const onTagRemoveClick = (event, value) => {\n    const { target } = event;\n\n    deselectValue(value);\n\n    // restore focus if there is no next sibling to focus\n    const nextTag = target.closest('.fjs-taglist-tag').nextSibling;\n    if (!nextTag) {\n      inputRef.current.focus();\n    }\n  };\n\n  const onSkipToSearch = () => {\n    inputRef.current.focus();\n  };\n\n  const shouldDisplayDropdown = useMemo(\n    () => !disabled && loadState === LOAD_STATES.LOADED && isDropdownExpanded && !isEscapeClosed,\n    [disabled, isDropdownExpanded, isEscapeClosed, loadState],\n  );\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return (\n    <div\n      ref={focusScopeRef}\n      class={formFieldClasses(type, { errors, disabled, readonly })}\n      onKeyDown={(event) => {\n        if (event.key === 'Enter') {\n          event.stopPropagation();\n          event.preventDefault();\n        }\n      }}>\n      <Label label={label} required={required} htmlFor={domId} />\n      {!disabled && !readonly && !!values.length && (\n        <SkipLink className=\"fjs-taglist-skip-link\" label=\"Skip to search\" onSkip={onSkipToSearch} />\n      )}\n      <div class={classNames('fjs-taglist', { 'fjs-disabled': disabled, 'fjs-readonly': readonly })}>\n        {loadState === LOAD_STATES.LOADED && (\n          <div class=\"fjs-taglist-tags\">\n            {values.map((entry) => {\n              return (\n                <div\n                  key={entry}\n                  class={classNames('fjs-taglist-tag', { 'fjs-disabled': disabled, 'fjs-readonly': readonly })}\n                  onMouseDown={(e) => e.preventDefault()}>\n                  <span class=\"fjs-taglist-tag-label\">{getLabelCorrelation(entry)}</span>\n                  {!disabled && !readonly && (\n                    <button\n                      type=\"button\"\n                      title=\"Remove tag\"\n                      class=\"fjs-taglist-tag-remove\"\n                      onFocus={onElementFocus}\n                      onBlur={onElementBlur}\n                      onClick={(event) => onTagRemoveClick(event, entry)}>\n                      <XMarkIcon />\n                    </button>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        )}\n        <input\n          disabled={disabled}\n          readOnly={readonly}\n          class=\"fjs-taglist-input\"\n          ref={inputRef}\n          id={domId}\n          onChange={onInputChange}\n          type=\"text\"\n          value={filter}\n          placeholder={disabled || readonly ? undefined : 'Pesquisar'}\n          autoComplete=\"off\"\n          onKeyDown={onInputKeyDown}\n          onMouseDown={() => setIsEscapeClose(false)}\n          onFocus={onInputFocus}\n          onBlur={onInputBlur}\n          aria-describedby={[descriptionId, errorMessageId].join(' ')}\n          required={required}\n          aria-invalid={errors.length > 0}\n        />\n      </div>\n      <div class=\"fjs-taglist-anchor\">\n        {shouldDisplayDropdown && (\n          <DropdownList\n            values={filteredOptions}\n            getLabel={(option) => option.label}\n            onValueSelected={(option) => selectValue(option.value)}\n            emptyListMessage={hasOptionsLeft ? 'No results' : 'All values selected'}\n            listenerElement={inputRef.current}\n          />\n        )}\n      </div>\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nTaglist.config = {\n  type,\n  keyed: true,\n  name: 'Tag list',\n  group: 'selection',\n  emptyValue: [],\n  sanitizeValue: sanitizeMultiSelectValue,\n  create: (options = {}) => ({\n    label: 'Tag list',\n    ...createEmptyOptions(options),\n  }),\n};\n","const NODE_TYPE_TEXT = 3,\n  NODE_TYPE_ELEMENT = 1;\n\nconst ALLOWED_NODES = [\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'span',\n  'em',\n  'a',\n  'p',\n  'div',\n  'ul',\n  'ol',\n  'li',\n  'hr',\n  'blockquote',\n  'img',\n  'pre',\n  'code',\n  'br',\n  'strong',\n  'table',\n  'thead',\n  'tbody',\n  'tr',\n  'th',\n  'td',\n];\n\nconst ALLOWED_ATTRIBUTES = ['align', 'alt', 'class', 'href', 'id', 'name', 'rel', 'target', 'src'];\n\nconst ALLOWED_URI_PATTERN = /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i; // eslint-disable-line no-useless-escape\nconst ATTR_WHITESPACE_PATTERN = /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g; // eslint-disable-line no-control-regex\n\nconst FORM_ELEMENT = document.createElement('form');\n\n/**\n * Sanitize a HTML string and return the cleaned, safe version.\n *\n * @param {string} html\n * @return {string}\n */\n\n// see https://github.com/developit/snarkdown/issues/70\nexport function sanitizeHTML(html) {\n  const doc = new DOMParser().parseFromString(`<!DOCTYPE html>\\n<html><body><div>${html}`, 'text/html');\n\n  doc.normalize();\n\n  const element = doc.body.firstChild;\n\n  if (element) {\n    sanitizeNode(/** @type Element */ (element));\n    return /** @type Element */ (element).innerHTML;\n  } else {\n    // handle the case that document parsing\n    // does not work at all, due to HTML gibberish\n    return '';\n  }\n}\n\n/**\n * Recursively sanitize a HTML node, potentially\n * removing it, its children or attributes.\n *\n * Inspired by https://github.com/developit/snarkdown/issues/70\n * and https://github.com/cure53/DOMPurify. Simplified\n * for our use-case.\n *\n * @param {Element} node\n */\nfunction sanitizeNode(node) {\n  // allow text nodes\n  if (node.nodeType === NODE_TYPE_TEXT) {\n    return;\n  }\n\n  // disallow all other nodes but Element\n  if (node.nodeType !== NODE_TYPE_ELEMENT) {\n    return node.remove();\n  }\n\n  const lcTag = node.tagName.toLowerCase();\n\n  // disallow non-whitelisted tags\n  if (!ALLOWED_NODES.includes(lcTag)) {\n    return node.remove();\n  }\n\n  const attributes = node.attributes;\n\n  // clean attributes\n  for (let i = attributes.length; i--; ) {\n    const attribute = attributes[i];\n\n    const name = attribute.name;\n    const lcName = name.toLowerCase();\n\n    // normalize node value\n    const value = attribute.value.trim();\n\n    node.removeAttribute(name);\n\n    const valid = isValidAttribute(lcTag, lcName, value);\n\n    if (valid) {\n      node.setAttribute(name, value);\n    }\n  }\n\n  // force noopener on target=\"_blank\" links\n  if (lcTag === 'a' && node.getAttribute('target') === '_blank' && node.getAttribute('rel') !== 'noopener') {\n    node.setAttribute('rel', 'noopener');\n  }\n\n  for (let i = node.childNodes.length; i--; ) {\n    sanitizeNode(/** @type Element */ (node.childNodes[i]));\n  }\n}\n\n/**\n * Validates attributes for validity.\n *\n * @param {string} lcTag\n * @param {string} lcName\n * @param {string} value\n * @return {boolean}\n */\nfunction isValidAttribute(lcTag, lcName, value) {\n  // disallow most attributes based on whitelist\n  if (!ALLOWED_ATTRIBUTES.includes(lcName)) {\n    return false;\n  }\n\n  // disallow \"DOM clobbering\" / polution of document and wrapping form elements\n  if ((lcName === 'id' || lcName === 'name') && (value in document || value in FORM_ELEMENT)) {\n    return false;\n  }\n\n  if (lcName === 'target' && value !== '_blank') {\n    return false;\n  }\n\n  // allow valid url links only\n  if (lcName === 'href' && !ALLOWED_URI_PATTERN.test(value.replace(ATTR_WHITESPACE_PATTERN, ''))) {\n    return false;\n  }\n\n  return true;\n}\n","import { useCallback, useMemo } from 'preact/hooks';\nimport { useDangerousHTMLWrapper, useService, useTemplateEvaluation } from '../../hooks';\nimport { sanitizeHTML } from '../Sanitizer';\n\nimport { formFieldClasses, textToLabel } from '../Util';\n\nconst type = 'text';\n\nexport function Text(props) {\n  const form = useService('form');\n  const { textLinkTarget } = form._getState().properties;\n\n  const { field, disableLinks } = props;\n\n  const { text = '', strict = false } = field;\n\n  const markdownRenderer = useService('markdownRenderer');\n\n  // feelers => pure markdown\n  const markdown = useTemplateEvaluation(text, { debug: true, strict });\n\n  // markdown => html\n  const html = useMemo(() => markdownRenderer.render(markdown), [markdownRenderer, markdown]);\n\n  const sanitizeAndTransformLinks = useCallback(\n    (unsafeHtml) => {\n      const html = sanitizeHTML(unsafeHtml);\n\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = html;\n\n      const links = tempDiv.querySelectorAll('a');\n\n      links.forEach((link) => {\n        if (disableLinks) {\n          link.setAttribute('class', 'fjs-disabled-link');\n          link.setAttribute('tabIndex', '-1');\n        }\n\n        if (textLinkTarget) {\n          link.setAttribute('target', textLinkTarget);\n        }\n      });\n\n      return tempDiv.innerHTML;\n    },\n    [disableLinks, textLinkTarget],\n  );\n\n  const dangerouslySetInnerHTML = useDangerousHTMLWrapper({\n    html,\n    transform: sanitizeAndTransformLinks,\n    sanitize: false,\n    sanitizeStyleTags: false,\n  });\n\n  return <div class={formFieldClasses(type)} dangerouslySetInnerHTML={dangerouslySetInnerHTML}></div>;\n}\n\nText.config = {\n  type,\n  keyed: false,\n  name: 'Text view',\n  group: 'presentation',\n  create: (options = {}) => ({\n    text: '# Text',\n    ...options,\n  }),\n  getSubheading: (field) => {\n    textToLabel(field.text);\n  },\n};\n","import { useCallback } from 'preact/hooks';\nimport { useService, useTemplateEvaluation, useDangerousHTMLWrapper } from '../../hooks';\nimport { escapeHTML } from '../util/sanitizerUtil';\nimport { wrapCSSStyles } from '../util/domUtil';\n\nimport { formFieldClasses } from '../Util';\nimport classNames from 'classnames';\n\nconst type = 'html';\n\nexport function Html(props) {\n  const form = useService('form');\n  const { textLinkTarget } = form._getState().properties;\n\n  const { field, disableLinks, domId } = props;\n\n  const { content = '', strict = false } = field;\n\n  const styleScope = `${domId}-style-scope`;\n\n  // we escape HTML within the template evaluation to prevent clickjacking attacks\n  const html = useTemplateEvaluation(content, { debug: true, strict, sanitizer: escapeHTML });\n\n  const transform = useCallback(\n    (html) => {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = html;\n\n      // (1) apply modifications to links\n\n      const links = tempDiv.querySelectorAll('a');\n\n      links.forEach((link) => {\n        if (disableLinks) {\n          link.setAttribute('class', 'fjs-disabled-link');\n          link.setAttribute('tabIndex', '-1');\n        }\n\n        if (textLinkTarget) {\n          link.setAttribute('target', textLinkTarget);\n        }\n      });\n\n      // (2) scope styles to the root div\n      wrapCSSStyles(tempDiv, `.${styleScope}`);\n\n      return tempDiv.innerHTML;\n    },\n    [disableLinks, styleScope, textLinkTarget],\n  );\n\n  const dangerouslySetInnerHTML = useDangerousHTMLWrapper({\n    html,\n    transform,\n    sanitize: true,\n    sanitizeStyleTags: false,\n  });\n\n  return (\n    <div class={classNames(formFieldClasses(type), styleScope)} dangerouslySetInnerHTML={dangerouslySetInnerHTML}></div>\n  );\n}\n\nHtml.config = {\n  type,\n  keyed: false,\n  name: 'HTML view',\n  group: 'presentation',\n  create: (options = {}) => ({\n    content: '',\n    ...options,\n  }),\n};\n","import { useCallback, useEffect } from 'preact/hooks';\nimport { useExpressionEvaluation, useDeepCompareMemoize, useService } from '../../hooks';\n\nimport { isEqual } from 'lodash';\n\nconst type = 'expression';\n\nexport function ExpressionField(props) {\n  const { field, onChange, value } = props;\n\n  const { computeOn, expression } = field;\n\n  const evaluation = useExpressionEvaluation(expression);\n  const evaluationMemo = useDeepCompareMemoize(evaluation);\n  const eventBus = useService('eventBus');\n  const expressionLoopPreventer = useService('expressionLoopPreventer');\n\n  const sendValue = useCallback(() => {\n    onChange && onChange({ field, value: evaluationMemo, shouldNotRecompute: true });\n  }, [field, evaluationMemo, onChange]);\n\n  useEffect(() => {\n    if (\n      computeOn !== 'change' ||\n      isEqual(evaluationMemo, value) ||\n      !expressionLoopPreventer.registerExpressionExecution(this)\n    ) {\n      return;\n    }\n    sendValue();\n  });\n\n  useEffect(() => {\n    if (computeOn === 'presubmit') {\n      eventBus.on('presubmit', sendValue);\n      return () => eventBus.off('presubmit', sendValue);\n    }\n  }, [computeOn, sendValue, eventBus]);\n\n  return null;\n}\n\nExpressionField.config = {\n  type,\n  name: 'Expression',\n  group: 'basic-input',\n  keyed: true,\n  emptyValue: null,\n  escapeGridRender: true,\n  create: (options = {}) => ({\n    computeOn: 'change',\n    ...options,\n  }),\n};\n","import { isArray, isObject, isNil } from 'min-dash';\nimport { formFieldClasses } from '../Util';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\nimport { TemplatedInputAdorner } from './parts/TemplatedInputAdorner';\n\nimport { useFlushDebounce } from '../../hooks/useFlushDebounce';\n\nconst type = 'textfield';\n\nexport function Textfield(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, readonly, value = '' } = props;\n\n  const { description, label, appearance = {}, validate = {} } = field;\n\n  const { prefixAdorner, suffixAdorner } = appearance;\n\n  const { required } = validate;\n\n  const [onChange, flushOnChange] = useFlushDebounce(({ target }) => {\n    props.onChange({\n      value: target.value,\n    });\n  });\n\n  /**\n   * @param {import('preact').JSX.TargetedEvent<HTMLInputElement, Event>} event\n   */\n  const onInputChange = (event) => {\n    onChange({ target: event.target });\n  };\n\n  const onInputBlur = () => {\n    flushOnChange && flushOnChange();\n    onBlur && onBlur();\n  };\n\n  const onInputFocus = () => {\n    onFocus && onFocus();\n  };\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return (\n    <div class={formFieldClasses(type, { errors, disabled, readonly })}>\n      <Label htmlFor={domId} label={label} required={required} />\n      <TemplatedInputAdorner disabled={disabled} readonly={readonly} pre={prefixAdorner} post={suffixAdorner}>\n        <input\n          class=\"fjs-input\"\n          disabled={disabled}\n          readOnly={readonly}\n          id={domId}\n          onInput={onInputChange}\n          onBlur={onInputBlur}\n          onFocus={onInputFocus}\n          type=\"text\"\n          value={value}\n          aria-describedby={[descriptionId, errorMessageId].join(' ')}\n          required={required}\n          aria-invalid={errors.length > 0}\n        />\n      </TemplatedInputAdorner>\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nTextfield.config = {\n  type,\n  keyed: true,\n  name: 'Text field',\n  group: 'basic-input',\n  emptyValue: '',\n  sanitizeValue: ({ value }) => {\n    if (isArray(value) || isObject(value) || isNil(value)) {\n      return '';\n    }\n\n    // sanitize newlines to spaces\n    if (typeof value === 'string') {\n      return value.replace(/[\\r\\n\\t]/g, ' ');\n    }\n\n    return String(value);\n  },\n  create: (options = {}) => ({ label: 'Text field', ...options }),\n};\n","import { isArray, isObject, isNil } from 'min-dash';\n\nimport { useEffect, useLayoutEffect, useRef } from 'preact/hooks';\nimport { useFlushDebounce } from '../../hooks/useFlushDebounce';\n\nimport { formFieldClasses } from '../Util';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\n\nconst type = 'textarea';\n\nexport function Textarea(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, readonly, value = '' } = props;\n\n  const { description, label, validate = {} } = field;\n\n  const { required } = validate;\n  const textareaRef = useRef();\n\n  const [onChange, flushOnChange] = useFlushDebounce(({ target }) => {\n    props.onChange({\n      value: target.value,\n    });\n  });\n\n  const onInputBlur = () => {\n    flushOnChange && flushOnChange();\n    onBlur && onBlur();\n  };\n\n  const onInputFocus = () => {\n    onFocus && onFocus();\n  };\n\n  const onInputChange = (event) => {\n    onChange({ target: event.target });\n    autoSizeTextarea(textareaRef.current);\n  };\n\n  useLayoutEffect(() => {\n    autoSizeTextarea(textareaRef.current);\n  }, [value]);\n\n  useEffect(() => {\n    autoSizeTextarea(textareaRef.current);\n  }, []);\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return (\n    <div class={formFieldClasses(type, { errors, disabled, readonly })}>\n      <Label htmlFor={domId} label={label} required={required} />\n      <textarea\n        class=\"fjs-textarea\"\n        disabled={disabled}\n        readOnly={readonly}\n        id={domId}\n        onInput={onInputChange}\n        onBlur={onInputBlur}\n        onFocus={onInputFocus}\n        value={value}\n        ref={textareaRef}\n        aria-describedby={[descriptionId, errorMessageId].join(' ')}\n        required={required}\n        aria-invalid={errors.length > 0}\n      />\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nTextarea.config = {\n  type,\n  keyed: true,\n  name: 'Text area',\n  group: 'basic-input',\n  emptyValue: '',\n  sanitizeValue: ({ value }) => (isArray(value) || isObject(value) || isNil(value) ? '' : String(value)),\n  create: (options = {}) => ({ label: 'Text area', ...options }),\n};\n\nconst autoSizeTextarea = (textarea) => {\n  // Ensures the textarea shrinks back, and improves resizing behavior consistency\n  textarea.style.height = '0px';\n\n  const computed = window.getComputedStyle(textarea);\n\n  const heightFromLines = () => {\n    const lineHeight = parseInt(computed.getPropertyValue('line-height').replace('px', '')) || 0;\n    const lines = textarea.value ? textarea.value.toString().split('\\n').length : 0;\n    return lines * lineHeight;\n  };\n\n  const calculatedHeight =\n    parseInt(computed.getPropertyValue('border-top-width')) +\n    parseInt(computed.getPropertyValue('padding-top')) +\n    (textarea.scrollHeight || heightFromLines()) +\n    parseInt(computed.getPropertyValue('padding-bottom')) +\n    parseInt(computed.getPropertyValue('border-bottom-width'));\n\n  const minHeight = 75;\n  const maxHeight = 350;\n  const displayHeight = Math.max(Math.min(calculatedHeight || 0, maxHeight), minHeight);\n\n  textarea.style.height = `${displayHeight}px`;\n\n  // Overflow is hidden by default to hide scrollbar flickering\n  textarea.style.overflow = calculatedHeight > maxHeight ? 'visible' : 'hidden';\n};\n","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path fill=\"currentcolor\" d=\"M24.59 16.59 17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10 10-10-1.41-1.41z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path fill=\"currentcolor\" d=\"M16 4 6 14l1.41 1.41L15 7.83V28h2V7.83l7.59 7.58L26 14 16 4z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" xml:space=\"preserve\" viewBox=\"0 0 32 32\"><path fill=\"currentcolor\" d=\"m20 24-10-8 10-8z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" xml:space=\"preserve\" viewBox=\"0 0 32 32\"><path fill=\"currentcolor\" d=\"m12 8 10 8-10 8z\"/></svg>","import { isDefined, isNil, isNumber, isObject, isString } from 'min-dash';\nimport { useExpressionEvaluation } from '../../hooks';\nimport { useEffect, useState } from 'preact/hooks';\nimport { formFieldClasses, prefixId } from '../Util';\nimport classNames from 'classnames';\n\nimport { Label } from '../Label';\nimport ArrowDownIcon from './icons/ArrowDown.svg';\nimport ArrowUpIcon from './icons/ArrowUp.svg';\nimport CaretLeftIcon from './icons/CaretLeft.svg';\nimport CaretRightIcon from './icons/CaretRight.svg';\n\nconst type = 'table';\n\n/**\n * @typedef {('asc'|'desc')} Direction\n *\n * @typedef Sorting\n * @property {string} key\n * @property {Direction} direction\n *\n * @typedef Column\n * @property {string} label\n * @property {string} key\n *\n * @typedef Field\n * @property {string} id\n * @property {Array<Column>} [columns]\n * @property {string} [columnsExpression]\n * @property {string} [label]\n * @property {number} [rowCount]\n * @property {string} [dataSource]\n *\n * @typedef Props\n * @property {Field} field\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nexport function Table(props) {\n  const { field } = props;\n  const { columns = [], columnsExpression, dataSource = '', rowCount, id, label } = field;\n\n  const [sortBy, setSortBy] = useState(/** @type {Sorting | null} */ null);\n  const evaluatedColumns = useEvaluatedColumns(columnsExpression || '', columns);\n  const columnKeys = evaluatedColumns.map(({ key }) => key);\n  const evaluatedDataSource = useExpressionEvaluation(dataSource);\n  const data = Array.isArray(evaluatedDataSource)\n    ? evaluatedDataSource.filter((entry) => !isNil(entry) || typeof entry !== 'object')\n    : [];\n  const sortedData = sortBy === null ? data : sortByColumn(data, sortBy.key, sortBy.direction);\n\n  /** @type {unknown[][]} */\n  const chunkedData = isNumber(rowCount) ? chunk(sortedData, rowCount) : [sortedData];\n  const [currentPage, setCurrentPage] = useState(0);\n  const currentChunk = chunkedData[currentPage] || [];\n\n  useEffect(() => {\n    setCurrentPage(0);\n  }, [rowCount, sortBy]);\n\n  /** @param {string} key */\n  function toggleSortBy(key) {\n    setSortBy((current) => {\n      if (current === null || current.key !== key) {\n        return {\n          key,\n          direction: 'asc',\n        };\n      }\n\n      if (current.direction === 'desc') {\n        return null;\n      }\n\n      return {\n        key,\n        direction: 'desc',\n      };\n    });\n  }\n\n  return (\n    <div class={formFieldClasses(type)}>\n      <Label htmlFor={prefixId(id)} label={label} />\n      <div\n        class={classNames('fjs-table-middle-container', {\n          'fjs-table-empty': evaluatedColumns.length === 0,\n        })}>\n        {evaluatedColumns.length === 0 ? (\n          'Nothing to show.'\n        ) : (\n          <div class=\"fjs-table-inner-container\">\n            <table class=\"fjs-table\" id={prefixId(id)}>\n              <thead class=\"fjs-table-head\">\n                <tr class=\"fjs-table-tr\">\n                  {evaluatedColumns.map(({ key, label }) => {\n                    const displayLabel = label || key;\n\n                    return (\n                      <th\n                        key={key}\n                        tabIndex={0}\n                        class=\"fjs-table-th\"\n                        onClick={() => {\n                          toggleSortBy(key);\n                        }}\n                        onKeyDown={(event) => {\n                          if (['Enter', 'Space'].includes(event.code)) {\n                            toggleSortBy(key);\n                          }\n                        }}\n                        aria-label={getHeaderAriaLabel(sortBy, key, displayLabel)}>\n                        <span class=\"fjs-table-th-label\">\n                          {displayLabel}\n                          {sortBy !== null && sortBy.key === key ? (\n                            <>\n                              {sortBy.direction === 'asc' ? (\n                                <ArrowUpIcon class=\"fjs-table-sort-icon-asc\" />\n                              ) : (\n                                <ArrowDownIcon class=\"fjs-table-sort-icon-desc\" />\n                              )}\n                            </>\n                          ) : null}\n                        </span>\n                      </th>\n                    );\n                  })}\n                </tr>\n              </thead>\n              {currentChunk.length === 0 ? (\n                <tbody class=\"fjs-table-body\">\n                  <tr class=\"fjs-table-tr\">\n                    <td class=\"fjs-table-td\" colSpan={evaluatedColumns.length}>\n                      Nothing to show.\n                    </td>\n                  </tr>\n                </tbody>\n              ) : (\n                <tbody class=\"fjs-table-body\">\n                  {currentChunk.map((row, index) => (\n                    <tr key={index} class=\"fjs-table-tr\">\n                      {columnKeys.map((key) => (\n                        <td key={key} class=\"fjs-table-td\">\n                          {serializeCellData(row[key])}\n                        </td>\n                      ))}\n                    </tr>\n                  ))}\n                </tbody>\n              )}\n            </table>\n          </div>\n        )}\n\n        {isNumber(rowCount) && chunkedData.length > 1 && evaluatedColumns.length > 0 ? (\n          <nav class=\"fjs-table-nav\">\n            <span class=\"fjs-table-nav-label\">\n              {currentPage + 1} of {chunkedData.length}\n            </span>\n            <button\n              type=\"button\"\n              class=\"fjs-table-nav-button\"\n              onClick={() => {\n                setCurrentPage((page) => Math.max(page - 1, 0));\n              }}\n              disabled={currentPage === 0}\n              aria-label=\"Previous page\">\n              <CaretLeftIcon />\n            </button>\n            <button\n              type=\"button\"\n              class=\"fjs-table-nav-button\"\n              onClick={() => {\n                setCurrentPage((page) => Math.min(page + 1, chunkedData.length - 1));\n              }}\n              disabled={currentPage >= chunkedData.length - 1}\n              aria-label=\"Next page\">\n              <CaretRightIcon />\n            </button>\n          </nav>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\nTable.config = {\n  type,\n  keyed: false,\n  name: 'Table',\n  group: 'presentation',\n  create: (options = {}) => {\n    const { id, columnsExpression, columns, rowCount, ...remainingOptions } = options;\n\n    if (isDefined(id) && isNumber(rowCount)) {\n      remainingOptions['rowCount'] = rowCount;\n    }\n\n    if (isString(columnsExpression)) {\n      return {\n        ...remainingOptions,\n        id,\n        columnsExpression,\n      };\n    }\n\n    if (Array.isArray(columns) && columns.every(isColumn)) {\n      return {\n        ...remainingOptions,\n        id,\n        columns,\n      };\n    }\n\n    return {\n      ...remainingOptions,\n      label: 'Table',\n      rowCount: 10,\n      columns: [\n        {\n          label: 'ID',\n          key: 'id',\n        },\n        {\n          label: 'Name',\n          key: 'name',\n        },\n        {\n          label: 'Date',\n          key: 'date',\n        },\n      ],\n    };\n  },\n\n  /**\n   * @experimental\n   *\n   * A function that generates demo data for a new field on the form playground.\n   * @param {Field} field\n   */\n  generateInitialDemoData: (field) => {\n    const demoData = [\n      { id: 1, name: 'John Doe', date: '31.01.2023' },\n      { id: 2, name: 'Erika Muller', date: '20.02.2023' },\n      { id: 3, name: 'Dominic Leaf', date: '11.03.2023' },\n    ];\n    const demoDataKeys = Object.keys(demoData[0]);\n    const { columns, id, dataSource } = field;\n\n    if (!Array.isArray(columns) || columns.length === 0 || dataSource !== `=${id}`) {\n      return;\n    }\n\n    if (!columns.map(({ key }) => key).every((key) => demoDataKeys.includes(key))) {\n      return;\n    }\n\n    return demoData;\n  },\n};\n\n// helpers /////////////////////////////\n\n/**\n * @param {string|void} columnsExpression\n * @param {Column[]} fallbackColumns\n * @returns {Column[]}\n */\nfunction useEvaluatedColumns(columnsExpression, fallbackColumns) {\n  /** @type {Column[]|null} */\n  const evaluation = useExpressionEvaluation(columnsExpression || '');\n\n  return Array.isArray(evaluation) && evaluation.every(isColumn) ? evaluation : fallbackColumns;\n}\n\n/**\n * @param {any} column\n * @returns {column is Column}\n */\nfunction isColumn(column) {\n  return isObject(column) && isString(column['label']) && isString(column['key']);\n}\n\n/**\n * @param {Array} array\n * @param {number} size\n * @returns {Array}\n */\nfunction chunk(array, size) {\n  return array.reduce((chunks, item, index) => {\n    if (index % size === 0) {\n      chunks.push([item]);\n    } else {\n      chunks[chunks.length - 1].push(item);\n    }\n\n    return chunks;\n  }, []);\n}\n\n/**\n * @param {unknown[]} array\n * @param {string} key\n * @param {Direction} direction\n * @returns {unknown[]}\n */\nfunction sortByColumn(array, key, direction) {\n  return [...array].sort((a, b) => {\n    if (!isObject(a) || !isObject(b)) {\n      return 0;\n    }\n\n    if (direction === 'asc') {\n      return a[key] > b[key] ? 1 : -1;\n    }\n\n    return a[key] < b[key] ? 1 : -1;\n  });\n}\n\n/**\n * @param {null|Sorting} sortBy\n * @param {string} key\n * @param {string} label\n */\nfunction getHeaderAriaLabel(sortBy, key, label) {\n  if (sortBy === null || sortBy.key !== key) {\n    return `Click to sort by ${label} descending`;\n  }\n\n  if (sortBy.direction === 'asc') {\n    return 'Click to remove sorting';\n  }\n\n  return `Click to sort by ${label} ascending`;\n}\n\n/**\n * @param {unknown} cellData\n * @returns string\n */\nfunction serializeCellData(cellData) {\n  if (cellData !== null && typeof cellData === 'object') {\n    return JSON.stringify(cellData);\n  }\n\n  return `${cellData || ''}`;\n}\n","const FILE_PICKER_FILE_KEY_PREFIX = 'files::';\n\nexport { FILE_PICKER_FILE_KEY_PREFIX };\n","import Ids from 'ids';\nimport { formFieldClasses } from '../Util';\nimport { Label } from '../Label';\nimport { Errors } from '../Errors';\nimport { useEffect, useRef } from 'preact/hooks';\nimport { useService, useSingleLineTemplateEvaluation, useBooleanExpressionEvaluation } from '../../hooks';\nimport { FILE_PICKER_FILE_KEY_PREFIX } from '../../../util/constants/FilePickerConstants';\n\nconst type = 'filepicker';\nconst ids = new Ids();\nconst EMPTY_ARRAY = [];\n\n/**\n * @typedef Props\n * @property {(props: { value: string }) => void} onChange\n * @property {string} domId\n * @property {string[]} errors\n * @property {boolean} disabled\n * @property {boolean} readonly\n * @property {boolean} required\n * @property {Object} field\n * @property {string} field.id\n * @property {string} [field.label]\n * @property {string} [field.accept]\n * @property {string|boolean} [field.multiple]\n * @property {Object} [field.validate]\n * @property {boolean} [field.validate.required]\n * @property {string} [value]\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nexport function FilePicker(props) {\n  /** @type {import(\"preact/hooks\").Ref<HTMLInputElement>} */\n  const fileInputRef = useRef(null);\n  /** @type {import('../../FileRegistry').FileRegistry} */\n  const fileRegistry = useService('fileRegistry', false);\n  const { field, onChange, domId, errors = [], disabled, readonly, value: filesKey = '' } = props;\n  const { label, multiple = false, accept = '', validate = {} } = field;\n  /** @type {string} */\n  const evaluatedAccept = useSingleLineTemplateEvaluation(accept, { debug: true });\n  const evaluatedMultiple = useBooleanExpressionEvaluation(multiple);\n  const errorMessageId = `${domId}-error-message`;\n  /** @type {File[]} */\n  const selectedFiles = fileRegistry === null ? EMPTY_ARRAY : fileRegistry.getFiles(filesKey);\n\n  useEffect(() => {\n    if (filesKey && fileRegistry !== null && !fileRegistry.hasKey(filesKey)) {\n      onChange({ value: null });\n    }\n  }, [fileRegistry, filesKey, onChange, selectedFiles.length]);\n\n  useEffect(() => {\n    const data = new DataTransfer();\n    selectedFiles.forEach((file) => data.items.add(file));\n    fileInputRef.current.files = data.files;\n  }, [selectedFiles]);\n\n  /**\n   * @type import(\"preact\").JSX.GenericEventHandler<HTMLInputElement>\n   */\n  const onFileChange = (event) => {\n    const input = /** @type {HTMLInputElement} */ (event.target);\n\n    // if we have an associated file key but no files are selected, clear the file key and associated files\n    if ((input.files === null || input.files.length === 0) && filesKey !== '') {\n      fileRegistry.deleteFiles(filesKey);\n      onChange({ value: null });\n      return;\n    }\n\n    const files = Array.from(input.files);\n\n    // ensure fileKey exists\n    const updatedFilesKey = filesKey || ids.nextPrefixed(FILE_PICKER_FILE_KEY_PREFIX);\n\n    fileRegistry.setFiles(updatedFilesKey, files);\n    onChange({ value: updatedFilesKey });\n  };\n\n  const isInputDisabled = disabled || readonly || fileRegistry === null;\n\n  return (\n    <div className={formFieldClasses(type, { errors, disabled, readonly })}>\n      <Label htmlFor={domId} label={label} required={validate.required} />\n      <input\n        type=\"file\"\n        className=\"fjs-hidden\"\n        ref={fileInputRef}\n        id={domId}\n        name={domId}\n        disabled={isInputDisabled}\n        multiple={evaluatedMultiple || undefined}\n        accept={evaluatedAccept || undefined}\n        onChange={onFileChange}\n        required={validate.required}\n      />\n      <div className=\"fjs-filepicker-container\">\n        <button\n          type=\"button\"\n          disabled={isInputDisabled}\n          readOnly={readonly}\n          className=\"fjs-button fjs-filepicker-button\"\n          onClick={() => {\n            fileInputRef.current.click();\n          }}>\n          Browse\n        </button>\n        <span className=\"fjs-form-field-label\">{getSelectedFilesLabel(selectedFiles)}</span>\n      </div>\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nFilePicker.config = {\n  type: 'filepicker',\n  keyed: true,\n  label: 'File picker',\n  group: 'basic-input',\n  emptyValue: null,\n  create: (options = {}) => ({ ...options }),\n};\n\n// helper //////////\n\n/**\n * @param {File[]} files\n * @returns {string}\n */\nfunction getSelectedFilesLabel(files) {\n  if (files.length === 0) {\n    return 'Nenhum arquivo selecionado';\n  }\n\n  if (files.length === 1) {\n    return files[0].name;\n  }\n\n  return `${files.length} arquivos selecionados`;\n}\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"><path fill=\"currentColor\" d=\"M13 12v2H3v-2H2v2c0 .553.448 1 1 1h10c.552 0 1-.447 1-1v-2h-1Zm0-5-.705-.705-3.795 3.79V1h-1v9.085l-3.795-3.79L3 7l5 5 5-5Z\"/><path style=\"fill:none\" d=\"M0 0h16v16H0V0Z\"/></svg>","import classNames from 'classnames';\nimport { useExpressionEvaluation, useSingleLineTemplateEvaluation, useService } from '../../hooks';\nimport { Errors } from '../Errors';\nimport { formFieldClasses } from '../Util';\nimport { isString } from 'min-dash';\nimport DownloadIcon from './icons/Download.svg';\nimport { useEffect, useRef, useState } from 'preact/hooks';\nimport { Label } from '../Label';\n\nconst type = 'documentPreview';\n\n/**\n * @typedef DocumentEndpointBuilder\n * @property {(document: DocumentMetadata) => string} buildUrl\n */\n\n/**\n * @typedef DocumentMetadata\n * @property {string} documentId\n * @property {string} endpoint\n * @property {Object} metadata\n * @property {string|undefined} [metadata.contentType]\n * @property {string} metadata.fileName\n *\n * @typedef Field\n * @property {string} id\n * @property {string} [title]\n * @property {string} [dataSource]\n * @property {number} [maxHeight]\n * @property {string} [label]\n *\n * @typedef Props\n * @property {Field} field\n * @property {string} domId\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nexport function DocumentPreview(props) {\n  /** @type {DocumentEndpointBuilder | null} */\n  const documentEndpointBuilder = useService('documentEndpointBuilder', false);\n  const { field, domId } = props;\n  const { dataSource, maxHeight, label } = field;\n  const errorMessageId = `${domId}-error-message`;\n  const data = useValidDocumentData(dataSource || '');\n  const evaluatedLabel = useSingleLineTemplateEvaluation(label, { debug: true });\n\n  return (\n    <div class={formFieldClasses(type)}>\n      <Label htmlFor={domId} label={evaluatedLabel} />\n      <div class={`fjs-${type}-document-container`} id={domId}>\n        {data.map((document, index) => {\n          const finalEndpoint = tryCatch(() => documentEndpointBuilder?.buildUrl(document)) ?? document.endpoint;\n\n          return isValidDocumentEndpoint(finalEndpoint) ? (\n            <DocumentRenderer\n              key={document.documentId}\n              documentMetadata={document}\n              endpoint={finalEndpoint}\n              maxHeight={maxHeight}\n              domId={`${domId}-${index}`}\n            />\n          ) : null;\n        })}\n      </div>\n\n      <Errors\n        id={errorMessageId}\n        errors={getErrors({\n          dataSource,\n        })}\n      />\n    </div>\n  );\n}\n\nDocumentPreview.config = {\n  type,\n  keyed: false,\n  group: 'presentation',\n  name: 'Document preview',\n  create: (options = {}) => ({\n    label: 'Document preview',\n    ...options,\n  }),\n};\n\n// helpers /////////////////////////////\n\n/**\n * @typedef GetErrorOptions\n * @property {string|undefined} dataSource\n *\n * @param {GetErrorOptions} options\n * @returns {string[]}\n */\nfunction getErrors(options) {\n  const { dataSource } = options;\n  let errors = [];\n\n  if (!isString(dataSource) || dataSource.length < 1) {\n    errors.push('Document reference is not defined.');\n  }\n\n  return errors;\n}\n\n/**\n *\n * @param {unknown} endpoint\n * @returns boolean\n */\nfunction isValidDocumentEndpoint(endpoint) {\n  return typeof endpoint === 'string' && URL.canParse(endpoint);\n}\n\n/**\n * @param {unknown} document\n * @returns {metadata is DocumentMetadata}\n */\nfunction isValidDocument(document) {\n  return (\n    typeof document === 'object' &&\n    document !== null &&\n    'documentId' in document &&\n    'metadata' in document &&\n    typeof document.metadata === 'object' &&\n    'fileName' in document.metadata\n  );\n}\n\n/**\n * @param {string} dataSource\n * @returns {DocumentMetadata[]}\n */\nfunction useValidDocumentData(dataSource) {\n  const data = useExpressionEvaluation(dataSource);\n\n  if (!Array.isArray(data)) {\n    return [];\n  }\n\n  return data.filter(isValidDocument);\n}\n\n/**\n * @param {Object} props\n * @param {string} props.url\n * @param {string} props.fileName\n * @param {Function} props.onError\n * @param {string} props.errorMessageId\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction PdfRenderer(props) {\n  const { url, onError, errorMessageId } = props;\n  /** @type {ReturnType<typeof import(\"preact/hooks\").useState<null | string>>} */\n  const [pdfObjectUrl, setPdfObjectUrl] = useState(null);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    /** @type {null | string} */\n    let objectUrl = null;\n\n    const fetchPdf = async () => {\n      try {\n        const response = await fetch(url);\n\n        if (!response.ok) {\n          setHasError(true);\n          onError();\n          return;\n        }\n\n        const blob = await response.blob();\n        objectUrl = URL.createObjectURL(blob);\n        setPdfObjectUrl(objectUrl);\n      } catch {\n        setHasError(true);\n        onError();\n      }\n    };\n\n    fetchPdf();\n\n    return () => {\n      if (objectUrl) {\n        URL.revokeObjectURL(objectUrl);\n      }\n    };\n  }, [url, onError]);\n\n  return (\n    <>\n      {pdfObjectUrl !== null ? (\n        <embed src={pdfObjectUrl} type=\"application/pdf\" class={`fjs-${type}-pdf-viewer`} />\n      ) : null}\n      {hasError ? <Errors id={errorMessageId} errors={['Unable to download document']} /> : null}\n    </>\n  );\n}\n\n/**\n *\n * @param {Object} props\n * @param {DocumentMetadata} props.documentMetadata\n * @param {string} props.endpoint\n * @param {string} props.domId\n * @param {number|undefined} props.maxHeight\n *\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction DocumentRenderer(props) {\n  const { documentMetadata, endpoint, maxHeight, domId } = props;\n  const { metadata } = documentMetadata;\n  const [hasError, setHasError] = useState(false);\n  const ref = useRef(null);\n  const isInViewport = useInViewport(ref);\n  const singleDocumentContainerClassName = `fjs-${type}-single-document-container`;\n  const errorMessageId = `${domId}-error-message`;\n  const errorMessage = 'Unable to download document';\n  const isContentTypePresent = typeof metadata.contentType === 'string';\n\n  if (isContentTypePresent && metadata.contentType.toLowerCase().startsWith('image/') && isInViewport) {\n    return (\n      <div\n        class={singleDocumentContainerClassName}\n        style={{ maxHeight }}\n        aria-describedby={hasError ? errorMessageId : undefined}>\n        <img src={endpoint} alt={metadata.fileName} class={`fjs-${type}-image`} />\n        <DownloadButton\n          endpoint={endpoint}\n          fileName={metadata.fileName}\n          onDownloadError={() => {\n            setHasError(true);\n          }}\n        />\n        {hasError ? <Errors id={errorMessageId} errors={[errorMessage]} /> : null}\n      </div>\n    );\n  }\n\n  if (isContentTypePresent && metadata.contentType.toLowerCase() === 'application/pdf' && isInViewport) {\n    return (\n      <div\n        class={singleDocumentContainerClassName}\n        style={{ maxHeight }}\n        aria-describedby={hasError ? errorMessageId : undefined}>\n        <PdfRenderer\n          url={endpoint}\n          fileName={metadata.fileName}\n          onError={() => setHasError(true)}\n          errorMessageId={errorMessageId}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div\n      class={classNames(`fjs-${type}-non-preview-item`, `fjs-${type}-single-document-container`)}\n      ref={ref}\n      aria-describedby={hasError ? errorMessageId : undefined}>\n      <div>\n        <div class=\"fjs-document-preview-title\">{metadata.fileName}</div>\n        {hasError ? <Errors id={errorMessageId} errors={[errorMessage]} /> : null}\n      </div>\n      <DownloadButton\n        endpoint={endpoint}\n        fileName={metadata.fileName}\n        onDownloadError={() => {\n          setHasError(true);\n        }}\n      />\n    </div>\n  );\n}\n\n/**\n * @param {Object} props\n * @param {string} props.endpoint\n * @param {string} props.fileName\n * @param {Function} props.onDownloadError\n *\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction DownloadButton(props) {\n  const { endpoint, fileName, onDownloadError } = props;\n\n  const handleDownload = async () => {\n    try {\n      const response = await fetch(endpoint);\n\n      if (!response.ok) {\n        onDownloadError();\n        return;\n      }\n\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = fileName;\n      link.click();\n      window.URL.revokeObjectURL(url);\n    } catch {\n      onDownloadError();\n    }\n  };\n\n  return (\n    <button\n      type=\"button\"\n      onClick={handleDownload}\n      class={classNames(`fjs-${type}-download-button`)}\n      aria-label={`Download ${fileName}`}>\n      <DownloadIcon />\n    </button>\n  );\n}\n\n/**\n *\n * @param {import(\"preact\").RefObject<HTMLElement|null>} ref\n * @returns boolean\n */\nfunction useInViewport(ref) {\n  const [isInViewport, setIsInViewport] = useState(false);\n\n  useEffect(() => {\n    const container = ref.current;\n\n    if (!container) {\n      return;\n    }\n\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsInViewport(true);\n        }\n      },\n      {\n        threshold: 0,\n      },\n    );\n\n    observer.observe(container);\n\n    return () => {\n      if (container) {\n        observer.unobserve(container);\n      }\n    };\n  }, [ref]);\n\n  return isInViewport;\n}\n\n/**\n * @template T\n * @param {() => T} fn - Function to execute\n * @returns {T | null}\n */\nconst tryCatch = (fn) => {\n  try {\n    return fn();\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n};\n","/**\n * This file must not be changed or exchanged.\n *\n * @see http://bpmn.io/license for more information.\n */\nimport { Fragment } from 'preact';\nimport { useState } from 'preact/hooks';\nimport { createPortal } from 'preact/compat';\n\nfunction Logo() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 14.02 5.57\"\n      width=\"53\"\n      height=\"21\"\n      style=\"vertical-align:middle\">\n      <path\n        fill=\"currentColor\"\n        d=\"M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z\"\n      />\n      <path fill=\"currentColor\" d=\"M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z\" />\n    </svg>\n  );\n}\n\nfunction Lightbox(props) {\n  const { open } = props;\n\n  if (!open) {\n    return null;\n  }\n\n  return (\n    <div class=\"fjs-powered-by-lightbox\" style=\"z-index: 100; position: fixed; top: 0; left: 0;right: 0; bottom: 0\">\n      <div\n        class=\"backdrop\"\n        style=\"width: 100%; height: 100%; background: rgba(40 40 40 / 20%)\"\n        onClick={props.onBackdropClick}></div>\n      <div\n        class=\"notice\"\n        style=\"border-radius: 10px;  position: absolute; left: 50%; top: 40%; transform: translate(-50%); width: 260px; padding: 10px; background: white; box-shadow: 0  1px 4px rgba(0 0 0 / 30%); font-family: Helvetica, Arial, sans-serif; font-size: 14px; display: flex; line-height: 1.3\">\n        <a\n          href=\"https://bpmn.io\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          style=\"margin: 15px 20px 15px 10px; align-self: center; color: var(--cds-icon-primary, #404040)\">\n          <Logo />\n        </a>\n        <span>\n          Ferramentas baseadas na web para BPMN, DMN e formulários fornecidas pela{' '}\n          <a href=\"https://bpmn.io\" target=\"_blank\" rel=\"noopener noreferrer\">\n            bpmn.io\n          </a>\n          .\n        </span>\n      </div>\n    </div>\n  );\n}\n\nfunction Link(props) {\n  return (\n    <div class=\"fjs-powered-by fjs-form-field\" style=\"text-align: right\">\n      <a\n        href=\"https://bpmn.io\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        class=\"fjs-powered-by-link\"\n        title=\"Powered by bpmn.io\"\n        style=\"color: var(--cds-text-primary, #404040)\"\n        onClick={props.onClick}>\n        <Logo />\n      </a>\n    </div>\n  );\n}\n\nexport function PoweredBy(props) {\n  const [open, setOpen] = useState(false);\n\n  function toggleOpen(open) {\n    return (event) => {\n      event.preventDefault();\n\n      setOpen(open);\n    };\n  }\n\n  return (\n    <Fragment>\n      {createPortal(<Lightbox open={open} onBackdropClick={toggleOpen(false)} />, document.body)}\n      <Link onClick={toggleOpen(true)} />\n    </Fragment>\n  );\n}\n","import { FormField } from './FormField';\nimport { PoweredBy } from './PoweredBy';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext';\n\nimport { useMemo } from 'preact/hooks';\nimport { useFilteredFormData, useService } from '../hooks';\n\nconst noop = () => {};\n\nexport function FormComponent(props) {\n  const form = useService('form');\n\n  const { schema, properties } = form._getState();\n\n  const { ariaLabel } = properties;\n\n  const { onSubmit = noop, onReset = noop, onChange = noop } = props;\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    onSubmit();\n  };\n\n  const handleReset = (event) => {\n    event.preventDefault();\n\n    onReset();\n  };\n\n  const filteredFormData = useFilteredFormData();\n\n  const localExpressionContext = useMemo(\n    () => ({\n      data: filteredFormData,\n      parent: null,\n      this: filteredFormData,\n      i: [],\n    }),\n    [filteredFormData],\n  );\n\n  return (\n    <form class=\"fjs-form\" onSubmit={handleSubmit} onReset={handleReset} aria-label={ariaLabel} noValidate>\n      <LocalExpressionContext.Provider value={localExpressionContext}>\n        <FormField field={schema} onChange={onChange} />\n      </LocalExpressionContext.Provider>\n      <PoweredBy />\n    </form>\n  );\n}\n","import { Button } from './form-fields/Button';\nimport { Checkbox } from './form-fields/Checkbox';\nimport { Checklist } from './form-fields/Checklist';\nimport { Default } from './form-fields/Default';\nimport { Datetime } from './form-fields/Datetime';\nimport { Group } from './form-fields/Group';\nimport { IFrame } from './form-fields/IFrame';\nimport { Image } from './form-fields/Image';\nimport { Numberfield } from './form-fields/Number';\nimport { Radio } from './form-fields/Radio';\nimport { Select } from './form-fields/Select';\nimport { Separator } from './form-fields/Separator';\nimport { Spacer } from './form-fields/Spacer';\nimport { DynamicList } from './form-fields/DynamicList';\nimport { Taglist } from './form-fields/Taglist';\nimport { Text } from './form-fields/Text';\nimport { Html } from './form-fields/Html';\nimport { ExpressionField } from './form-fields/ExpressionField';\nimport { Textfield } from './form-fields/Textfield';\nimport { Textarea } from './form-fields/Textarea';\nimport { Table } from './form-fields/Table';\nimport { FilePicker } from './form-fields/FilePicker';\nimport { DocumentPreview } from './form-fields/DocumentPreview';\n\nimport { Label } from './Label';\nimport { Description } from './Description';\nimport { Errors } from './Errors';\nimport { FormComponent } from './FormComponent';\nimport { FormField } from './FormField';\n\nexport { Label, Description, Errors };\n\nexport {\n  Button,\n  Checkbox,\n  Checklist,\n  Default,\n  Datetime,\n  FormComponent,\n  FormField,\n  Group,\n  IFrame,\n  DynamicList,\n  Image,\n  Numberfield,\n  ExpressionField,\n  Radio,\n  Select,\n  Separator,\n  Spacer,\n  Taglist,\n  Text,\n  Html,\n  Textfield,\n  Textarea,\n  Table,\n  FilePicker,\n  DocumentPreview,\n};\n\nexport const formFields = [\n  /* Input */\n  Textfield,\n  Textarea,\n  Numberfield,\n  Datetime,\n  ExpressionField,\n  FilePicker,\n\n  /* Selection */\n  Checkbox,\n  Checklist,\n  Radio,\n  Select,\n  Taglist,\n\n  /* Presentation */\n  Text,\n  Image,\n  Table,\n  Html,\n  DocumentPreview,\n  Spacer,\n  Separator,\n\n  /* Containers */\n  Group,\n  DynamicList,\n  IFrame,\n\n  /* Other */\n  Button,\n  Default,\n];\n\nexport * from './icons';\nexport * from './Sanitizer';\nexport * from './util/domUtil';\nexport * from './util/sanitizerUtil';\n","import { formFields } from './components';\n\nexport class FormFields {\n  constructor() {\n    this._formFields = {};\n\n    formFields.forEach((formField) => {\n      this.register(formField.config.type, formField);\n    });\n  }\n\n  register(type, formField) {\n    this._formFields[type] = formField;\n  }\n\n  get(type) {\n    return this._formFields[type];\n  }\n}\n","import { FeelExpressionLanguage } from '../features/expressionLanguage/FeelExpressionLanguage.js';\nimport { FeelersTemplating } from '../features/expressionLanguage/FeelersTemplating.js';\nimport { FormFields } from '../render/FormFields.js';\n\nimport { get } from 'min-dash';\n\nconst EXPRESSION_PROPERTIES = [\n  'alt',\n  'appearance.prefixAdorner',\n  'appearance.suffixAdorner',\n  'conditional.hide',\n  'description',\n  'label',\n  'source',\n  'readonly',\n  'text',\n  'validate.min',\n  'validate.max',\n  'validate.minLength',\n  'validate.maxLength',\n  'valuesExpression',\n  'url',\n  'dataSource',\n  'columnsExpression',\n  'expression',\n  'multiple',\n  'accept',\n  'title',\n];\n\nconst TEMPLATE_PROPERTIES = [\n  'alt',\n  'appearance.prefixAdorner',\n  'appearance.suffixAdorner',\n  'description',\n  'label',\n  'source',\n  'text',\n  'content',\n  'url',\n  'title',\n];\n\n/**\n * @typedef { import('../types').Schema } Schema\n */\n\n/**\n * Parse the schema for variables a form might make use of.\n *\n * @example\n *\n * // retrieve variables from schema\n * const variables = getSchemaVariables(schema);\n *\n * @example\n *\n * // retrieve input variables from schema\n * const inputVariables = getSchemaVariables(schema, { outputs: false });\n *\n * @example\n *\n * // retrieve output variables from schema\n * const outputVariables = getSchemaVariables(schema, { inputs: false });\n *\n * @param {Schema} schema\n * @param {object} [options]\n * @param {any} [options.expressionLanguage]\n * @param {any} [options.templating]\n * @param {any} [options.formFields]\n * @param {boolean} [options.inputs=true]\n * @param {boolean} [options.outputs=true]\n *\n * @return {string[]}\n */\nexport function getSchemaVariables(schema, options = {}) {\n  const {\n    formFields = new FormFields(),\n    expressionLanguage = new FeelExpressionLanguage(null),\n    templating = new FeelersTemplating(),\n    inputs = true,\n    outputs = true,\n  } = options;\n\n  if (!schema.components) {\n    return [];\n  }\n\n  const getAllComponents = (node) => {\n    const components = [];\n\n    if (node.components) {\n      node.components.forEach((component) => {\n        components.push(component);\n        components.push(...getAllComponents(component));\n      });\n    }\n\n    return components;\n  };\n\n  const variables = getAllComponents(schema).reduce((variables, component) => {\n    const { valuesKey } = component;\n\n    // collect input-only variables\n    if (inputs) {\n      if (valuesKey) {\n        variables = [...variables, valuesKey];\n      }\n\n      EXPRESSION_PROPERTIES.forEach((prop) => {\n        const property = get(component, prop.split('.'));\n\n        if (property && expressionLanguage.isExpression(property)) {\n          const expressionVariables = expressionLanguage.getVariableNames(property, { type: 'expression' });\n\n          variables = [...variables, ...expressionVariables];\n        }\n      });\n\n      TEMPLATE_PROPERTIES.forEach((prop) => {\n        const property = get(component, prop.split('.'));\n\n        if (property && !expressionLanguage.isExpression(property) && templating.isTemplate(property)) {\n          const templateVariables = templating.getVariableNames(property);\n          variables = [...variables, ...templateVariables];\n        }\n      });\n    }\n\n    return variables.filter((variable) => typeof variable === 'string');\n  }, []);\n\n  const getBindingVariables = (node) => {\n    const bindingVariable = [];\n    const formField = formFields.get(node.type);\n\n    if (formField && formField.config.keyed && node.key) {\n      return [node.key.split('.')[0]];\n    } else if (formField && formField.config.pathed && node.path) {\n      return [node.path.split('.')[0]];\n    } else if (node.components) {\n      node.components.forEach((component) => {\n        bindingVariable.push(...getBindingVariables(component));\n      });\n    }\n\n    return bindingVariable;\n  };\n\n  // collect binding variables\n  if (inputs || outputs) {\n    variables.push(...getBindingVariables(schema));\n  }\n\n  // remove duplicates\n  return Array.from(new Set(variables));\n}\n","/**\n * Get the ancestry list of a form field.\n *\n * @param {string} formFieldId\n * @param {import('../core/FormFieldRegistry').FormFieldRegistry} formFieldRegistry\n *\n * @return {Array<string>} ancestry list\n */\nexport const getAncestryList = (formFieldId, formFieldRegistry) => {\n  const ids = [];\n\n  let currentFormField = formFieldRegistry.get(formFieldId);\n\n  while (currentFormField) {\n    ids.push(currentFormField.id);\n\n    currentFormField = formFieldRegistry.get(currentFormField._parent);\n  }\n\n  return ids;\n};\n","import { unaryTest } from 'feelin';\nimport { get, isString, set, values, isObject } from 'min-dash';\nimport { buildExpressionContext, clone } from '../../util';\n\n/**\n * @typedef {object} Condition\n * @property {string} [hide]\n */\n\nexport class ConditionChecker {\n  constructor(formFieldRegistry, pathRegistry, eventBus) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * For given data, remove properties based on condition.\n   *\n   * @param {Object<string, any>} data\n   * @param {Object<string, any>} contextData\n   * @param {Object} [options]\n   * @param {Function} [options.getFilterPath]\n   * @param {boolean} [options.leafNodeDeletionOnly]\n   */\n  applyConditions(data, contextData = {}, options = {}) {\n    const workingData = clone(data);\n\n    const { getFilterPath = (field, indexes) => this._pathRegistry.getValuePath(field, { indexes }) } = options;\n\n    const _applyConditionsWithinScope = (rootField, scopeContext, startHidden = false) => {\n      const { indexes = {}, expressionIndexes = [], scopeData = contextData, parentScopeData = null } = scopeContext;\n\n      this._pathRegistry.executeRecursivelyOnFields(rootField, ({ field, isClosed, isRepeatable, context }) => {\n        const { conditional, components, id } = field;\n\n        // build the expression context in the right format\n        const localExpressionContext = buildExpressionContext({\n          this: scopeData,\n          data: contextData,\n          i: expressionIndexes,\n          parent: parentScopeData,\n        });\n\n        context.isHidden =\n          startHidden ||\n          context.isHidden ||\n          (conditional && this._checkHideCondition(conditional, localExpressionContext));\n\n        // if a field is repeatable and visible, we need to implement custom recursion on its children\n        if (isRepeatable && !context.isHidden) {\n          // prevent the regular recursion behavior of executeRecursivelyOnFields\n          context.preventRecursion = true;\n\n          const repeaterValuePath = this._pathRegistry.getValuePath(field, { indexes });\n          const repeaterValue = get(contextData, repeaterValuePath);\n\n          // quit early if there are no children or data associated with the repeater\n          if (\n            !Array.isArray(repeaterValue) ||\n            !repeaterValue.length ||\n            !Array.isArray(components) ||\n            !components.length\n          ) {\n            return;\n          }\n\n          for (let i = 0; i < repeaterValue.length; i++) {\n            // create a new scope context for each index\n            const newScopeContext = {\n              indexes: { ...indexes, [id]: i },\n              expressionIndexes: [...expressionIndexes, i + 1],\n              scopeData: repeaterValue[i],\n              parentScopeData: scopeData,\n            };\n\n            // for each child component, apply conditions within the new repetition scope\n            components.forEach((component) => {\n              _applyConditionsWithinScope(component, newScopeContext, context.isHidden);\n            });\n          }\n        }\n\n        // if we have a hidden repeatable field, and the data structure allows, we clear it directly at the root and stop recursion\n        if (context.isHidden && isRepeatable) {\n          context.preventRecursion = true;\n          this._eventBus.fire('conditionChecker.remove', {\n            item: { [field.key]: get(workingData, getFilterPath(field, indexes)) },\n          });\n          this._cleanlyClearDataAtPath(getFilterPath(field, indexes), workingData);\n        }\n\n        // for simple leaf fields, we always clear\n        if (context.isHidden && isClosed) {\n          this._eventBus.fire('conditionChecker.remove', {\n            item: { [field.key]: get(workingData, getFilterPath(field, indexes)) },\n          });\n          this._cleanlyClearDataAtPath(getFilterPath(field, indexes), workingData);\n        }\n      });\n    };\n\n    // apply conditions starting with the root of the form\n    const form = this._formFieldRegistry.getForm();\n\n    if (!form) {\n      throw new Error('form field registry has no form');\n    }\n\n    _applyConditionsWithinScope(form, {\n      scopeData: contextData,\n    });\n\n    return workingData;\n  }\n\n  /**\n   * Check if given condition is met. Returns null for invalid/missing conditions.\n   *\n   * @param {string} condition\n   * @param {import('../../types').Data} [data]\n   *\n   * @returns {boolean|null}\n   */\n  check(condition, data = {}) {\n    if (!condition) {\n      return null;\n    }\n\n    if (!isString(condition) || !condition.startsWith('=')) {\n      return null;\n    }\n\n    try {\n      // cut off initial '='\n      const result = unaryTest(condition.slice(1), data);\n\n      return result;\n    } catch (error) {\n      this._eventBus.fire('error', { error });\n      return null;\n    }\n  }\n\n  /**\n   * Check if hide condition is met.\n   *\n   * @param {Condition} condition\n   * @param {Object<string, any>} data\n   * @returns {boolean}\n   */\n  _checkHideCondition(condition, data) {\n    if (!condition.hide) {\n      return false;\n    }\n\n    const result = this.check(condition.hide, data);\n\n    return result === true;\n  }\n\n  _cleanlyClearDataAtPath(valuePath, obj) {\n    const workingValuePath = [...valuePath];\n    let recurse = false;\n\n    do {\n      set(obj, workingValuePath, undefined);\n      workingValuePath.pop();\n      const parentObject = get(obj, workingValuePath);\n      recurse = !!workingValuePath.length && (this._isEmptyObject(parentObject) || this._isEmptyArray(parentObject));\n    } while (recurse);\n  }\n\n  _isEmptyObject(parentObject) {\n    return isObject(parentObject) && !values(parentObject).length;\n  }\n\n  _isEmptyArray(parentObject) {\n    return Array.isArray(parentObject) && (!parentObject.length || parentObject.every((item) => item === undefined));\n  }\n}\n\nConditionChecker.$inject = ['formFieldRegistry', 'pathRegistry', 'eventBus'];\n","import { FeelExpressionLanguage } from './FeelExpressionLanguage';\nimport { FeelersTemplating } from './FeelersTemplating';\nimport { ConditionChecker } from './ConditionChecker';\n\nexport const ExpressionLanguageModule = {\n  __init__: ['expressionLanguage', 'templating', 'conditionChecker'],\n  expressionLanguage: ['type', FeelExpressionLanguage],\n  templating: ['type', FeelersTemplating],\n  conditionChecker: ['type', ConditionChecker],\n};\n\nexport { FeelExpressionLanguage, FeelersTemplating, ConditionChecker };\n","export class ExpressionLoopPreventer {\n  constructor(eventBus) {\n    this._computedExpressions = [];\n\n    eventBus.on('field.updated', ({ shouldNotRecompute }) => {\n      if (shouldNotRecompute) {\n        return;\n      }\n\n      this.reset();\n    });\n\n    eventBus.on('import.done', this.reset.bind(this));\n    eventBus.on('reset', this.reset.bind(this));\n  }\n\n  /**\n   * Checks if the expression field has already been computed, and registers it if not.\n   *\n   * @param {any} expressionField\n   * @returns {boolean} - whether the expression field has already been computed within the current cycle\n   */\n  registerExpressionExecution(expressionField) {\n    if (this._computedExpressions.includes(expressionField)) {\n      return false;\n    }\n\n    this._computedExpressions.push(expressionField);\n\n    return true;\n  }\n\n  /**\n   * Resets the list of computed expressions.\n   */\n  reset() {\n    this._computedExpressions = [];\n  }\n}\n\nExpressionLoopPreventer.$inject = ['eventBus'];\n","import { ExpressionLoopPreventer } from './ExpressionLoopPreventer';\n\nexport const ExpressionFieldModule = {\n  __init__: ['expressionLoopPreventer'],\n  expressionLoopPreventer: ['type', ExpressionLoopPreventer],\n};\n\nexport { ExpressionLoopPreventer };\n","import { marked } from 'marked';\n\nexport class MarkdownRenderer {\n  /**\n   * Render markdown to HTML.\n   *\n   * @param {string} markdown - The markdown to render\n   *\n   * @returns {string} HTML\n   */\n  render(markdown) {\n    // @ts-expect-error\n    return marked.parse(markdown, {\n      gfm: true,\n      breaks: true,\n    });\n  }\n}\n\nMarkdownRenderer.$inject = [];\n","import { MarkdownRenderer } from './MarkdownRenderer';\n\nexport const MarkdownRendererModule = {\n  __init__: ['markdownRenderer'],\n  markdownRenderer: ['type', MarkdownRenderer],\n};\n\nexport { MarkdownRenderer };\n","import {\n  uniqueBy,\n  isArray\n} from 'min-dash';\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../core/Types').ElementLike} ElementLike\n *\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./CommandHandler').default} CommandHandler\n *\n * @typedef { any } CommandContext\n * @typedef { {\n *   new (...args: any[]) : CommandHandler\n * } } CommandHandlerConstructor\n * @typedef { {\n *   [key: string]: CommandHandler;\n * } } CommandHandlerMap\n * @typedef { {\n *   command: string;\n *   context: any;\n *   id?: any;\n * } } CommandStackAction\n * @typedef { {\n *   actions: CommandStackAction[];\n *   dirty: ElementLike[];\n *   trigger: 'execute' | 'undo' | 'redo' | 'clear' | null;\n *   atomic?: boolean;\n * } } CurrentExecution\n */\n\n/**\n * A service that offers un- and redoable execution of commands.\n *\n * The command stack is responsible for executing modeling actions\n * in a un- and redoable manner. To do this it delegates the actual\n * command execution to {@link CommandHandler}s.\n *\n * Command handlers provide {@link CommandHandler#execute(ctx)} and\n * {@link CommandHandler#revert(ctx)} methods to un- and redo a command\n * identified by a command context.\n *\n *\n * ## Life-Cycle events\n *\n * In the process the command stack fires a number of life-cycle events\n * that other components to participate in the command execution.\n *\n *    * preExecute\n *    * preExecuted\n *    * execute\n *    * executed\n *    * postExecute\n *    * postExecuted\n *    * revert\n *    * reverted\n *\n * A special event is used for validating, whether a command can be\n * performed prior to its execution.\n *\n *    * canExecute\n *\n * Each of the events is fired as `commandStack.{eventName}` and\n * `commandStack.{commandName}.{eventName}`, respectively. This gives\n * components fine grained control on where to hook into.\n *\n * The event object fired transports `command`, the name of the\n * command and `context`, the command context.\n *\n *\n * ## Creating Command Handlers\n *\n * Command handlers should provide the {@link CommandHandler#execute(ctx)}\n * and {@link CommandHandler#revert(ctx)} methods to implement\n * redoing and undoing of a command.\n *\n * A command handler _must_ ensure undo is performed properly in order\n * not to break the undo chain. It must also return the shapes that\n * got changed during the `execute` and `revert` operations.\n *\n * Command handlers may execute other modeling operations (and thus\n * commands) in their `preExecute(d)` and `postExecute(d)` phases. The command\n * stack will properly group all commands together into a logical unit\n * that may be re- and undone atomically.\n *\n * Command handlers must not execute other commands from within their\n * core implementation (`execute`, `revert`).\n *\n *\n * ## Change Tracking\n *\n * During the execution of the CommandStack it will keep track of all\n * elements that have been touched during the command's execution.\n *\n * At the end of the CommandStack execution it will notify interested\n * components via an 'elements.changed' event with all the dirty\n * elements.\n *\n * The event can be picked up by components that are interested in the fact\n * that elements have been changed. One use case for this is updating\n * their graphical representation after moving / resizing or deletion.\n *\n * @see CommandHandler\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nexport default function CommandStack(eventBus, injector) {\n\n  /**\n   * A map of all registered command handlers.\n   *\n   * @type {CommandHandlerMap}\n   */\n  this._handlerMap = {};\n\n  /**\n   * A stack containing all re/undoable actions on the diagram\n   *\n   * @type {CommandStackAction[]}\n   */\n  this._stack = [];\n\n  /**\n   * The current index on the stack\n   *\n   * @type {number}\n   */\n  this._stackIdx = -1;\n\n  /**\n   * Current active commandStack execution\n   *\n   * @type {CurrentExecution}\n   */\n  this._currentExecution = {\n    actions: [],\n    dirty: [],\n    trigger: null\n  };\n\n  /**\n   * @type {Injector}\n   */\n  this._injector = injector;\n\n  /**\n   * @type EventBus\n   */\n  this._eventBus = eventBus;\n\n  /**\n   * @type { number }\n   */\n  this._uid = 1;\n\n  eventBus.on([\n    'diagram.destroy',\n    'diagram.clear'\n  ], function() {\n    this.clear(false);\n  }, this);\n}\n\nCommandStack.$inject = [ 'eventBus', 'injector' ];\n\n\n/**\n * Execute a command.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n */\nCommandStack.prototype.execute = function(command, context) {\n  if (!command) {\n    throw new Error('command required');\n  }\n\n  this._currentExecution.trigger = 'execute';\n\n  const action = { command: command, context: context };\n\n  this._pushAction(action);\n  this._internalExecute(action);\n  this._popAction();\n};\n\n\n/**\n * Check whether a command can be executed.\n *\n * Implementors may hook into the mechanism on two ways:\n *\n *   * in event listeners:\n *\n *     Users may prevent the execution via an event listener.\n *     It must prevent the default action for `commandStack.(<command>.)canExecute` events.\n *\n *   * in command handlers:\n *\n *     If the method {@link CommandHandler#canExecute} is implemented in a handler\n *     it will be called to figure out whether the execution is allowed.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n *\n * @return {boolean} Whether the command can be executed with the given context.\n */\nCommandStack.prototype.canExecute = function(command, context) {\n\n  const action = { command: command, context: context };\n\n  const handler = this._getHandler(command);\n\n  let result = this._fire(command, 'canExecute', action);\n\n  // handler#canExecute will only be called if no listener\n  // decided on a result already\n  if (result === undefined) {\n    if (!handler) {\n      return false;\n    }\n\n    if (handler.canExecute) {\n      result = handler.canExecute(context);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Clear the command stack, erasing all undo / redo history.\n *\n * @param {boolean} [emit=true] Whether to fire an event. Defaults to `true`.\n */\nCommandStack.prototype.clear = function(emit) {\n  this._stack.length = 0;\n  this._stackIdx = -1;\n\n  if (emit !== false) {\n    this._fire('changed', { trigger: 'clear' });\n  }\n};\n\n\n/**\n * Undo last command(s)\n */\nCommandStack.prototype.undo = function() {\n  let action = this._getUndoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'undo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalUndo(action);\n      next = this._getUndoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Redo last command(s)\n */\nCommandStack.prototype.redo = function() {\n  let action = this._getRedoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'redo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalExecute(action, true);\n      next = this._getRedoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Register a handler instance with the command stack.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandler} handler Handler to execute the command.\n */\nCommandStack.prototype.register = function(command, handler) {\n  this._setHandler(command, handler);\n};\n\n\n/**\n * Register a handler type with the command stack  by instantiating it and\n * injecting its dependencies.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandlerConstructor} handlerCls Constructor to instantiate a {@link CommandHandler}.\n */\nCommandStack.prototype.registerHandler = function(command, handlerCls) {\n\n  if (!command || !handlerCls) {\n    throw new Error('command and handlerCls must be defined');\n  }\n\n  const handler = this._injector.instantiate(handlerCls);\n  this.register(command, handler);\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canUndo = function() {\n  return !!this._getUndoAction();\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canRedo = function() {\n  return !!this._getRedoAction();\n};\n\n// stack access  //////////////////////\n\nCommandStack.prototype._getRedoAction = function() {\n  return this._stack[this._stackIdx + 1];\n};\n\n\nCommandStack.prototype._getUndoAction = function() {\n  return this._stack[this._stackIdx];\n};\n\n\n// internal functionality //////////////////////\n\nCommandStack.prototype._internalUndo = function(action) {\n  const command = action.command,\n        context = action.context;\n\n  const handler = this._getHandler(command);\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n    this._fire(command, 'revert', action);\n\n    if (handler.revert) {\n      this._markDirty(handler.revert(context));\n    }\n\n    this._revertedAction(action);\n\n    this._fire(command, 'reverted', action);\n  });\n};\n\n\nCommandStack.prototype._fire = function(command, qualifier, event) {\n  if (arguments.length < 3) {\n    event = qualifier;\n    qualifier = null;\n  }\n\n  const names = qualifier ? [ command + '.' + qualifier, qualifier ] : [ command ];\n  let result;\n\n  event = this._eventBus.createEvent(event);\n\n  for (const name of names) {\n    result = this._eventBus.fire('commandStack.' + name, event);\n\n    if (event.cancelBubble) {\n      break;\n    }\n  }\n\n  return result;\n};\n\nCommandStack.prototype._createId = function() {\n  return this._uid++;\n};\n\nCommandStack.prototype._atomicDo = function(fn) {\n\n  const execution = this._currentExecution;\n\n  execution.atomic = true;\n\n  try {\n    fn();\n  } finally {\n    execution.atomic = false;\n  }\n};\n\nCommandStack.prototype._internalExecute = function(action, redo) {\n  const command = action.command,\n        context = action.context;\n\n  const handler = this._getHandler(command);\n\n  if (!handler) {\n    throw new Error('no command handler registered for <' + command + '>');\n  }\n\n  this._pushAction(action);\n\n  if (!redo) {\n    this._fire(command, 'preExecute', action);\n\n    if (handler.preExecute) {\n      handler.preExecute(context);\n    }\n\n    this._fire(command, 'preExecuted', action);\n  }\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n\n    this._fire(command, 'execute', action);\n\n    if (handler.execute) {\n\n      // actual execute + mark return results as dirty\n      this._markDirty(handler.execute(context));\n    }\n\n    // log to stack\n    this._executedAction(action, redo);\n\n    this._fire(command, 'executed', action);\n  });\n\n  if (!redo) {\n    this._fire(command, 'postExecute', action);\n\n    if (handler.postExecute) {\n      handler.postExecute(context);\n    }\n\n    this._fire(command, 'postExecuted', action);\n  }\n\n  this._popAction();\n};\n\n\nCommandStack.prototype._pushAction = function(action) {\n\n  const execution = this._currentExecution,\n        actions = execution.actions;\n\n  const baseAction = actions[0];\n\n  if (execution.atomic) {\n    throw new Error('illegal invocation in <execute> or <revert> phase (action: ' + action.command + ')');\n  }\n\n  if (!action.id) {\n    action.id = (baseAction && baseAction.id) || this._createId();\n  }\n\n  actions.push(action);\n};\n\n\nCommandStack.prototype._popAction = function() {\n  const execution = this._currentExecution,\n        trigger = execution.trigger,\n        actions = execution.actions,\n        dirty = execution.dirty;\n\n  actions.pop();\n\n  if (!actions.length) {\n    this._eventBus.fire('elements.changed', { elements: uniqueBy('id', dirty.reverse()) });\n\n    dirty.length = 0;\n\n    this._fire('changed', { trigger: trigger });\n\n    execution.trigger = null;\n  }\n};\n\n\nCommandStack.prototype._markDirty = function(elements) {\n  const execution = this._currentExecution;\n\n  if (!elements) {\n    return;\n  }\n\n  elements = isArray(elements) ? elements : [ elements ];\n\n  execution.dirty = execution.dirty.concat(elements);\n};\n\n\nCommandStack.prototype._executedAction = function(action, redo) {\n  const stackIdx = ++this._stackIdx;\n\n  if (!redo) {\n    this._stack.splice(stackIdx, this._stack.length, action);\n  }\n};\n\n\nCommandStack.prototype._revertedAction = function(action) {\n  this._stackIdx--;\n};\n\n\nCommandStack.prototype._getHandler = function(command) {\n  return this._handlerMap[command];\n};\n\nCommandStack.prototype._setHandler = function(command, handler) {\n  if (!command || !handler) {\n    throw new Error('command and handler required');\n  }\n\n  if (this._handlerMap[command]) {\n    throw new Error('overriding handler for command <' + command + '>');\n  }\n\n  this._handlerMap[command] = handler;\n};\n","import CommandStack from './CommandStack';\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  commandStack: [ 'type', CommandStack ]\n};\n","import { set } from 'min-dash';\nimport { clone } from '../../../util';\n\n/**\n * @deprecated\n */\nexport class UpdateFieldValidationHandler {\n  constructor(form, validator) {\n    this._form = form;\n    this._validator = validator;\n  }\n\n  execute(context) {\n    const { field, value, indexes } = context;\n    const { errors } = this._form._getState();\n\n    context.oldErrors = clone(errors);\n\n    const fieldErrors = this._validator.validateField(field, value);\n    const updatedErrors = set(\n      errors,\n      [field.id, ...Object.values(indexes || {})],\n      fieldErrors.length ? fieldErrors : undefined,\n    );\n    this._form._setState({ errors: updatedErrors });\n  }\n\n  revert(context) {\n    this._form._setState({ errors: context.oldErrors });\n  }\n}\n\nUpdateFieldValidationHandler.$inject = ['form', 'validator'];\n","import { set } from 'min-dash';\nimport { clone } from '../../../util';\n\nexport class UpdateFieldInstanceValidationHandler {\n  constructor(form, validator) {\n    this._form = form;\n    this._validator = validator;\n  }\n\n  execute(context) {\n    const { fieldInstance, value } = context;\n    const { id, indexes } = fieldInstance;\n    const { errors } = this._form._getState();\n\n    context.oldErrors = clone(errors);\n\n    const fieldErrors = this._validator.validateFieldInstance(fieldInstance, value);\n    const updatedErrors = set(\n      errors,\n      [id, ...Object.values(indexes || {})],\n      fieldErrors.length ? fieldErrors : undefined,\n    );\n    this._form._setState({ errors: updatedErrors });\n  }\n\n  revert(context) {\n    this._form._setState({ errors: context.oldErrors });\n  }\n}\n\nUpdateFieldInstanceValidationHandler.$inject = ['form', 'validator'];\n","import { UpdateFieldValidationHandler } from './cmd/UpdateFieldValidationHandler';\nimport { UpdateFieldInstanceValidationHandler } from './cmd/UpdateFieldInstanceValidationHandler';\n\nexport class ViewerCommands {\n  constructor(commandStack, eventBus) {\n    this._commandStack = commandStack;\n\n    eventBus.on('form.init', () => {\n      this.registerHandlers();\n    });\n  }\n\n  registerHandlers() {\n    Object.entries(this.getHandlers()).forEach(([id, handler]) => {\n      this._commandStack.registerHandler(id, handler);\n    });\n  }\n\n  getHandlers() {\n    return {\n      'formField.validation.update': UpdateFieldValidationHandler,\n      'formFieldInstance.validation.update': UpdateFieldInstanceValidationHandler,\n    };\n  }\n\n  /**\n   * @deprecated\n   */\n  updateFieldValidation(field, value, indexes) {\n    const context = {\n      field,\n      value,\n      indexes,\n    };\n\n    this._commandStack.execute('formField.validation.update', context);\n  }\n\n  updateFieldInstanceValidation(fieldInstance, value) {\n    const context = {\n      fieldInstance,\n      value,\n    };\n\n    this._commandStack.execute('formFieldInstance.validation.update', context);\n  }\n}\n\nViewerCommands.$inject = ['commandStack', 'eventBus'];\n","import commandModule from 'diagram-js/lib/command';\n\nimport { ViewerCommands } from './ViewerCommands';\n\nexport const ViewerCommandsModule = {\n  __depends__: [commandModule],\n  __init__: ['viewerCommands'],\n  viewerCommands: ['type', ViewerCommands],\n};\n\nexport { ViewerCommands };\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\"><path fill=\"currentColor\" d=\"M2 9h5.5v3.086l-1.293-1.293-.707.707L8 14l2.5-2.5-.707-.707L8.5 12.086V9H14V8H2v1ZM13 2H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Zm0 3H3V3h10v2Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\"><path fill=\"currentColor\" d=\"M13 10H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Zm0 3H3v-2h10v2ZM8.5 3.914l1.293 1.293.707-.707L8 2 5.5 4.5l.707.707L7.5 3.914V7H2v1h12V7H8.5V3.914Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\"><path fill=\"currentColor\" d=\"M8 2c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6 2.7-6 6-6Zm0-1C4.15 1 1 4.15 1 8s3.15 7 7 7 7-3.15 7-7-3.15-7-7-7Z\"/><path fill=\"currentColor\" d=\"M12 7.5H8.5V4h-1v3.5H4v1h3.5V12h1V8.5H12v-1Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\"><path fill=\"currentColor\" d=\"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8 12 4.7Z\"/></svg>","// disable react hook rules as the linter is confusing the functional components within a class as class components\n/* eslint-disable react-hooks/rules-of-hooks */\n\nimport { get } from 'min-dash';\nimport { useContext, useMemo, useRef } from 'preact/hooks';\nimport { LocalExpressionContext } from '../../render/context/LocalExpressionContext';\n\nimport ExpandSvg from '../../render/components/form-fields/icons/Expand.svg';\nimport CollapseSvg from '../../render/components/form-fields/icons/Collapse.svg';\nimport AddSvg from '../../render/components/form-fields/icons/Add.svg';\nimport DeleteSvg from '../../render/components/form-fields/icons/Delete.svg';\n\nimport { buildExpressionContext } from '../../util';\nimport { useScrollIntoView } from '../../render/hooks';\nimport classNames from 'classnames';\n\nexport class RepeatRenderManager {\n  constructor(form, formFields, formFieldRegistry, pathRegistry, eventBus) {\n    this._form = form;\n    /** @type {import('../../render/FormFields').FormFields} */\n    this._formFields = formFields;\n    /** @type {import('../../core/FormFieldRegistry').FormFieldRegistry} */\n    this._formFieldRegistry = formFieldRegistry;\n    /** @type {import('../../core/PathRegistry').PathRegistry} */\n    this._pathRegistry = pathRegistry;\n    /** @type {import('../../core/EventBus').EventBus} */\n    this._eventBus = eventBus;\n    this.Repeater = this.Repeater.bind(this);\n    this.RepeatFooter = this.RepeatFooter.bind(this);\n  }\n\n  /**\n   * Checks whether a field is currently repeating its children.\n   *\n   * @param {string} id - The id of the field to check\n   * @returns {boolean} - True if repeatable, false otherwise\n   */\n  isFieldRepeating(id) {\n    if (!id) {\n      return false;\n    }\n\n    const formField = this._formFieldRegistry.get(id);\n    const formFieldDefinition = this._formFields.get(formField.type);\n    return formFieldDefinition.config.repeatable && formField.isRepeating;\n  }\n\n  Repeater(props) {\n    const { RowsRenderer, indexes, useSharedState, ...restProps } = props;\n\n    const [sharedRepeatState] = useSharedState;\n\n    const { data } = this._form._getState();\n\n    const repeaterField = props.field;\n    const dataPath = this._pathRegistry.getValuePath(repeaterField, { indexes });\n    const values = get(data, dataPath) || [];\n\n    const nonCollapsedItems = this._getNonCollapsedItems(repeaterField);\n    const collapseEnabled = !repeaterField.disableCollapse && values.length > nonCollapsedItems;\n    const isCollapsed = collapseEnabled && sharedRepeatState.isCollapsed;\n\n    const hasChildren = repeaterField.components && repeaterField.components.length > 0;\n    const showRemove = repeaterField.allowAddRemove && hasChildren;\n\n    /**\n     * @param {number} index\n     */\n    const onDeleteItem = (index) => {\n      const updatedValues = values.slice();\n      const removedItem = updatedValues.splice(index, 1)[0];\n\n      this._eventBus.fire('repeatRenderManager.remove', { dataPath, index, item: removedItem });\n\n      props.onChange({\n        field: repeaterField,\n        value: updatedValues,\n        indexes,\n      });\n    };\n\n    const parentExpressionContextInfo = useContext(LocalExpressionContext);\n\n    return (\n      <>\n        {values.map((itemValue, itemIndex) => (\n          <div\n            key={itemIndex}\n            class={classNames({\n              'fjs-repeat-row-collapsed': isCollapsed ? itemIndex >= nonCollapsedItems : false,\n            })}>\n            <RepetitionScaffold\n              itemIndex={itemIndex}\n              itemValue={itemValue}\n              parentExpressionContextInfo={parentExpressionContextInfo}\n              repeaterField={repeaterField}\n              RowsRenderer={RowsRenderer}\n              indexes={indexes}\n              onDeleteItem={onDeleteItem}\n              showRemove={showRemove}\n              {...restProps}\n            />\n          </div>\n        ))}\n      </>\n    );\n  }\n\n  RepeatFooter(props) {\n    const addButtonRef = useRef(null);\n    const { useSharedState, indexes, field: repeaterField, readonly, disabled } = props;\n    const [sharedRepeatState, setSharedRepeatState] = useSharedState;\n\n    const { data } = this._form._getState();\n\n    const dataPath = this._pathRegistry.getValuePath(repeaterField, { indexes });\n    const values = get(data, dataPath) || [];\n\n    const nonCollapsedItems = this._getNonCollapsedItems(repeaterField);\n    const collapseEnabled = !repeaterField.disableCollapse && values.length > nonCollapsedItems;\n    const isCollapsed = collapseEnabled && sharedRepeatState.isCollapsed;\n\n    const hasChildren = repeaterField.components && repeaterField.components.length > 0;\n    const showAdd = repeaterField.allowAddRemove && hasChildren;\n\n    const toggle = () => {\n      setSharedRepeatState((state) => ({ ...state, isCollapsed: !isCollapsed }));\n    };\n\n    const shouldScroll = useRef(false);\n\n    const onAddItem = () => {\n      const updatedValues = values.slice();\n      const newItem = this._form._getInitializedFieldData(this._form._getState().data, {\n        container: repeaterField,\n        indexes: { ...indexes, [repeaterField.id]: updatedValues.length },\n      });\n\n      updatedValues.push(newItem);\n\n      shouldScroll.current = true;\n\n      this._eventBus.fire('repeatRenderManager.add', { dataPath, index: updatedValues.length - 1, item: newItem });\n\n      props.onChange({\n        value: updatedValues,\n      });\n\n      setSharedRepeatState((state) => ({ ...state, isCollapsed: false }));\n    };\n\n    useScrollIntoView(\n      addButtonRef,\n      [values.length],\n      {\n        align: 'bottom',\n        behavior: 'auto',\n        offset: 20,\n      },\n      [shouldScroll],\n    );\n\n    return (\n      <div\n        className={classNames('fjs-repeat-render-footer', {\n          'fjs-remove-allowed': repeaterField.allowAddRemove,\n        })}>\n        {showAdd ? (\n          <button\n            type=\"button\"\n            readOnly={readonly}\n            disabled={disabled || readonly}\n            class=\"fjs-repeat-render-add\"\n            ref={addButtonRef}\n            onClick={onAddItem}>\n            <>\n              <AddSvg /> {'Add new'}\n            </>\n          </button>\n        ) : null}\n        {collapseEnabled ? (\n          <button type=\"button\" class=\"fjs-repeat-render-collapse\" onClick={toggle}>\n            {isCollapsed ? (\n              <>\n                <ExpandSvg /> {`Expand all (${values.length - 1})`}\n              </>\n            ) : (\n              <>\n                <CollapseSvg /> {'Collapse'}\n              </>\n            )}\n          </button>\n        ) : null}\n      </div>\n    );\n  }\n\n  _getNonCollapsedItems(field) {\n    const DEFAULT_NON_COLLAPSED_ITEMS = 5;\n\n    const { nonCollapsedItems } = field;\n\n    return nonCollapsedItems ? nonCollapsedItems : DEFAULT_NON_COLLAPSED_ITEMS;\n  }\n}\n\n/**\n * Individual repetition of a repeated field and context scaffolding.\n *\n * @param {Object} props\n * @param {number} props.itemIndex\n * @param {Object} props.itemValue\n * @param {Object} props.parentExpressionContextInfo\n * @param {Object} props.repeaterField\n * @param {import('preact').FunctionComponent} props.RowsRenderer\n * @param {Object} props.indexes\n * @param {Function} props.onDeleteItem\n * @param {boolean} props.showRemove\n */\n\nconst RepetitionScaffold = (props) => {\n  const {\n    itemIndex,\n    itemValue,\n    parentExpressionContextInfo,\n    repeaterField,\n    RowsRenderer,\n    indexes,\n    onDeleteItem,\n    showRemove,\n    ...restProps\n  } = props;\n\n  const elementProps = useMemo(\n    () => ({\n      ...restProps,\n      indexes: { ...(indexes || {}), [repeaterField.id]: itemIndex },\n    }),\n    [itemIndex, indexes, repeaterField.id, restProps],\n  );\n\n  const localExpressionContextInfo = useMemo(\n    () => ({\n      data: parentExpressionContextInfo.data,\n      this: itemValue,\n      parent: buildExpressionContext({ ...parentExpressionContextInfo, data: parentExpressionContextInfo.this }),\n      i: [...parentExpressionContextInfo.i, itemIndex + 1],\n    }),\n    [itemIndex, parentExpressionContextInfo, itemValue],\n  );\n\n  return !showRemove ? (\n    <LocalExpressionContext.Provider value={localExpressionContextInfo}>\n      <RowsRenderer {...elementProps} />\n    </LocalExpressionContext.Provider>\n  ) : (\n    <div class=\"fjs-repeat-row-container\">\n      <div class=\"fjs-repeat-row-rows\">\n        <LocalExpressionContext.Provider value={localExpressionContextInfo}>\n          <RowsRenderer {...elementProps} />\n        </LocalExpressionContext.Provider>\n      </div>\n      <button\n        type=\"button\"\n        class=\"fjs-repeat-row-remove\"\n        aria-label={`Remove list item ${itemIndex + 1}`}\n        onClick={() => onDeleteItem(itemIndex)}>\n        <div class=\"fjs-repeat-row-remove-icon-container\">\n          <DeleteSvg />\n        </div>\n      </button>\n    </div>\n  );\n};\n\nRepeatRenderManager.$inject = ['form', 'formFields', 'formFieldRegistry', 'pathRegistry', 'eventBus'];\n","import { RepeatRenderManager } from './RepeatRenderManager';\n\nexport const RepeatRenderModule = {\n  __init__: ['repeatRenderManager'],\n  repeatRenderManager: ['type', RepeatRenderManager],\n};\n\nexport { RepeatRenderManager };\n","import {\n  isFunction,\n  isArray,\n  isNumber,\n  bind,\n  assign\n} from 'min-dash';\n\nvar FN_REF = '__fn';\n\nvar DEFAULT_PRIORITY = 1000;\n\nvar slice = Array.prototype.slice;\n\n/**\n * @typedef { {\n *   stopPropagation(): void;\n *   preventDefault(): void;\n *   cancelBubble: boolean;\n *   defaultPrevented: boolean;\n *   returnValue: any;\n * } } Event\n */\n\n/**\n * @template E\n *\n * @typedef { (event: E & Event, ...any) => any } EventBusEventCallback\n */\n\n/**\n * @typedef { {\n *  priority: number;\n *  next: EventBusListener | null;\n *  callback: EventBusEventCallback<any>;\n * } } EventBusListener\n */\n\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n *\n * @template [EventMap=null]\n */\nexport default function EventBus() {\n\n  /**\n   * @type { Record<string, EventBusListener> }\n   */\n  this._listeners = {};\n\n  // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n\n/**\n * @overlord\n *\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.on = function(events, priority, callback, that) {\n\n  events = isArray(events) ? events : [ events ];\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  var actualCallback = callback;\n\n  if (that) {\n    actualCallback = bind(callback, that);\n\n    // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n\n  var self = this;\n\n  events.forEach(function(e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n\n/**\n * @overlord\n *\n * Register an event listener that is called only once.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] the listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener that is called only once.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.once = function(events, priority, callback, that) {\n  var self = this;\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  function wrappedCallback() {\n    wrappedCallback.__isTomb = true;\n\n    var result = callback.apply(that, arguments);\n\n    self.off(events, wrappedCallback);\n\n    return result;\n  }\n\n  // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n  wrappedCallback[FN_REF] = callback;\n\n  this.on(events, priority, wrappedCallback);\n};\n\n\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|string[]} events\n * @param {EventBusEventCallback} [callback]\n */\nEventBus.prototype.off = function(events, callback) {\n\n  events = isArray(events) ? events : [ events ];\n\n  var self = this;\n\n  events.forEach(function(event) {\n    self._removeListener(event, callback);\n  });\n\n};\n\n\n/**\n * Create an event recognized be the event bus.\n *\n * @param {Object} data Event data.\n *\n * @return {Event} An event that will be recognized by the event bus.\n */\nEventBus.prototype.createEvent = function(data) {\n  var event = new InternalEvent();\n\n  event.init(data);\n\n  return event;\n};\n\n\n/**\n * Fires an event.\n *\n * @example\n *\n * ```javascript\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n * ```\n *\n * @param {string} [type] event type\n * @param {Object} [data] event or event data\n * @param {...any} [args] additional arguments the callback will be called with.\n *\n * @return {any} The return value. Will be set to `false` if the default was prevented.\n */\nEventBus.prototype.fire = function(type, data) {\n  var event,\n      firstListener,\n      returnValue,\n      args;\n\n  args = slice.call(arguments);\n\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n\n  firstListener = this._listeners[type];\n\n  if (!firstListener) {\n    return;\n  }\n\n  // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n  if (data instanceof InternalEvent) {\n\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  }\n\n  // ensure we pass the event as the first parameter\n  args[0] = event;\n\n  // original event type (in case we delegate)\n  var originalType = event.type;\n\n  // update event type before delegation\n  if (type !== originalType) {\n    event.type = type;\n  }\n\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  }\n\n  // set the return value to false if the event default\n  // got prevented and no other return value exists\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n\n  return returnValue;\n};\n\n/**\n * Handle an error by firing an event.\n *\n * @param {Error} error The error to be handled.\n *\n * @return {boolean} Whether the error was handled.\n */\nEventBus.prototype.handleError = function(error) {\n  return this.fire('error', { error: error }) === false;\n};\n\n\nEventBus.prototype._destroy = function() {\n  this._listeners = {};\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListeners = function(event, args, listener) {\n\n  var returnValue;\n\n  while (listener) {\n\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n\n    returnValue = this._invokeListener(event, args, listener);\n\n    listener = listener.next;\n  }\n\n  return returnValue;\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListener = function(event, args, listener) {\n\n  var returnValue;\n\n  if (listener.callback.__isTomb) {\n    return returnValue;\n  }\n\n  try {\n\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args);\n\n    // stop propagation on return value\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    }\n\n    // prevent default on return false\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (error) {\n    if (!this.handleError(error)) {\n      console.error('unhandled error in event listener', error);\n\n      throw error;\n    }\n  }\n\n  return returnValue;\n};\n\n/**\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {EventBusListener} newListener\n */\nEventBus.prototype._addListener = function(event, newListener) {\n\n  var listener = this._getListeners(event),\n      previousListener;\n\n  // no prior listeners\n  if (!listener) {\n    this._setListeners(event, newListener);\n\n    return;\n  }\n\n  // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n  while (listener) {\n\n    if (listener.priority < newListener.priority) {\n\n      newListener.next = listener;\n\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n\n      return;\n    }\n\n    previousListener = listener;\n    listener = listener.next;\n  }\n\n  // add new listener to back\n  previousListener.next = newListener;\n};\n\n\n/**\n * @param {string} name\n *\n * @return {EventBusListener}\n */\nEventBus.prototype._getListeners = function(name) {\n  return this._listeners[name];\n};\n\n/**\n * @param {string} name\n * @param {EventBusListener} listener\n */\nEventBus.prototype._setListeners = function(name, listener) {\n  this._listeners[name] = listener;\n};\n\nEventBus.prototype._removeListener = function(event, callback) {\n\n  var listener = this._getListeners(event),\n      nextListener,\n      previousListener,\n      listenerCallback;\n\n  if (!callback) {\n\n    // clear listeners\n    this._setListeners(event, null);\n\n    return;\n  }\n\n  while (listener) {\n\n    nextListener = listener.next;\n\n    listenerCallback = listener.callback;\n\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n\n/**\n * A event that is emitted via the event bus.\n */\nfunction InternalEvent() { }\n\nInternalEvent.prototype.stopPropagation = function() {\n  this.cancelBubble = true;\n};\n\nInternalEvent.prototype.preventDefault = function() {\n  this.defaultPrevented = true;\n};\n\nInternalEvent.prototype.init = function(data) {\n  assign(this, data || {});\n};\n\n\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {any[]} args\n *\n * @return {any}\n */\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n","import { isNil, get, set } from 'min-dash';\nimport { countDecimals } from '../render/components/util/numberFieldUtil';\nimport { runExpressionEvaluation } from '../util/expressions';\nimport Big from 'big.js';\n\nconst EMAIL_PATTERN =\n  /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\nconst PHONE_PATTERN =\n  /(\\+|00)(297|93|244|1264|358|355|376|971|54|374|1684|1268|61|43|994|257|32|229|226|880|359|973|1242|387|590|375|501|1441|591|55|1246|673|975|267|236|1|61|41|56|86|225|237|243|242|682|57|269|238|506|53|5999|61|1345|357|420|49|253|1767|45|1809|1829|1849|213|593|20|291|212|34|372|251|358|679|500|33|298|691|241|44|995|44|233|350|224|590|220|245|240|30|1473|299|502|594|1671|592|852|504|385|509|36|62|44|91|246|353|98|964|354|972|39|1876|44|962|81|76|77|254|996|855|686|1869|82|383|965|856|961|231|218|1758|423|94|266|370|352|371|853|590|212|377|373|261|960|52|692|389|223|356|95|382|976|1670|258|222|1664|596|230|265|60|262|264|687|227|672|234|505|683|31|47|977|674|64|968|92|507|64|51|63|680|675|48|1787|1939|850|351|595|970|689|974|262|40|7|250|966|249|221|65|500|4779|677|232|503|378|252|508|381|211|239|597|421|386|46|268|1721|248|963|1649|235|228|66|992|690|993|670|676|1868|216|90|688|886|255|256|380|598|1|998|3906698|379|1784|58|1284|1340|84|678|681|685|967|27|260|263)(9[976]\\d|8[987530]\\d|6[987]\\d|5[90]\\d|42\\d|3[875]\\d|2[98654321]\\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\\d{4,20}$/;\n\nconst VALIDATE_FEEL_PROPERTIES = ['min', 'max', 'minLength', 'maxLength'];\n\nexport class Validator {\n  constructor(expressionLanguage, conditionChecker, form, formFieldRegistry) {\n    this._expressionLanguage = expressionLanguage;\n    this._conditionChecker = conditionChecker;\n    this._form = form;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n\n  /**\n   * Validate against a field definition, does not support proper expression evaluation.\n   *\n   * @deprecated use validateFieldInstance instead\n   */\n  validateField(field, value) {\n    const { type, validate } = field;\n\n    let errors = [];\n\n    if (type === 'number') {\n      errors = [...errors, ...runNumberValidation(field, value)];\n    }\n\n    if (!validate) {\n      return errors;\n    }\n\n    const evaluatedValidation = oldEvaluateFEELValues(\n      validate,\n      this._expressionLanguage,\n      this._conditionChecker,\n      this._form,\n    );\n\n    errors = [...errors, ...runPresetValidation(field, evaluatedValidation, value)];\n\n    return errors;\n  }\n\n  /**\n   * Validate a field instance.\n   *\n   * @param {Object} fieldInstance\n   * @param {string} value\n   *\n   * @returns {Array<string>}\n   */\n  validateFieldInstance(fieldInstance, value) {\n    const { id, expressionContextInfo } = fieldInstance;\n\n    const field = this._formFieldRegistry.get(id);\n\n    if (!field) {\n      return [];\n    }\n\n    const { type, validate } = field;\n\n    let errors = [];\n\n    if (type === 'number') {\n      errors = [...errors, ...runNumberValidation(field, value)];\n    }\n\n    if (!validate) {\n      return errors;\n    }\n\n    const evaluatedValidation = evaluateFEELValues(validate, this._expressionLanguage, expressionContextInfo);\n\n    errors = [...errors, ...runPresetValidation(field, evaluatedValidation, value)];\n\n    return errors;\n  }\n}\n\nValidator.$inject = ['expressionLanguage', 'conditionChecker', 'form', 'formFieldRegistry'];\n\n// helpers //////////\n\nfunction runNumberValidation(field, value) {\n  const { decimalDigits, increment } = field;\n  const errors = [];\n\n  if (value === 'NaN') {\n    errors.push('Value is not a number.');\n  } else if (value) {\n    if (decimalDigits >= 0 && countDecimals(value) > decimalDigits) {\n      errors.push(\n        'Value is expected to ' +\n          (decimalDigits === 0\n            ? 'be an integer'\n            : `have at most ${decimalDigits} decimal digit${decimalDigits > 1 ? 's' : ''}`) +\n          '.',\n      );\n    }\n\n    if (increment) {\n      const bigValue = Big(value);\n      const bigIncrement = Big(increment);\n\n      const offset = bigValue.mod(bigIncrement);\n\n      if (offset.cmp(0) !== 0) {\n        const previousValue = bigValue.minus(offset);\n        const nextValue = previousValue.plus(bigIncrement);\n\n        errors.push(`Please select a valid value, the two nearest valid values are ${previousValue} and ${nextValue}.`);\n      }\n    }\n  }\n\n  return errors;\n}\n\nfunction runPresetValidation(field, validation, value) {\n  const errors = [];\n\n  if (validation.pattern && value && !new RegExp(validation.pattern).test(value)) {\n    errors.push(`Field must match pattern ${validation.pattern}.`);\n  }\n\n  if (validation.required) {\n    const isUncheckedCheckbox = field.type === 'checkbox' && value === false;\n    const isUnsetValue = isNil(value) || value === '';\n    const isEmptyMultiselect = Array.isArray(value) && value.length === 0;\n\n    if (isUncheckedCheckbox || isUnsetValue || isEmptyMultiselect) {\n      errors.push('Field is required.');\n    }\n  }\n\n  if ('min' in validation && (value || value === 0) && value < validation.min) {\n    errors.push(`Field must have minimum value of ${validation.min}.`);\n  }\n\n  if ('max' in validation && (value || value === 0) && value > validation.max) {\n    errors.push(`Field must have maximum value of ${validation.max}.`);\n  }\n\n  if ('minLength' in validation && value && value.trim().length < validation.minLength) {\n    errors.push(`Field must have minimum length of ${validation.minLength}.`);\n  }\n\n  if ('maxLength' in validation && value && value.trim().length > validation.maxLength) {\n    errors.push(`Field must have maximum length of ${validation.maxLength}.`);\n  }\n\n  if ('validationType' in validation && value && validation.validationType === 'phone' && !PHONE_PATTERN.test(value)) {\n    errors.push('Field must be a valid  international phone number. (e.g. +4930664040900)');\n  }\n\n  if ('validationType' in validation && value && validation.validationType === 'email' && !EMAIL_PATTERN.test(value)) {\n    errors.push('Field must be a valid email.');\n  }\n\n  return errors;\n}\n\nfunction evaluateFEELValues(validate, expressionLanguage, expressionContextInfo) {\n  const evaluatedValidate = { ...validate };\n\n  VALIDATE_FEEL_PROPERTIES.forEach((property) => {\n    const path = property.split('.');\n    const value = get(evaluatedValidate, path);\n    const evaluatedValue = runExpressionEvaluation(expressionLanguage, value, expressionContextInfo);\n    set(evaluatedValidate, path, evaluatedValue === null ? undefined : evaluatedValue);\n  });\n\n  return evaluatedValidate;\n}\n\nfunction oldEvaluateFEELValues(validate, expressionLanguage, conditionChecker, form) {\n  const evaluatedValidate = { ...validate };\n\n  VALIDATE_FEEL_PROPERTIES.forEach((property) => {\n    const path = property.split('.');\n\n    const value = get(evaluatedValidate, path);\n\n    // mirroring FEEL evaluation of our hooks\n    if (!expressionLanguage || !expressionLanguage.isExpression(value)) {\n      return value;\n    }\n\n    const { initialData, data } = form._getState();\n\n    const newData = conditionChecker ? conditionChecker.applyConditions(data, data) : data;\n    const filteredData = { ...initialData, ...newData };\n\n    const evaluatedValue = expressionLanguage.evaluate(value, filteredData);\n\n    // replace validate property with evaluated value\n    if (evaluatedValue) {\n      set(evaluatedValidate, path, evaluatedValue);\n    }\n  });\n\n  return evaluatedValidate;\n}\n","import { clone } from '../util';\n\nexport class Importer {\n  /**\n   * @constructor\n   * @param { import('./FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   * @param { import('./PathRegistry').PathRegistry } pathRegistry\n   * @param { import('./FieldFactory').FieldFactory } fieldFactory\n   * @param { import('./FormLayouter').FormLayouter } formLayouter\n   */\n  constructor(formFieldRegistry, pathRegistry, fieldFactory, formLayouter) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._fieldFactory = fieldFactory;\n    this._formLayouter = formLayouter;\n  }\n\n  /**\n   * Import schema creating rows, fields, attaching additional\n   * information to each field and adding fields to the\n   * field registry.\n   *\n   * Additional information attached:\n   *\n   *   * `id` (unless present)\n   *   * `_parent`\n   *   * `_path`\n   *\n   * @param {any} schema\n   *\n   * @typedef {{ warnings: Error[], schema: any }} ImportResult\n   * @returns {ImportResult}\n   */\n  importSchema(schema) {\n    // TODO: Add warnings\n    const warnings = [];\n\n    try {\n      this._cleanup();\n      const importedSchema = this.importFormField(clone(schema));\n      this._formLayouter.calculateLayout(clone(importedSchema));\n\n      return {\n        schema: importedSchema,\n        warnings,\n      };\n    } catch (err) {\n      this._cleanup();\n      err.warnings = warnings;\n      throw err;\n    }\n  }\n\n  _cleanup() {\n    this._formLayouter.clear();\n    this._formFieldRegistry.clear();\n    this._pathRegistry.clear();\n  }\n\n  /**\n   * @param {{[x: string]: any}} fieldAttrs\n   * @param {String} [parentId]\n   * @param {number} [index]\n   *\n   * @return {any} field\n   */\n  importFormField(fieldAttrs, parentId, index) {\n    const { components } = fieldAttrs;\n\n    let parent, path;\n\n    if (parentId) {\n      parent = this._formFieldRegistry.get(parentId);\n    }\n\n    // set form field path\n    path = parent ? [...parent._path, 'components', index] : [];\n\n    const field = this._fieldFactory.create(\n      {\n        ...fieldAttrs,\n        _path: path,\n        _parent: parentId,\n      },\n      false,\n    );\n\n    this._formFieldRegistry.add(field);\n\n    if (components) {\n      field.components = this.importFormFields(components, field.id);\n    }\n\n    return field;\n  }\n\n  /**\n   * @param {Array<any>} components\n   * @param {string} parentId\n   *\n   * @return {Array<any>} imported components\n   */\n  importFormFields(components, parentId) {\n    return components.map((component, index) => {\n      return this.importFormField(component, parentId, index);\n    });\n  }\n}\n\nImporter.$inject = ['formFieldRegistry', 'pathRegistry', 'fieldFactory', 'formLayouter'];\n","import { getAncestryList } from '../util';\n\nexport class FieldFactory {\n  /**\n   * @constructor\n   *\n   * @param  formFieldRegistry\n   * @param  formFields\n   */\n  constructor(formFieldRegistry, pathRegistry, formFields) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._formFields = formFields;\n  }\n\n  create(attrs, isNewField = true) {\n    const { id, type, key, path, _parent } = attrs;\n\n    const fieldDefinition = this._formFields.get(type);\n\n    if (!fieldDefinition) {\n      throw new Error(`form field of type <${type}> not supported`);\n    }\n\n    const { config } = fieldDefinition;\n\n    if (!config) {\n      throw new Error(`form field of type <${type}> has no config`);\n    }\n\n    if (id && this._formFieldRegistry._ids.assigned(id)) {\n      throw new Error(`form field with id <${id}> already exists`);\n    }\n\n    // ensure that we can claim the path\n\n    const parent = _parent && this._formFieldRegistry.get(_parent);\n    const parentPath = (parent && this._pathRegistry.getValuePath(parent)) || [];\n    const knownAncestorIds = getAncestryList(_parent, this._formFieldRegistry);\n\n    if (\n      config.keyed &&\n      key &&\n      !this._pathRegistry.canClaimPath([...parentPath, ...key.split('.')], {\n        isClosed: true,\n        knownAncestorIds,\n      })\n    ) {\n      throw new Error(`binding path '${[...parentPath, key].join('.')}' is already claimed`);\n    }\n\n    if (\n      config.pathed &&\n      path &&\n      !this._pathRegistry.canClaimPath([...parentPath, ...path.split('.')], {\n        isRepeatable: config.repeatable,\n        knownAncestorIds,\n      })\n    ) {\n      throw new Error(`binding path '${[...parentPath, ...path.split('.')].join('.')}' is already claimed`);\n    }\n\n    const field = config.create(\n      {\n        ...(config.label ? { label: config.label } : {}),\n        ...attrs,\n      },\n      isNewField,\n    );\n\n    this._ensureId(field);\n\n    if (config.keyed) {\n      this._ensureKey(field);\n      this._pathRegistry.claimPath(this._pathRegistry.getValuePath(field), {\n        isClosed: true,\n        claimerId: field.id,\n        knownAncestorIds: getAncestryList(_parent, this._formFieldRegistry),\n      });\n    }\n\n    if (config.pathed) {\n      if (config.repeatable) {\n        this._enforceDefaultPath(field);\n      }\n\n      this._pathRegistry.claimPath(this._pathRegistry.getValuePath(field), {\n        isRepeatable: config.repeatable,\n        claimerId: field.id,\n        knownAncestorIds: getAncestryList(_parent, this._formFieldRegistry),\n      });\n    }\n\n    return field;\n  }\n\n  _ensureId(field) {\n    if (field.id) {\n      this._formFieldRegistry._ids.claim(field.id, field);\n\n      return;\n    }\n\n    let prefix = 'Field';\n\n    if (field.type === 'default') {\n      prefix = 'Form';\n    }\n\n    field.id = this._formFieldRegistry._ids.nextPrefixed(`${prefix}_`, field);\n  }\n\n  _ensureKey(field) {\n    if (!field.key) {\n      field.key = this._getUniqueKeyPath(field);\n    }\n  }\n\n  _enforceDefaultPath(field) {\n    if (!field.path) {\n      field.path = this._getUniqueKeyPath(field);\n    }\n  }\n\n  _getUniqueKeyPath(field) {\n    let random;\n    const parent = this._formFieldRegistry.get(field._parent);\n\n    // ensure key uniqueness at level\n    do {\n      random = Math.random().toString(36).substring(7);\n    } while (parent && parent.components.some((child) => child.key === random));\n\n    return `${field.type}_${random}`;\n  }\n}\n\nFieldFactory.$inject = ['formFieldRegistry', 'pathRegistry', 'formFields'];\n","import { isArray } from 'min-dash';\nimport { clone, getAncestryList } from '../util';\n\n/**\n * The PathRegistry class manages a hierarchical structure of paths associated with form fields.\n * It enables claiming, unclaiming, and validating paths within this structure.\n *\n * Example Tree Structure:\n *\n *   [\n *     {\n *       segment: 'root',\n *       claimCount: 1,\n *       children: [\n *         {\n *           segment: 'child1',\n *           claimCount: 2,\n *           children: null  // A leaf node (closed path)\n *         },\n *         {\n *           segment: 'child2',\n *           claimCount: 1,\n *           children: [\n *             {\n *               segment: 'subChild1',\n *               claimCount: 1,\n *               children: []  // An open node (open path)\n *             }\n *           ]\n *         }\n *       ]\n *     }\n *   ]\n */\nexport class PathRegistry {\n  constructor(formFieldRegistry, formFields, injector) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._formFields = formFields;\n    this._injector = injector;\n    this._dataPaths = [];\n  }\n\n  canClaimPath(path, options = {}) {\n    const {\n      isClosed = false,\n      isRepeatable = false,\n      skipAncestryCheck = false,\n      claimerId = null,\n      knownAncestorIds = [],\n    } = options;\n\n    let node = { children: this._dataPaths };\n\n    // (1) if we reach a leaf node, we cannot claim it, if we reach an open node, we can\n    // if we reach a repeatable node, we need to ensure that the claimer is (or will be) an ancestor of the repeater\n    for (const segment of path) {\n      node = _getNextSegment(node, segment);\n\n      if (!node) {\n        return true;\n      }\n\n      if (node.isRepeatable && !skipAncestryCheck) {\n        if (!(claimerId || knownAncestorIds.length)) {\n          throw new Error(\n            'cannot claim a path that contains a repeater without specifying a claimerId or knownAncestorIds',\n          );\n        }\n\n        const isValidRepeatClaim =\n          knownAncestorIds.includes(node.repeaterId) ||\n          (claimerId && getAncestryList(claimerId, this._formFieldRegistry).includes(node.repeaterId));\n\n        if (!isValidRepeatClaim) {\n          return false;\n        }\n      }\n\n      if (node.children === null) {\n        return false;\n      }\n    }\n\n    // (2) if the path lands in the middle of the tree, we can only claim an open, non-repeatable path\n    return !(isClosed || isRepeatable);\n  }\n\n  claimPath(path, options = {}) {\n    const { isClosed = false, isRepeatable = false, claimerId = null, knownAncestorIds = [] } = options;\n\n    if (!this.canClaimPath(path, { isClosed, isRepeatable, claimerId, knownAncestorIds })) {\n      throw new Error(`cannot claim path '${path.join('.')}'`);\n    }\n\n    let node = { children: this._dataPaths };\n\n    for (const segment of path) {\n      let child = _getNextSegment(node, segment);\n\n      if (!child) {\n        child = { segment, claimCount: 1, children: [] };\n        node.children.push(child);\n      } else {\n        child.claimCount++;\n      }\n\n      node = child;\n    }\n\n    if (isClosed) {\n      node.children = null;\n    }\n\n    // add some additional info when we make a repeatable path claim\n    if (isRepeatable) {\n      node.isRepeatable = true;\n      node.repeaterId = claimerId;\n    }\n  }\n\n  unclaimPath(path) {\n    // verification Pass\n    let node = { children: this._dataPaths };\n    for (const segment of path) {\n      const child = _getNextSegment(node, segment);\n      if (!child) {\n        throw new Error(`no open path found for '${path.join('.')}'`);\n      }\n      node = child;\n    }\n\n    // mutation Pass\n    node = { children: this._dataPaths };\n    for (const segment of path) {\n      const child = _getNextSegment(node, segment);\n\n      child.claimCount--;\n\n      if (child.claimCount === 0) {\n        node.children.splice(node.children.indexOf(child), 1);\n        break; // Abort early if claimCount reaches zero\n      }\n\n      node = child;\n    }\n  }\n\n  /**\n   * Applies a function (fn) recursively on a given field and its children.\n   *\n   * - `field`: Starting field object.\n   * - `fn`: Function to apply.\n   * - `context`: Optional object for passing data between calls.\n   *\n   * Stops early if `fn` returns `false`. Useful for traversing the form field tree.\n   *\n   * @returns {boolean} Success status based on function execution.\n   */\n  executeRecursivelyOnFields(field, fn, context = {}) {\n    let result = true;\n\n    const formFieldConfig = this._formFields.get(field.type).config;\n\n    if (formFieldConfig.keyed) {\n      const callResult = fn({ field, isClosed: true, isRepeatable: false, context });\n      return result && callResult;\n    } else if (formFieldConfig.pathed) {\n      const callResult = fn({ field, isClosed: false, isRepeatable: formFieldConfig.repeatable, context });\n      result = result && callResult;\n    }\n\n    // stop executing if false is specifically returned or if preventing recursion\n    if (result === false || context.preventRecursion) {\n      return result;\n    }\n\n    if (Array.isArray(field.components)) {\n      for (const child of field.components) {\n        const callResult = this.executeRecursivelyOnFields(child, fn, clone(context));\n        result = result && callResult;\n\n        // stop executing if false is specifically returned\n        if (result === false) {\n          return result;\n        }\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * Generates an array representing the binding path to an underlying data object for a form field.\n   *\n   * @param {Object} field - The field object with properties: `key`, `path`, `id`, and optionally `_parent`.\n   * @param {Object} [options={}] - Configuration options.\n   * @param {Object} [options.replacements={}] - A map of field IDs to alternative path arrays.\n   * @param {Object} [options.indexes=null] - A map of parent IDs to the index of the field within said parent, leave null to get an unindexed path.\n   * @param {Object} [options.cutoffNode] - The ID of the parent field at which to stop generating the path.\n   *\n   * @returns {(Array<string>|undefined)} An array of strings representing the binding path, or undefined if not determinable.\n   */\n  getValuePath(field, options = {}) {\n    const { replacements = {}, indexes = null, cutoffNode = null } = options;\n\n    let localValuePath = [];\n\n    const hasReplacement = Object.prototype.hasOwnProperty.call(replacements, field.id);\n    const formFieldConfig = this._formFields.get(field.type).config;\n\n    // uses path overrides instead of true path to calculate a potential value path\n    if (hasReplacement) {\n      const replacement = replacements[field.id];\n\n      if (replacement === null || replacement === undefined || replacement === '') {\n        localValuePath = [];\n      } else if (typeof replacement === 'string') {\n        localValuePath = replacement.split('.');\n      } else if (Array.isArray(replacement)) {\n        localValuePath = replacement;\n      } else {\n        throw new Error(`replacements for field ${field.id} must be a string, array or null/undefined`);\n      }\n    } else if (formFieldConfig.keyed) {\n      localValuePath = field.key.split('.');\n    } else if (formFieldConfig.pathed && field.path) {\n      localValuePath = field.path.split('.');\n    }\n\n    // add potential indexes of repeated fields\n    if (indexes) {\n      localValuePath = this._addIndexes(localValuePath, field, indexes);\n    }\n\n    // if parent exists and isn't cutoff node, add parent's value path\n    if (field._parent && field._parent !== cutoffNode) {\n      const parent = this._formFieldRegistry.get(field._parent);\n      return [...(this.getValuePath(parent, options) || []), ...localValuePath];\n    }\n\n    return localValuePath;\n  }\n\n  clear() {\n    this._dataPaths = [];\n  }\n\n  _addIndexes(localValuePath, field, indexes) {\n    const repeatRenderManager = this._injector.get('repeatRenderManager', false);\n\n    if (repeatRenderManager && repeatRenderManager.isFieldRepeating(field._parent)) {\n      return [indexes[field._parent], ...localValuePath];\n    }\n\n    return localValuePath;\n  }\n}\n\nconst _getNextSegment = (node, segment) => {\n  if (isArray(node.children)) {\n    return node.children.find((node) => node.segment === segment) || null;\n  }\n  return null;\n};\n\nPathRegistry.$inject = ['formFieldRegistry', 'formFields', 'injector'];\n","import Ids from 'ids';\n\nimport { groupBy } from 'min-dash';\n\n/**\n * @typedef { { id: String, components: Array<String> } } FormRow\n * @typedef { { formFieldId: String, rows: Array<FormRow> } } FormRows\n */\n\n/**\n * Maintains the Form layout in a given structure, for example\n *\n *  [\n *    {\n *      formFieldId: 'FormField_1',\n *      rows: [\n *        { id: 'Row_1', components: [ 'Text_1', 'Textdield_1', ... ]  }\n *      ]\n *    }\n *  ]\n *\n */\nexport class FormLayouter {\n  constructor(eventBus) {\n    /** @type Array<FormRows>  */\n    this._rows = [];\n    this._ids = new Ids([32, 36, 1]);\n\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * @param {FormRow} row\n   */\n  addRow(formFieldId, row) {\n    let rowsPerComponent = this._rows.find((r) => r.formFieldId === formFieldId);\n\n    if (!rowsPerComponent) {\n      rowsPerComponent = {\n        formFieldId,\n        rows: [],\n      };\n\n      this._rows.push(rowsPerComponent);\n    }\n\n    rowsPerComponent.rows.push(row);\n  }\n\n  /**\n   * @param {String} id\n   * @returns {FormRow}\n   */\n  getRow(id) {\n    const rows = allRows(this._rows);\n    return rows.find((r) => r.id === id);\n  }\n\n  /**\n   * @param {any} formField\n   * @returns {FormRow}\n   */\n  getRowForField(formField) {\n    return allRows(this._rows).find((r) => {\n      const { components } = r;\n\n      return components.includes(formField.id);\n    });\n  }\n\n  /**\n   * @param {String} formFieldId\n   * @returns { Array<FormRow> }\n   */\n  getRows(formFieldId) {\n    const rowsForField = this._rows.find((r) => formFieldId === r.formFieldId);\n\n    if (!rowsForField) {\n      return [];\n    }\n\n    return rowsForField.rows;\n  }\n\n  /**\n   * @returns {string}\n   */\n  nextRowId() {\n    return this._ids.nextPrefixed('Row_');\n  }\n\n  /**\n   * @param {any} formField\n   */\n  calculateLayout(formField) {\n    const { type, components } = formField;\n\n    if (!['default', 'group', 'dynamiclist'].includes(type) || !components) {\n      return;\n    }\n\n    // (1) calculate rows order (by component order)\n    const rowsInOrder = groupByRow(components, this._ids);\n\n    Object.entries(rowsInOrder).forEach(([id, components]) => {\n      // (2) add fields to rows\n      this.addRow(formField.id, {\n        id: id,\n        components: components.map((c) => c.id),\n      });\n    });\n\n    // (3) traverse through nested components\n    components.forEach((field) => this.calculateLayout(field));\n\n    // (4) fire event to notify interested parties\n    this._eventBus.fire('form.layoutCalculated', { rows: this._rows });\n  }\n\n  clear() {\n    this._rows = [];\n    this._ids.clear();\n\n    // fire event to notify interested parties\n    this._eventBus.fire('form.layoutCleared');\n  }\n}\n\nFormLayouter.$inject = ['eventBus'];\n\n// helpers //////\n\nfunction groupByRow(components, ids) {\n  return groupBy(components, (c) => {\n    // mitigate missing row by creating new (handle legacy)\n    const { layout } = c;\n\n    if (!layout || !layout.row) {\n      return ids.nextPrefixed('Row_');\n    }\n\n    return layout.row;\n  });\n}\n\n/**\n * @param {Array<FormRows>} formRows\n * @returns {Array<FormRow>}\n */\nfunction allRows(formRows) {\n  return formRows.map((r) => r.rows).flat();\n}\n","import Ids from 'ids';\n\nexport class FormFieldRegistry {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n\n    this._formFields = {};\n\n    eventBus.on('form.clear', () => this.clear());\n\n    this._ids = new Ids([32, 36, 1]);\n  }\n\n  add(formField) {\n    const { id } = formField;\n\n    if (this._formFields[id]) {\n      throw new Error(`form field with ID ${id} already exists`);\n    }\n\n    this._eventBus.fire('formField.add', { formField });\n\n    this._formFields[id] = formField;\n  }\n\n  remove(formField) {\n    const { id } = formField;\n\n    if (!this._formFields[id]) {\n      return;\n    }\n\n    this._eventBus.fire('formField.remove', { formField });\n\n    delete this._formFields[id];\n  }\n\n  get(id) {\n    return this._formFields[id];\n  }\n\n  getAll() {\n    return Object.values(this._formFields);\n  }\n\n  getForm() {\n    return this.getAll().find((formField) => formField.type === 'default');\n  }\n\n  forEach(callback) {\n    this.getAll().forEach((formField) => callback(formField));\n  }\n\n  clear() {\n    this._formFields = {};\n\n    this._ids.clear();\n  }\n}\n\nFormFieldRegistry.$inject = ['eventBus'];\n","export class FormFieldInstanceRegistry {\n  constructor(eventBus, formFieldRegistry, formFields) {\n    this._eventBus = eventBus;\n    this._formFieldRegistry = formFieldRegistry;\n    this._formFields = formFields;\n\n    this._formFieldInstances = {};\n\n    eventBus.on('form.clear', () => this.clear());\n  }\n\n  syncInstance(instanceId, formFieldInfo) {\n    const { hidden, ...restInfo } = formFieldInfo;\n\n    const isInstanceExpected = !hidden;\n    const doesInstanceExist = this._formFieldInstances[instanceId];\n\n    if (isInstanceExpected && !doesInstanceExist) {\n      this._formFieldInstances[instanceId] = {\n        instanceId,\n        ...restInfo,\n      };\n\n      this._eventBus.fire('formFieldInstance.added', { instanceId });\n    } else if (!isInstanceExpected && doesInstanceExist) {\n      delete this._formFieldInstances[instanceId];\n\n      this._eventBus.fire('formFieldInstance.removed', { instanceId });\n    } else if (isInstanceExpected && doesInstanceExist) {\n      const wasInstanceChanged = Object.keys(restInfo).some((key) => {\n        return this._formFieldInstances[instanceId][key] !== restInfo[key];\n      });\n\n      if (wasInstanceChanged) {\n        this._formFieldInstances[instanceId] = {\n          instanceId,\n          ...restInfo,\n        };\n\n        this._eventBus.fire('formFieldInstance.changed', { instanceId });\n      }\n    }\n\n    return instanceId;\n  }\n\n  cleanupInstance(instanceId) {\n    if (this._formFieldInstances[instanceId]) {\n      delete this._formFieldInstances[instanceId];\n      this._eventBus.fire('formFieldInstance.removed', { instanceId });\n    }\n  }\n\n  get(instanceId) {\n    return this._formFieldInstances[instanceId];\n  }\n\n  getAll() {\n    return Object.values(this._formFieldInstances);\n  }\n\n  getAllKeyed() {\n    return this.getAll().filter(({ id }) => {\n      const formFieldDefinition = this._formFieldRegistry.get(id);\n\n      if (!formFieldDefinition) {\n        return false;\n      }\n\n      const { type } = formFieldDefinition;\n      const { config } = this._formFields.get(type);\n\n      return config.keyed;\n    });\n  }\n\n  clear() {\n    this._formFieldInstances = {};\n  }\n}\n\nFormFieldInstanceRegistry.$inject = ['eventBus', 'formFieldRegistry', 'formFields'];\n","import { render } from 'preact';\nimport { useCallback, useState } from 'preact/hooks';\n\nimport { FormComponent } from './components/FormComponent';\nimport { FormContext } from './context';\n\n/**\n * @typedef { { container } } Config\n * @typedef { import('didi').Injector } Injector\n * @typedef { import('../core/EventBus').EventBus } EventBus\n * @typedef { import('../Form').Form } Form\n */\n\n/**\n * @param {Config} config\n * @param {EventBus} eventBus\n * @param {Form} form\n * @param {Injector} injector\n */\nexport function Renderer(config, eventBus, form, injector) {\n  const App = () => {\n    const [state, setState] = useState(form._getState());\n\n    const formContext = {\n      getService(type, strict = true) {\n        return injector.get(type, strict);\n      },\n      formId: form._id,\n    };\n\n    eventBus.on('changed', (newState) => {\n      setState(newState);\n    });\n\n    const onChange = useCallback((update) => form._update(update), []);\n\n    const { properties } = state;\n\n    const { readOnly } = properties;\n\n    const onSubmit = useCallback(() => {\n      if (!readOnly) {\n        form.submit();\n      }\n    }, [readOnly]);\n\n    const onReset = useCallback(() => form.reset(), []);\n\n    const { schema } = state;\n\n    if (!schema) {\n      return null;\n    }\n\n    return (\n      <FormContext.Provider value={formContext}>\n        <FormComponent onChange={onChange} onSubmit={onSubmit} onReset={onReset} />\n      </FormContext.Provider>\n    );\n  };\n\n  const { container } = config;\n\n  eventBus.on('form.init', () => {\n    render(<App />, container);\n  });\n\n  eventBus.on('form.destroy', () => {\n    render(null, container);\n  });\n}\n\nRenderer.$inject = ['config.renderer', 'eventBus', 'form', 'injector'];\n","import { FILE_PICKER_FILE_KEY_PREFIX } from './constants/FilePickerConstants';\n\n/**\n * @typedef {Record<PropertyKey, unknown>} RemovedData\n * @param {RemovedData} removedData\n * @returns {string[]}\n */\nconst extractFileReferencesFromRemovedData = (removedData) => {\n  /** @type {string[]} */\n  const fileReferences = [];\n\n  if (removedData === null) {\n    return fileReferences;\n  }\n\n  Object.values(removedData).forEach((value) => {\n    if (value === null) {\n      return;\n    }\n\n    if (typeof value === 'object') {\n      fileReferences.push(...extractFileReferencesFromRemovedData(/** @type {RemovedData} */ (value)));\n    } else if (Array.isArray(value)) {\n      fileReferences.push(...value.map(extractFileReferencesFromRemovedData).flat());\n    } else if (typeof value === 'string' && value.startsWith(FILE_PICKER_FILE_KEY_PREFIX)) {\n      fileReferences.push(value);\n    }\n  });\n\n  return fileReferences;\n};\n\nexport { extractFileReferencesFromRemovedData };\n","import { extractFileReferencesFromRemovedData } from '../util/extractFileReferencesFromRemovedData';\n\nconst fileRegistry = Symbol('fileRegistry');\nconst eventBusSymbol = Symbol('eventBus');\nconst formFieldRegistrySymbol = Symbol('formFieldRegistry');\nconst formFieldInstanceRegistrySymbol = Symbol('formFieldInstanceRegistry');\nconst EMPTY_ARRAY = [];\n\nclass FileRegistry {\n  /**\n   * @param {import('../core/EventBus').EventBus} eventBus\n   * @param {import('../core/FormFieldRegistry').FormFieldRegistry} formFieldRegistry\n   * @param {import('../core/FormFieldInstanceRegistry').FormFieldInstanceRegistry} formFieldInstanceRegistry\n   */\n  constructor(eventBus, formFieldRegistry, formFieldInstanceRegistry) {\n    /** @type {Map<string, File[]>} */\n    this[fileRegistry] = new Map();\n    /** @type {import('../core/EventBus').EventBus} */\n    this[eventBusSymbol] = eventBus;\n    /** @type {import('../core/FormFieldRegistry').FormFieldRegistry} */\n    this[formFieldRegistrySymbol] = formFieldRegistry;\n    /** @type {import('../core/FormFieldInstanceRegistry').FormFieldInstanceRegistry} */\n    this[formFieldInstanceRegistrySymbol] = formFieldInstanceRegistry;\n\n    const removeFileHandler = ({ item }) => {\n      const fileReferences = extractFileReferencesFromRemovedData(item);\n\n      // Remove all file references from the registry\n      fileReferences.forEach((fileReference) => {\n        this.deleteFiles(fileReference);\n      });\n    };\n\n    eventBus.on('form.clear', () => this.clear());\n    eventBus.on('conditionChecker.remove', removeFileHandler);\n    eventBus.on('repeatRenderManager.remove', removeFileHandler);\n  }\n\n  /**\n   * @param {string} id\n   * @param {File[]} files\n   */\n  setFiles(id, files) {\n    this[fileRegistry].set(id, files);\n  }\n\n  /**\n   * @param {string} id\n   * @returns {File[]}\n   */\n  getFiles(id) {\n    return this[fileRegistry].get(id) || EMPTY_ARRAY;\n  }\n\n  /**\n   * @returns {string[]}\n   */\n  getKeys() {\n    return Array.from(this[fileRegistry].keys());\n  }\n\n  /**\n   * @param {string} id\n   * @returns {boolean}\n   */\n  hasKey(id) {\n    return this[fileRegistry].has(id);\n  }\n\n  /**\n   * @param {string} id\n   */\n  deleteFiles(id) {\n    this[fileRegistry].delete(id);\n  }\n\n  /**\n   * @returns {Map<string, File[]>}\n   */\n  getAllFiles() {\n    return new Map(this[fileRegistry]);\n  }\n\n  clear() {\n    this[fileRegistry].clear();\n  }\n}\n\nFileRegistry.$inject = ['eventBus', 'formFieldRegistry', 'formFieldInstanceRegistry'];\n\nexport { FileRegistry };\n","import { FormFields } from './FormFields';\nimport { Renderer } from './Renderer';\nimport { FileRegistry } from './FileRegistry';\n\nexport { FormFields };\n\nexport * from './components';\nexport * from './context';\nexport { useExpressionEvaluation, useSingleLineTemplateEvaluation, useTemplateEvaluation } from './hooks';\n\nexport const RenderModule = {\n  __init__: ['formFields', 'renderer'],\n  formFields: ['type', FormFields],\n  renderer: ['type', Renderer],\n  fileRegistry: ['type', FileRegistry],\n};\n","import { EventBus } from './EventBus';\nimport { Validator } from './Validator';\nimport { Importer } from './Importer';\nimport { FieldFactory } from './FieldFactory';\nimport { PathRegistry } from './PathRegistry';\nimport { FormLayouter } from './FormLayouter';\nimport { FormFieldRegistry } from './FormFieldRegistry';\nimport { FormFieldInstanceRegistry } from './FormFieldInstanceRegistry';\n\nimport { RenderModule } from '../render';\n\nexport { Importer, FieldFactory, FormFieldRegistry, PathRegistry, FormLayouter };\n\nexport const CoreModule = {\n  __depends__: [RenderModule],\n  eventBus: ['type', EventBus],\n  importer: ['type', Importer],\n  fieldFactory: ['type', FieldFactory],\n  formFieldRegistry: ['type', FormFieldRegistry],\n  formFieldInstanceRegistry: ['type', FormFieldInstanceRegistry],\n  pathRegistry: ['type', PathRegistry],\n  formLayouter: ['type', FormLayouter],\n  validator: ['type', Validator],\n};\n","import Ids from 'ids';\nimport { get, isObject, isString, isUndefined, set } from 'min-dash';\n\nimport {\n  ExpressionLanguageModule,\n  ExpressionFieldModule,\n  MarkdownRendererModule,\n  ViewerCommandsModule,\n  RepeatRenderModule,\n} from './features';\n\nimport { CoreModule } from './core';\n\nimport { clone, createFormContainer, createInjector } from './util';\n\n/**\n * @typedef { import('./types').Injector } Injector\n * @typedef { import('./types').Data } Data\n * @typedef { import('./types').Errors } Errors\n * @typedef { import('./types').Schema } Schema\n * @typedef { import('./types').FormProperties } FormProperties\n * @typedef { import('./types').FormProperty } FormProperty\n * @typedef { import('./types').FormEvent } FormEvent\n * @typedef { import('./types').FormOptions } FormOptions\n *\n * @typedef { {\n *   data: Data,\n *   initialData: Data,\n *   errors: Errors,\n *   properties: FormProperties,\n *   schema: Schema\n * } } State\n *\n * @typedef { (type:FormEvent, priority:number, handler:Function) => void } OnEventWithPriority\n * @typedef { (type:FormEvent, handler:Function) => void } OnEventWithOutPriority\n * @typedef { OnEventWithPriority & OnEventWithOutPriority } OnEventType\n */\n\nconst ids = new Ids([32, 36, 1]);\n\n/**\n * The form.\n */\nexport class Form {\n  /**\n   * @constructor\n   * @param {FormOptions} options\n   */\n  constructor(options = {}) {\n    /**\n     * @public\n     * @type {OnEventType}\n     */\n    this.on = this._onEvent;\n\n    /**\n     * @public\n     * @type {String}\n     */\n    this._id = ids.next();\n\n    /**\n     * @private\n     * @type {Element}\n     */\n    this._container = createFormContainer();\n\n    const { container, injector = this._createInjector(options, this._container), properties = {} } = options;\n\n    /**\n     * @private\n     * @type {State}\n     */\n    this._state = {\n      initialData: null,\n      data: null,\n      properties,\n      errors: {},\n      schema: null,\n    };\n\n    this.get = injector.get;\n\n    this.invoke = injector.invoke;\n\n    this.get('eventBus').fire('form.init');\n\n    if (container) {\n      this.attachTo(container);\n    }\n  }\n\n  clear() {\n    // clear diagram services (e.g. EventBus)\n    this._emit('diagram.clear');\n\n    // clear form services\n    this._emit('form.clear');\n  }\n\n  /**\n   * Destroy the form, removing it from DOM,\n   * if attached.\n   */\n  destroy() {\n    // destroy form services\n    this.get('eventBus').fire('form.destroy');\n\n    // destroy diagram services (e.g. EventBus)\n    this.get('eventBus').fire('diagram.destroy');\n\n    this._detach(false);\n  }\n\n  /**\n   * Open a form schema with the given initial data.\n   *\n   * @param {Schema} schema\n   * @param {Data} [data]\n   *\n   * @return Promise<{ warnings: Array<any> }>\n   */\n  importSchema(schema, data = {}) {\n    return new Promise((resolve, reject) => {\n      try {\n        this.clear();\n\n        const { schema: importedSchema, warnings } = this.get('importer').importSchema(schema);\n\n        const initializedData = this._getInitializedFieldData(clone(data));\n\n        this._setState({\n          data: initializedData,\n          errors: {},\n          schema: importedSchema,\n          initialData: clone(initializedData),\n        });\n\n        this._emit('import.done', { warnings });\n\n        return resolve({ warnings });\n      } catch (error) {\n        this._emit('import.done', {\n          error,\n          warnings: error.warnings || [],\n        });\n\n        return reject(error);\n      }\n    });\n  }\n\n  /**\n   * Submit the form, triggering all field validations.\n   *\n   * @returns { { data: Data, errors: Errors, files: Map<string, File[]> } }\n   */\n  submit() {\n    const { properties } = this._getState();\n\n    if (properties.readOnly || properties.disabled) {\n      throw new Error('form is read-only');\n    }\n\n    this._emit('presubmit');\n\n    const data = this._getSubmitData();\n\n    const errors = this.validate();\n\n    const files = this.get('fileRegistry').getAllFiles();\n\n    const result = {\n      data,\n      errors,\n      files,\n    };\n\n    this._emit('submit', result);\n\n    return result;\n  }\n\n  reset() {\n    this._emit('reset');\n\n    this._setState({\n      data: clone(this._state.initialData),\n      errors: {},\n    });\n  }\n\n  /**\n   * @returns {Errors}\n   */\n  validate() {\n    const formFieldRegistry = this.get('formFieldRegistry'),\n      formFieldInstanceRegistry = this.get('formFieldInstanceRegistry'),\n      validator = this.get('validator');\n\n    const { data } = this._getState();\n    const errors = {};\n\n    const getErrorPath = (id, indexes) => [id, ...Object.values(indexes || {})];\n\n    formFieldInstanceRegistry.getAllKeyed().forEach((fieldInstance) => {\n      const { id, valuePath, indexes } = fieldInstance;\n\n      const field = formFieldRegistry.get(id);\n\n      // (1) Skip disabled fields\n      if (field.disabled) {\n        return;\n      }\n\n      // (2) Validate the field instance\n      const value = get(data, valuePath);\n      const fieldErrors = validator.validateFieldInstance(fieldInstance, value);\n\n      if (fieldErrors.length) {\n        set(errors, getErrorPath(field.id, indexes), fieldErrors);\n      }\n    });\n\n    this._setState({ errors });\n\n    // @ts-ignore\n    return errors;\n  }\n\n  /**\n   * @param {Element|string} parentNode\n   */\n  attachTo(parentNode) {\n    if (!parentNode) {\n      throw new Error('parentNode required');\n    }\n\n    this.detach();\n\n    if (isString(parentNode)) {\n      parentNode = document.querySelector(parentNode);\n    }\n\n    const container = this._container;\n\n    parentNode.appendChild(container);\n\n    this._emit('attach');\n  }\n\n  detach() {\n    this._detach();\n  }\n\n  /**\n   * @private\n   *\n   * @param {boolean} [emit]\n   */\n  _detach(emit = true) {\n    const container = this._container,\n      parentNode = container.parentNode;\n\n    if (!parentNode) {\n      return;\n    }\n\n    if (emit) {\n      this._emit('detach');\n    }\n\n    parentNode.removeChild(container);\n  }\n\n  /**\n   * @param {FormProperty} property\n   * @param {any} value\n   */\n  setProperty(property, value) {\n    const properties = set(this._getState().properties, [property], value);\n\n    this._setState({ properties });\n  }\n\n  /**\n   * @param {FormEvent} type\n   * @param {Function} handler\n   */\n  off(type, handler) {\n    this.get('eventBus').off(type, handler);\n  }\n\n  /**\n   * @private\n   *\n   * @param {FormOptions} options\n   * @param {Element} container\n   *\n   * @returns {Injector}\n   */\n  _createInjector(options, container) {\n    const { modules = this._getModules(), additionalModules = [], ...config } = options;\n\n    const enrichedConfig = {\n      ...config,\n      renderer: {\n        container,\n      },\n    };\n\n    return createInjector([\n      { config: ['value', enrichedConfig] },\n      { form: ['value', this] },\n      CoreModule,\n      ...modules,\n      ...additionalModules,\n    ]);\n  }\n\n  /**\n   * @private\n   */\n  _emit(type, data) {\n    this.get('eventBus').fire(type, data);\n  }\n\n  /**\n   * @internal\n   *\n   * @param { { fieldInstance: any, value: any } } update\n   */\n  _update(update) {\n    const { fieldInstance, value } = update;\n\n    const { id, valuePath, indexes } = fieldInstance;\n\n    const { data, errors } = this._getState();\n\n    const validator = this.get('validator');\n\n    const fieldErrors = validator.validateFieldInstance(fieldInstance, value);\n\n    set(data, valuePath, value);\n\n    set(errors, [id, ...Object.values(indexes || {})], fieldErrors.length ? fieldErrors : undefined);\n\n    this._emit('field.updated', update);\n\n    this._setState({\n      data: clone(data),\n      errors: clone(errors),\n    });\n  }\n\n  /**\n   * @internal\n   */\n  _getState() {\n    return this._state;\n  }\n\n  /**\n   * @internal\n   */\n  _setState(state) {\n    this._state = {\n      ...this._state,\n      ...state,\n    };\n\n    this._emit('changed', this._getState());\n  }\n\n  /**\n   * @internal\n   */\n  _getModules() {\n    return [\n      ExpressionLanguageModule,\n      ExpressionFieldModule,\n      MarkdownRendererModule,\n      ViewerCommandsModule,\n      RepeatRenderModule,\n    ];\n  }\n\n  /**\n   * @internal\n   */\n  _onEvent(type, priority, handler) {\n    this.get('eventBus').on(type, priority, handler);\n  }\n\n  /**\n   * @internal\n   */\n  _getSubmitData() {\n    const formFieldRegistry = this.get('formFieldRegistry');\n    const formFieldInstanceRegistry = this.get('formFieldInstanceRegistry');\n    const formData = this._getState().data;\n\n    const submitData = {};\n\n    formFieldInstanceRegistry.getAllKeyed().forEach((formFieldInstance) => {\n      const { id, valuePath } = formFieldInstance;\n      const { disabled } = formFieldRegistry.get(id);\n\n      if (disabled) {\n        return;\n      }\n\n      const value = get(formData, valuePath);\n      set(submitData, valuePath, value);\n    });\n\n    return submitData;\n  }\n\n  /**\n   * @internal\n   */\n  _getInitializedFieldData(data, options = {}) {\n    const formFieldRegistry = this.get('formFieldRegistry');\n    const formFields = this.get('formFields');\n    const pathRegistry = this.get('pathRegistry');\n\n    function initializeFieldDataRecursively(initializedData, formField, indexes) {\n      const { defaultValue, type, isRepeating } = formField;\n      const { config: fieldConfig } = formFields.get(type);\n\n      const valuePath = pathRegistry.getValuePath(formField, { indexes });\n      let valueData = get(data, valuePath);\n\n      // (1) Process keyed fields\n      if (fieldConfig.keyed) {\n        // (a) Retrieve and sanitize data from input\n        if (!isUndefined(valueData) && fieldConfig.sanitizeValue) {\n          valueData = fieldConfig.sanitizeValue({ formField, data, value: valueData });\n        }\n\n        // (b) Initialize field value in output data\n        const initializedFieldValue = !isUndefined(valueData)\n          ? valueData\n          : !isUndefined(defaultValue)\n            ? defaultValue\n            : fieldConfig.emptyValue;\n        set(initializedData, valuePath, initializedFieldValue);\n      }\n\n      // (2) Process parents\n      if (!Array.isArray(formField.components)) {\n        return;\n      }\n\n      if (fieldConfig.repeatable && isRepeating) {\n        // (a) Sanitize repeatable parents data if it is not an array\n        if (!valueData || !Array.isArray(valueData)) {\n          valueData =\n            new Array(isUndefined(formField.defaultRepetitions) ? 1 : formField.defaultRepetitions)\n              .fill()\n              .map((_) => ({})) || [];\n        }\n\n        // (b) Ensure all elements of the array are objects\n        valueData = valueData.map((val) => (isObject(val) ? val : {}));\n\n        // (c) Initialize field value in output data\n        set(initializedData, valuePath, valueData);\n\n        // (d) If indexed ahead of time, recurse repeatable simply across the children\n        if (!isUndefined(indexes[formField.id])) {\n          formField.components.forEach((component) =>\n            initializeFieldDataRecursively(initializedData, component, { ...indexes }),\n          );\n\n          return;\n        }\n\n        // (e1) Recurse repeatable parents both across the indexes of repetition and the children\n        valueData.forEach((_, index) => {\n          formField.components.forEach((component) =>\n            initializeFieldDataRecursively(initializedData, component, { ...indexes, [formField.id]: index }),\n          );\n        });\n\n        return;\n      }\n\n      // (e2) Recurse non-repeatable parents only across the children\n      formField.components.forEach((component) => initializeFieldDataRecursively(initializedData, component, indexes));\n    }\n\n    // allows definition of a specific subfield to generate the data for\n    const container = options.container || formFieldRegistry.getForm();\n    const indexes = options.indexes || {};\n    const basePath = pathRegistry.getValuePath(container, { indexes }) || [];\n\n    // if indexing ahead of time, we must add this index to the data path at the end\n    const path = !isUndefined(indexes[container.id]) ? [...basePath, indexes[container.id]] : basePath;\n\n    const workingData = clone(data);\n    initializeFieldDataRecursively(workingData, container, indexes);\n    return get(workingData, path, {});\n  }\n}\n","import { Form } from './Form';\n\nexport { FormFieldRegistry, FormLayouter, Importer, FieldFactory, PathRegistry } from './core';\nexport * from './render';\nexport * from './util';\nexport * from './features';\n\nconst schemaVersion = 18;\n\nexport { Form, schemaVersion };\n\n/**\n * @typedef { import('./types').CreateFormOptions } CreateFormOptions\n */\n\n/**\n * Create a form.\n *\n * @param {CreateFormOptions} options\n *\n * @return {Promise<Form>}\n */\nexport function createForm(options) {\n  const { data, schema, ...formOptions } = options;\n\n  const form = new Form(formOptions);\n\n  return form.importSchema(schema, data).then(function () {\n    return form;\n  });\n}\n"],"names":["getFlavouredFeelVariableNames","feelString","feelFlavour","options","depth","specialDepthAccessors","includes","tree","parseExpression","parseUnaryTests","simpleExpressionTree","_buildSimpleFeelStructureTree","variables","_unfoldVariables","node","name","pathRoot","_linearizePathExpression","Object","keys","length","_getVariableNameAtPathIndex","Array","from","_smartExtractVariableNames","variableName","children","reduce","acc","child","concat","filter","Set","root","index","nodes","initialDepth","accessorDepthInfos","previous","current","extractedVariables","pathNodes","i","currentAccessor","depthOffsets","accumulator","offset","map","depthInfo","some","add","parts","push","reverse","parseTree","stack","iterate","enter","nodeRepresentation","type","slice","to","leave","result","pop","parent","_extractFilterExpressions","flattenedExpressionTree","x","filterTarget","filterExpression","taggedFilterExpression","FeelExpressionLanguage","constructor","eventBus","_eventBus","isExpression","value","isString","startsWith","getVariableNames","expression","Error","evaluate","data","error","fire","$inject","FeelersTemplating","isTemplate","test","template","expressions","_extractExpressionsWithDepth","_parent_","this","_this_","context","debug","strict","buildDebugString","err","sanitizer","evaluateFeelers","feelersParser","parse","buildSimpleTree","_traverse","n","content","loopExpression","childResults","MINUTES_IN_DAY","DATETIME_SUBTYPES","DATE","TIME","DATETIME","TIME_SERIALISING_FORMATS","UTC_OFFSET","UTC_NORMALIZED","NO_TIMEZONE","DATETIME_SUBTYPES_LABELS","TIME_SERIALISINGFORMAT_LABELS","DATETIME_SUBTYPE_PATH","DATE_LABEL_PATH","DATE_DISALLOW_PAST_PATH","TIME_LABEL_PATH","TIME_USE24H_PATH","TIME_INTERVAL_PATH","TIME_SERIALISING_FORMAT_PATH","OPTIONS_SOURCES","STATIC","INPUT","EXPRESSION","OPTIONS_SOURCE_DEFAULT","OPTIONS_SOURCES_LABELS","OPTIONS_SOURCES_PATHS","OPTIONS_SOURCES_DEFAULTS","label","getOptionsSource","field","source","values","get","undefined","SANDBOX_ATTRIBUTE","ALLOW_ATTRIBUTE","SECURITY_ATTRIBUTES_DEFINITIONS","attribute","directive","property","createInjector","bootstrapModules","injector","Injector","init","createFormContainer","prefix","container","document","createElement","classList","formFieldClasses","errors","disabled","readonly","classNames","gridColumnClasses","formField","layout","columns","textToLabel","text","line","split","displayLine","trim","prefixId","id","formId","indexes","forEach","FormRenderContext","createContext","Empty","props","Hidden","Children","_jsx","class","style","Element","Row","Column","hoverInfo","cleanup","LocalExpressionContext","getService","FormContext","useService","useContext","isRequired","required","pathParse","path","key","isNaN","parseInt","pathsEqual","a","b","every","indices","generateIndexForType","generateIdForType","clone","replacer","JSON","stringify","runRecursively","fn","components","component","_","wrapObjectKeysWithUnderscores","obj","newObj","entries","buildExpressionContext","specialContextKeys","runExpressionEvaluation","expressionLanguage","expressionContextInfo","useCondition","condition","conditionChecker","useMemo","check","getSimpleOptionsData","formData","valuesExpression","optionsExpression","valuesKey","optionsKey","staticOptions","normalizeOptionsData","optionsData","_isAllowedValue","_normalizeOption","o","isNil","createEmptyOptions","defaults","option","_isAllowedPrimitive","isObject","isValidLabel","_isValidLabel","isAllowedPrimitiveType","isValid","useExpressionEvaluation","useDeepCompareMemoize","ref","useRef","isEqual","LOAD_STATES","LOADING","LOADED","ERROR","useOptionsAsync","initialData","_getState","expressionEvaluation","evaluatedOptions","optionsGetter","keyedOptions","isArray","buildErrorState","buildLoadedState","loadState","useDangerousHTMLWrapper","html","transform","sanitize","sanitizeStyleTags","sanitizedHtml","DOMPurify","getDOMPurifyConfig","transformedHtml","__html","FORCE_BODY","FORBID_TAGS","useSecurityAttributesMap","security","securityMemoized","sandbox","join","allow","useGetLabelCorrelation","labelMap","assign","_getValueHash","useCallback","wrapCSSStyles","rootNode","styleTags","querySelectorAll","styleTag","topLevelRules","extractTopLevelRules","textContent","scopedCss","rule","selector","styles","splitRule","scopedSelector","scopeSelector","cssString","cursor","start","level","substring","firstBracket","indexOf","sel","getScrollContainer","el","body","documentElement","_isElementScrollable","parentElement","window","getComputedStyle","overflowY","overflow","scrollHeight","clientHeight","EMPTY_OBJECT","EMPTY_ARRAY","useScrollIntoView","scrolledElementRef","deps","scrollOptions","flagRefs","_scrollOptions","_flagRefs","useEffect","itemToBeScrolled","scrollContainer","itemRect","getBoundingClientRect","containerRect","align","behavior","scrollIfVisible","shouldScroll","top","bottom","topOffset","_getTopOffset","scroll","item","scrollTop","height","useBooleanExpressionEvaluation","evaluationResult","useFilteredFormData","newData","applyConditions","useKeyDownAction","targetKey","action","listenerElement","downHandler","addEventListener","removeEventListener","useReadonly","properties","readOnly","usePrevious","defaultValue","useFlushDebounce","func","timeoutRef","lastArgsRef","config","debounce","shouldDebounce","delay","debounceFunc","args","clearTimeout","setTimeout","flushFunc","useTemplateEvaluation","templating","useSingleLineTemplateEvaluation","evaluatedTemplate","ENTER_KEYDOWN_EVENT","KeyboardEvent","code","charCode","keyCode","bubbles","focusRelevantFlatpickerDay","flatpickrInstance","isOpen","open","calendarContainer","dayToFocus","querySelector","focus","formatTime","use24h","minutes","wrappedMinutes","minute","hour","Math","floor","_getZeroPaddedString","isPM","parseInputTime","stringTime","workingString","toLowerCase","is12h","digits","match","displayHour","isValidDisplayHour","isNumber","isValidMinute","isValidHour","serializeTime","timeSerializingFormat","normalizedMinutes","baseTime","addUTCOffset","formatTimezoneOffset","parseIsoTime","isoTimeString","parseBasicMinutes","timeString","timeSegments","localOffset","Date","getTimezoneOffset","replace","offsetString","inboundOffset","serializeDate","date","LuxonDateTime","fromJSDate","toISODate","isDateTimeInputInformationSufficient","segments","dateNumbers","isDateInputInformationMatching","serializeDateTime","time","workingDate","setFullYear","getFullYear","getMonth","getDate","setHours","timezoneOffsetMinutes","dayOffset","getHours","_getSignedPaddedHours","abs","isInvalidDateString","getTime","getNullDateTime","isValidDate","isValidTime","toString","padStart","ALLOWED_IMAGE_SRC_PATTERN","ALLOWED_IFRAME_SRC_PATTERN","sanitizeDateTimePickerValue","subtype","hasEqualValue","array","element","sanitizeSingleSelectValue","validValues","v","sanitizeMultiSelectValue","sanitizeImageSource","src","valid","sanitizeIFrameSource","escapeHTML","escapeMap","useCleanupSingleSelectValue","onChange","optionValues","hasValueNotInOptions","useCleanupMultiSelectValue","memoizedValues","hasValuesNotInOptions","Button","onFocus","onBlur","evaluatedLabel","keyed","group","create","Description","description","evaluatedDescription","Errors","Label","htmlFor","collapseOnEmpty","_jsxs","Checkbox","domId","validate","target","checked","descriptionId","errorMessageId","emptyValue","sanitizeValue","Checklist","outerDivRef","toggleCheckbox","toggledValue","newValues","onCheckboxBlur","e","contains","relatedTarget","onCheckboxFocus","itemDomId","isChecked","className","onClick","noop","ids","Ids","FormField","instanceIdRef","next","_onChange","formFields","viewerCommands","formFieldInstanceRegistry","pathRegistry","form","initialValidationTrigger","setInitialValidationTrigger","useState","FormFieldComponent","fieldConfig","localExpressionContext","valuePath","getValuePath","initialValue","hidden","conditional","hide","instanceId","syncInstance","fieldInstance","cleanupInstance","resetValidation","on","off","hasInitialValue","updateFieldInstanceValidation","update","fieldErrors","formFieldElement","escapeGridRender","ChildrenRenderer","repeatRenderManager","isRepeating","isFieldRepeating","Repeater","RepeatFooter","RepeatChildrenRenderer","ChildrenRoot","SimpleChildrenRenderer","isEmpty","RowsRenderer","restProps","useSharedState","isCollapsed","_Fragment","parentId","verticalAlignment","formLayouter","formFieldRegistry","rows","getRows","row","alignItems","childId","childField","_createElement","Default","fullProps","getSubheading","_path","_extends","React","getLocaleDateFormat","locale","Intl","DateTimeFormat","formatToParts","UTC","part","len","repeat","getLocaleReadableDateFormat","format","getLocaleDateFlatpickrConfig","flatpickerizeDateFormat","dateFormat","useLeadingZero","day","month","year","InputAdorner","pre","post","rootRef","inputRef","hasErrors","onAdornmentClick","Datepicker","collapseLabelOnEmpty","onDateTimeBlur","onDateTimeFocus","disallowPassedDates","dateObject","setDate","dateInputRef","focusScopeRef","setFlatpickrInstance","isInputDirty","setIsInputDirty","forceFocusCalendar","setForceFocusCalendar","allowInput","static","clickOpens","minDate","errorHandler","instance","flatpickr","onCalendarFocusOut","close","onCalendarMouseDown","onOpen","onClose","onInputKeyDown","dispatchEvent","preventDefault","onInputFocus","onInputBlur","isFalseBlur","CalendarIcon","width","placeholder","autoComplete","onKeyDown","onMouseDown","onInput","_path2","DEFAULT_LABEL_GETTER","NOOP","DropdownList","getLabel","onValueSelected","emptyListMessage","initialFocusIndex","mouseControl","setMouseControl","focusedValueIndex","setFocusedValueIndex","smoothScrolling","setSmoothScrolling","dropdownContainer","mouseScreenPos","focusedItem","changeFocusedValueIndex","delta","min","max","individualEntries","focusedEntry","scrollIntoView","block","inline","onMouseMovedInKeyboardMode","event","valueIndex","userMovedCursor","screenX","y","screenY","tabIndex","maxHeight","scrollBehavior","entry","focused","onMouseMove","onMouseEnter","Timepicker","timeInterval","setTime","safeTimeInterval","allowedIntervals","timeInputRef","dropdownIsOpen","setDropdownIsOpen","useDropdown","rawValue","setRawValue","intervalAdjustedTime","propagateRawToMinute","newRawValue","localRawValue","correctedMinutes","timeOptions","minutesInDay","intervalCount","intervalIndex","cacheTime","flooredCacheTime","onDropdownValueSelected","ClockIcon","Datetime","dateLabel","timeLabel","dateTimeGroupRef","dateTime","setDateTime","dateTimeUpdateRequest","setDateTimeUpdateRequest","useDatePicker","useTimePicker","fromISO","toJSDate","NaN","getMinutes","computeAndSetState","newDateTimeValue","refreshOnly","newDateTime","allErrors","isOnlyOneFieldSet","prev","datePickerProps","timePickerProps","isNewField","set","Group","showOutline","role","pathed","DEFAULT_HEIGHT","IFrame","url","evaluatedUrl","safeUrl","iframeRefresh","setIframeRefresh","count","IFramePlaceholder","title","allowScripts","iconsByType","button","ButtonIcon","checkbox","CheckboxIcon","checklist","ChecklistIcon","ColumnsIcon","datetime","DatetimeIcon","GroupIcon","iframe","IFrameIcon","image","ImageIcon","number","NumberIcon","ExpressionFieldIcon","radio","RadioIcon","select","SelectIcon","separator","SeparatorIcon","spacer","SpacerIcon","dynamiclist","DynamicListIcon","taglist","TaglistIcon","TextIcon","HTMLIcon","textfield","TextfieldIcon","textarea","TextareaIcon","table","TableIcon","filepicker","FilePickerIcon","documentPreview","DocumentPreviewIcon","default","FormIcon","Image","alt","Icon","evaluatedImageSource","safeSource","altText","viewBox","TemplatedInputAdorner","evaluatedPre","evaluatedPost","countDecimals","num","Big","toFixed","isValidNumber","Number","willKeyProduceValidNumber","previousValue","caretIndex","selectionWidth","decimalDigits","isFirstDot","isFirstMinus","keypressIsNumeric","dotIndex","overflowsDecimalSpace","keypressIsAllowedChar","isNullEquivalentValue","Numberfield","appearance","increment","incrementValue","prefixAdorner","suffixAdorner","cachedValue","setCachedValue","displayValue","setDisplayValue","debouncedOnChange","flushOnChange","previousCachedValue","setValue","stringValue","replaceAll","outerValueChanged","outerValueEqualsCache","incrementAmount","base","stepFlooredValue","minus","mod","plus","decrement","cmp","onKeyPress","selectionStart","selectionEnd","onPaste","step","AngelUpIcon","AngelDownIcon","serializeToString","Radio","onRadioBlur","onRadioFocus","SearchableSelect","setFilter","isDropdownExpanded","setIsDropdownExpanded","isFilterActive","setIsFilterActive","isEscapeClosed","setIsEscapeClose","searchbarRef","getLabelCorrelation","filteredOptions","pickOption","displayState","ds","componentReady","displayCross","displayDropdown","onAngelMouseDown","searchbar","blur","onInputChange","keyDownEvent","onInputMouseDown","XMarkIcon","SimpleSelect","selectRef","valueLabel","input","findIndex","stopPropagation","Select","searchable","selectProps","Separator","Spacer","DynamicList","repeatable","allowAddRemove","defaultRepetitions","SkipLink","onSkip","href","Taglist","hasOptionsLeft","isValidFilteredOption","filterMatches","selectValue","at","deselectValue","onElementBlur","onElementFocus","onTagRemoveClick","nextTag","closest","nextSibling","onSkipToSearch","shouldDisplayDropdown","NODE_TYPE_TEXT","NODE_TYPE_ELEMENT","ALLOWED_NODES","ALLOWED_ATTRIBUTES","ALLOWED_URI_PATTERN","ATTR_WHITESPACE_PATTERN","FORM_ELEMENT","sanitizeHTML","doc","DOMParser","parseFromString","normalize","firstChild","sanitizeNode","innerHTML","nodeType","remove","lcTag","tagName","attributes","lcName","removeAttribute","isValidAttribute","setAttribute","getAttribute","childNodes","Text","textLinkTarget","disableLinks","markdownRenderer","markdown","render","sanitizeAndTransformLinks","unsafeHtml","tempDiv","links","link","dangerouslySetInnerHTML","Html","styleScope","ExpressionField","computeOn","evaluation","evaluationMemo","expressionLoopPreventer","sendValue","shouldNotRecompute","registerExpressionExecution","Textfield","String","Textarea","textareaRef","autoSizeTextarea","useLayoutEffect","computed","heightFromLines","lineHeight","getPropertyValue","lines","calculatedHeight","minHeight","displayHeight","Table","columnsExpression","dataSource","rowCount","sortBy","setSortBy","evaluatedColumns","useEvaluatedColumns","columnKeys","evaluatedDataSource","sortedData","sortByColumn","direction","chunkedData","chunk","currentPage","setCurrentPage","currentChunk","toggleSortBy","displayLabel","getHeaderAriaLabel","ArrowUpIcon","ArrowDownIcon","colSpan","serializeCellData","page","CaretLeftIcon","CaretRightIcon","remainingOptions","isDefined","isColumn","generateInitialDemoData","demoData","demoDataKeys","fallbackColumns","column","size","chunks","sort","cellData","FILE_PICKER_FILE_KEY_PREFIX","FilePicker","fileInputRef","fileRegistry","filesKey","multiple","accept","evaluatedAccept","evaluatedMultiple","selectedFiles","getFiles","hasKey","DataTransfer","file","items","files","onFileChange","deleteFiles","updatedFilesKey","nextPrefixed","setFiles","isInputDisabled","click","getSelectedFilesLabel","DocumentPreview","documentEndpointBuilder","useValidDocumentData","finalEndpoint","tryCatch","buildUrl","endpoint","isValidDocumentEndpoint","DocumentRenderer","documentMetadata","documentId","getErrors","URL","canParse","isValidDocument","metadata","PdfRenderer","onError","pdfObjectUrl","setPdfObjectUrl","hasError","setHasError","objectUrl","fetchPdf","response","fetch","ok","blob","createObjectURL","revokeObjectURL","isInViewport","useInViewport","singleDocumentContainerClassName","errorMessage","isContentTypePresent","contentType","fileName","DownloadButton","onDownloadError","handleDownload","download","DownloadIcon","setIsInViewport","observer","IntersectionObserver","isIntersecting","threshold","observe","unobserve","console","Logo","xmlns","fill","d","Lightbox","onBackdropClick","rel","Link","PoweredBy","setOpen","toggleOpen","Fragment","createPortal","FormComponent","schema","ariaLabel","onSubmit","onReset","handleSubmit","handleReset","filteredFormData","noValidate","Provider","FormFields","_formFields","register","EXPRESSION_PROPERTIES","TEMPLATE_PROPERTIES","getSchemaVariables","inputs","outputs","getAllComponents","prop","expressionVariables","templateVariables","variable","getBindingVariables","bindingVariable","getAncestryList","formFieldId","currentFormField","_parent","ConditionChecker","_formFieldRegistry","_pathRegistry","contextData","workingData","getFilterPath","_applyConditionsWithinScope","rootField","scopeContext","startHidden","expressionIndexes","scopeData","parentScopeData","executeRecursivelyOnFields","isClosed","isRepeatable","isHidden","_checkHideCondition","preventRecursion","repeaterValuePath","repeaterValue","newScopeContext","_cleanlyClearDataAtPath","getForm","unaryTest","workingValuePath","recurse","parentObject","_isEmptyObject","_isEmptyArray","ExpressionLanguageModule","__init__","ExpressionLoopPreventer","_computedExpressions","reset","bind","expressionField","ExpressionFieldModule","MarkdownRenderer","marked","gfm","breaks","MarkdownRendererModule","CommandStack","_handlerMap","_stack","_stackIdx","_currentExecution","actions","dirty","trigger","_injector","_uid","clear","prototype","execute","command","_pushAction","_internalExecute","_popAction","canExecute","handler","_getHandler","_fire","emit","undo","_getUndoAction","_internalUndo","redo","_getRedoAction","_setHandler","registerHandler","handlerCls","instantiate","canUndo","canRedo","_atomicDo","revert","_markDirty","_revertedAction","qualifier","arguments","names","createEvent","cancelBubble","_createId","execution","atomic","preExecute","_executedAction","postExecute","baseAction","elements","uniqueBy","stackIdx","splice","commandStack","UpdateFieldValidationHandler","validator","_form","_validator","oldErrors","validateField","updatedErrors","_setState","UpdateFieldInstanceValidationHandler","validateFieldInstance","ViewerCommands","_commandStack","registerHandlers","getHandlers","updateFieldValidation","ViewerCommandsModule","__depends__","commandModule","RepeatRenderManager","formFieldDefinition","sharedRepeatState","repeaterField","dataPath","nonCollapsedItems","_getNonCollapsedItems","collapseEnabled","disableCollapse","hasChildren","showRemove","onDeleteItem","updatedValues","removedItem","parentExpressionContextInfo","itemValue","itemIndex","RepetitionScaffold","addButtonRef","setSharedRepeatState","showAdd","toggle","state","onAddItem","newItem","_getInitializedFieldData","AddSvg","ExpandSvg","CollapseSvg","DEFAULT_NON_COLLAPSED_ITEMS","elementProps","localExpressionContextInfo","DeleteSvg","RepeatRenderModule","FN_REF","DEFAULT_PRIORITY","EventBus","_listeners","_destroy","events","priority","callback","that","isFunction","actualCallback","self","_addListener","once","wrappedCallback","__isTomb","apply","_removeListener","InternalEvent","firstListener","returnValue","call","originalType","_invokeListeners","defaultPrevented","handleError","listener","_invokeListener","invokeFunction","newListener","_getListeners","previousListener","_setListeners","nextListener","listenerCallback","EMAIL_PATTERN","PHONE_PATTERN","VALIDATE_FEEL_PROPERTIES","Validator","_expressionLanguage","_conditionChecker","runNumberValidation","evaluatedValidation","oldEvaluateFEELValues","runPresetValidation","evaluateFEELValues","bigValue","bigIncrement","nextValue","validation","pattern","RegExp","isUncheckedCheckbox","isUnsetValue","isEmptyMultiselect","minLength","maxLength","validationType","evaluatedValidate","evaluatedValue","filteredData","Importer","fieldFactory","_fieldFactory","_formLayouter","importSchema","warnings","_cleanup","importedSchema","importFormField","calculateLayout","fieldAttrs","importFormFields","FieldFactory","attrs","fieldDefinition","_ids","assigned","parentPath","knownAncestorIds","canClaimPath","_ensureId","_ensureKey","claimPath","claimerId","_enforceDefaultPath","claim","_getUniqueKeyPath","random","PathRegistry","_dataPaths","skipAncestryCheck","segment","_getNextSegment","isValidRepeatClaim","repeaterId","claimCount","unclaimPath","formFieldConfig","callResult","replacements","cutoffNode","localValuePath","hasReplacement","hasOwnProperty","replacement","_addIndexes","find","FormLayouter","_rows","addRow","rowsPerComponent","r","getRow","allRows","getRowForField","rowsForField","nextRowId","rowsInOrder","groupByRow","c","groupBy","formRows","flat","FormFieldRegistry","getAll","FormFieldInstanceRegistry","_formFieldInstances","formFieldInfo","restInfo","isInstanceExpected","doesInstanceExist","wasInstanceChanged","getAllKeyed","Renderer","App","setState","formContext","_id","newState","_update","submit","extractFileReferencesFromRemovedData","removedData","fileReferences","Symbol","eventBusSymbol","formFieldRegistrySymbol","formFieldInstanceRegistrySymbol","FileRegistry","Map","removeFileHandler","fileReference","getKeys","has","delete","getAllFiles","RenderModule","renderer","CoreModule","importer","Form","_onEvent","_container","_createInjector","_state","invoke","attachTo","_emit","destroy","_detach","Promise","resolve","reject","initializedData","_getSubmitData","getErrorPath","parentNode","detach","appendChild","removeChild","setProperty","modules","_getModules","additionalModules","enrichedConfig","submitData","formFieldInstance","initializeFieldDataRecursively","valueData","isUndefined","initializedFieldValue","val","basePath","schemaVersion","createForm","formOptions","then"],"mappings":"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AACd;AAEA,IAAA,IAAI,CAACH,oBAAoB,CAACznC,IAAI,CAAC4nC,eAAe,CAAC;AAE/C,IAAA,OAAO,IAAI;AACb;;AAEA;AACF;AACA;AACEF,EAAAA,KAAKA,GAAG;IACN,IAAI,CAACD,oBAAoB,GAAG,EAAE;AAChC;AACF;AAEAD,uBAAuB,CAACrlC,OAAO,GAAG,CAAC,UAAU,CAAC;;ACtCvC,MAAM0lC,qBAAqB,GAAG;EACnCN,QAAQ,EAAE,CAAC,yBAAyB,CAAC;AACrC7M,EAAAA,uBAAuB,EAAE,CAAC,MAAM,EAAE8M,uBAAuB;AAC3D;;ACHO,MAAMM,gBAAgB,CAAC;AAC5B;AACF;AACA;AACA;AACA;AACA;AACA;EACEjO,MAAMA,CAACD,QAAQ,EAAE;AACf;AACA,IAAA,OAAOmO,aAAM,CAAC1kC,KAAK,CAACu2B,QAAQ,EAAE;AAC5BoO,MAAAA,GAAG,EAAE,IAAI;AACTC,MAAAA,MAAM,EAAE;AACV,KAAC,CAAC;AACJ;AACF;AAEAH,gBAAgB,CAAC3lC,OAAO,GAAG,EAAE;;ACjBtB,MAAM+lC,sBAAsB,GAAG;EACpCX,QAAQ,EAAE,CAAC,kBAAkB,CAAC;AAC9B5N,EAAAA,gBAAgB,EAAE,CAAC,MAAM,EAAEmO,gBAAgB;AAC7C;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASuuC,QAAQA,GAAG;AAEjC;AACF;AACA;AACE,EAAA,IAAI,CAACC,UAAU,GAAG,EAAE;;AAEpB;AACA;AACA,EAAA,IAAI,CAACxuB,EAAE,CAAC,iBAAiB,EAAE,CAAC,EAAE,IAAI,CAACyuB,QAAQ,EAAE,IAAI,CAAC;AACpD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAF,QAAQ,CAACjG,SAAS,CAACtoB,EAAE,GAAG,UAAS0uB,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,IAAI,EAAE;EAEjEH,MAAM,GAAGlhC,eAAO,CAACkhC,MAAM,CAAC,GAAGA,MAAM,GAAG,CAAEA,MAAM,CAAE;AAE9C,EAAA,IAAII,kBAAU,CAACH,QAAQ,CAAC,EAAE;AACxBE,IAAAA,IAAI,GAAGD,QAAQ;AACfA,IAAAA,QAAQ,GAAGD,QAAQ;AACnBA,IAAAA,QAAQ,GAAGL,gBAAgB;AAC7B;AAEA,EAAA,IAAI,CAACl3B,gBAAQ,CAACu3B,QAAQ,CAAC,EAAE;AACvB,IAAA,MAAM,IAAIrtC,KAAK,CAAC,2BAA2B,CAAC;AAC9C;EAEA,IAAIytC,cAAc,GAAGH,QAAQ;AAE7B,EAAA,IAAIC,IAAI,EAAE;AACRE,IAAAA,cAAc,GAAG5H,YAAI,CAACyH,QAAQ,EAAEC,IAAI,CAAC;;AAErC;AACA;AACA;IACAE,cAAc,CAACV,MAAM,CAAC,GAAGO,QAAQ,CAACP,MAAM,CAAC,IAAIO,QAAQ;AACvD;EAEA,IAAII,IAAI,GAAG,IAAI;AAEfN,EAAAA,MAAM,CAACjnC,OAAO,CAAC,UAASkW,CAAC,EAAE;AACzBqxB,IAAAA,IAAI,CAACC,YAAY,CAACtxB,CAAC,EAAE;AACnBgxB,MAAAA,QAAQ,EAAEA,QAAQ;AAClBC,MAAAA,QAAQ,EAAEG,cAAc;AACxBvwB,MAAAA,IAAI,EAAE;AACR,KAAC,CAAC;AACJ,GAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA+vB,QAAQ,CAACjG,SAAS,CAAC4G,IAAI,GAAG,UAASR,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,IAAI,EAAE;EACnE,IAAIG,IAAI,GAAG,IAAI;AAEf,EAAA,IAAIF,kBAAU,CAACH,QAAQ,CAAC,EAAE;AACxBE,IAAAA,IAAI,GAAGD,QAAQ;AACfA,IAAAA,QAAQ,GAAGD,QAAQ;AACnBA,IAAAA,QAAQ,GAAGL,gBAAgB;AAC7B;AAEA,EAAA,IAAI,CAACl3B,gBAAQ,CAACu3B,QAAQ,CAAC,EAAE;AACvB,IAAA,MAAM,IAAIrtC,KAAK,CAAC,2BAA2B,CAAC;AAC9C;EAEA,SAAS6tC,eAAeA,GAAG;IACzBA,eAAe,CAACC,QAAQ,GAAG,IAAI;IAE/B,IAAIjvC,MAAM,GAAGyuC,QAAQ,CAACS,KAAK,CAACR,IAAI,EAAE5E,SAAS,CAAC;AAE5C+E,IAAAA,IAAI,CAAC/uB,GAAG,CAACyuB,MAAM,EAAES,eAAe,CAAC;AAEjC,IAAA,OAAOhvC,MAAM;AACf;;AAEA;AACA;AACA;AACAgvC,EAAAA,eAAe,CAACd,MAAM,CAAC,GAAGO,QAAQ;EAElC,IAAI,CAAC5uB,EAAE,CAAC0uB,MAAM,EAAEC,QAAQ,EAAEQ,eAAe,CAAC;AAC5C,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAZ,QAAQ,CAACjG,SAAS,CAACroB,GAAG,GAAG,UAASyuB,MAAM,EAAEE,QAAQ,EAAE;EAElDF,MAAM,GAAGlhC,eAAO,CAACkhC,MAAM,CAAC,GAAGA,MAAM,GAAG,CAAEA,MAAM,CAAE;EAE9C,IAAIM,IAAI,GAAG,IAAI;AAEfN,EAAAA,MAAM,CAACjnC,OAAO,CAAC,UAAS0gB,KAAK,EAAE;AAC7B6mB,IAAAA,IAAI,CAACM,eAAe,CAACnnB,KAAK,EAAEymB,QAAQ,CAAC;AACvC,GAAC,CAAC;AAEJ,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACAL,QAAQ,CAACjG,SAAS,CAAC6B,WAAW,GAAG,UAAS3oC,IAAI,EAAE;AAC9C,EAAA,IAAI2mB,KAAK,GAAG,IAAIonB,aAAa,EAAE;AAE/BpnB,EAAAA,KAAK,CAACpiB,IAAI,CAACvE,IAAI,CAAC;AAEhB,EAAA,OAAO2mB,KAAK;AACd,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAomB,QAAQ,CAACjG,SAAS,CAAC5mC,IAAI,GAAG,UAAS3B,IAAI,EAAEyB,IAAI,EAAE;AAC7C,EAAA,IAAI2mB,KAAK,EACLqnB,aAAa,EACbC,WAAW,EACX96B,IAAI;AAERA,EAAAA,IAAI,GAAG3U,KAAK,CAAC0vC,IAAI,CAACzF,SAAS,CAAC;AAE5B,EAAA,IAAI,OAAOlqC,IAAI,KAAK,QAAQ,EAAE;AAC5ByB,IAAAA,IAAI,GAAGzB,IAAI;IACXA,IAAI,GAAGyB,IAAI,CAACzB,IAAI;AAClB;EAEA,IAAI,CAACA,IAAI,EAAE;AACT,IAAA,MAAM,IAAIuB,KAAK,CAAC,yBAAyB,CAAC;AAC5C;AAEAkuC,EAAAA,aAAa,GAAG,IAAI,CAAChB,UAAU,CAACzuC,IAAI,CAAC;EAErC,IAAI,CAACyvC,aAAa,EAAE;AAClB,IAAA;AACF;;AAEA;AACA;EACA,IAAIhuC,IAAI,YAAY+tC,aAAa,EAAE;AAEjC;AACApnB,IAAAA,KAAK,GAAG3mB,IAAI;AACd,GAAC,MAAM;AACL2mB,IAAAA,KAAK,GAAG,IAAI,CAACgiB,WAAW,CAAC3oC,IAAI,CAAC;AAChC;;AAEA;AACAmT,EAAAA,IAAI,CAAC,CAAC,CAAC,GAAGwT,KAAK;;AAEf;AACA,EAAA,IAAIwnB,YAAY,GAAGxnB,KAAK,CAACpoB,IAAI;;AAE7B;EACA,IAAIA,IAAI,KAAK4vC,YAAY,EAAE;IACzBxnB,KAAK,CAACpoB,IAAI,GAAGA,IAAI;AACnB;EAEA,IAAI;IACF0vC,WAAW,GAAG,IAAI,CAACG,gBAAgB,CAACznB,KAAK,EAAExT,IAAI,EAAE66B,aAAa,CAAC;AACjE,GAAC,SAAS;AAER;IACA,IAAIzvC,IAAI,KAAK4vC,YAAY,EAAE;MACzBxnB,KAAK,CAACpoB,IAAI,GAAG4vC,YAAY;AAC3B;AACF;;AAEA;AACA;AACA,EAAA,IAAIF,WAAW,KAAKrqC,SAAS,IAAI+iB,KAAK,CAAC0nB,gBAAgB,EAAE;AACvDJ,IAAAA,WAAW,GAAG,KAAK;AACrB;AAEA,EAAA,OAAOA,WAAW;AACpB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACAlB,QAAQ,CAACjG,SAAS,CAACwH,WAAW,GAAG,UAASruC,KAAK,EAAE;AAC/C,EAAA,OAAO,IAAI,CAACC,IAAI,CAAC,OAAO,EAAE;AAAED,IAAAA,KAAK,EAAEA;GAAO,CAAC,KAAK,KAAK;AACvD,CAAC;AAGD8sC,QAAQ,CAACjG,SAAS,CAACmG,QAAQ,GAAG,YAAW;AACvC,EAAA,IAAI,CAACD,UAAU,GAAG,EAAE;AACtB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACAD,QAAQ,CAACjG,SAAS,CAACsH,gBAAgB,GAAG,UAASznB,KAAK,EAAExT,IAAI,EAAEo7B,QAAQ,EAAE;AAEpE,EAAA,IAAIN,WAAW;AAEf,EAAA,OAAOM,QAAQ,EAAE;AAEf;IACA,IAAI5nB,KAAK,CAACiiB,YAAY,EAAE;AACtB,MAAA;AACF;IAEAqF,WAAW,GAAG,IAAI,CAACO,eAAe,CAAC7nB,KAAK,EAAExT,IAAI,EAAEo7B,QAAQ,CAAC;IAEzDA,QAAQ,GAAGA,QAAQ,CAACvxB,IAAI;AAC1B;AAEA,EAAA,OAAOixB,WAAW;AACpB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACAlB,QAAQ,CAACjG,SAAS,CAAC0H,eAAe,GAAG,UAAS7nB,KAAK,EAAExT,IAAI,EAAEo7B,QAAQ,EAAE;AAEnE,EAAA,IAAIN,WAAW;AAEf,EAAA,IAAIM,QAAQ,CAACnB,QAAQ,CAACQ,QAAQ,EAAE;AAC9B,IAAA,OAAOK,WAAW;AACpB;EAEA,IAAI;AAEF;IACAA,WAAW,GAAGQ,cAAc,CAACF,QAAQ,CAACnB,QAAQ,EAAEj6B,IAAI,CAAC;;AAErD;IACA,IAAI86B,WAAW,KAAKrqC,SAAS,EAAE;MAC7B+iB,KAAK,CAACsnB,WAAW,GAAGA,WAAW;MAC/BtnB,KAAK,CAACuN,eAAe,EAAE;AACzB;;AAEA;IACA,IAAI+Z,WAAW,KAAK,KAAK,EAAE;MACzBtnB,KAAK,CAACtC,cAAc,EAAE;AACxB;GACD,CAAC,OAAOpkB,KAAK,EAAE;AACd,IAAA,IAAI,CAAC,IAAI,CAACquC,WAAW,CAACruC,KAAK,CAAC,EAAE;AAC5B4gC,MAAAA,OAAO,CAAC5gC,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;AAEzD,MAAA,MAAMA,KAAK;AACb;AACF;AAEA,EAAA,OAAOguC,WAAW;AACpB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAlB,QAAQ,CAACjG,SAAS,CAAC2G,YAAY,GAAG,UAAS9mB,KAAK,EAAE+nB,WAAW,EAAE;AAE7D,EAAA,IAAIH,QAAQ,GAAG,IAAI,CAACI,aAAa,CAAChoB,KAAK,CAAC;IACpCioB,gBAAgB;;AAEpB;EACA,IAAI,CAACL,QAAQ,EAAE;AACb,IAAA,IAAI,CAACM,aAAa,CAACloB,KAAK,EAAE+nB,WAAW,CAAC;AAEtC,IAAA;AACF;;AAEA;AACA;AACA,EAAA,OAAOH,QAAQ,EAAE;AAEf,IAAA,IAAIA,QAAQ,CAACpB,QAAQ,GAAGuB,WAAW,CAACvB,QAAQ,EAAE;MAE5CuB,WAAW,CAAC1xB,IAAI,GAAGuxB,QAAQ;AAE3B,MAAA,IAAIK,gBAAgB,EAAE;QACpBA,gBAAgB,CAAC5xB,IAAI,GAAG0xB,WAAW;AACrC,OAAC,MAAM;AACL,QAAA,IAAI,CAACG,aAAa,CAACloB,KAAK,EAAE+nB,WAAW,CAAC;AACxC;AAEA,MAAA;AACF;AAEAE,IAAAA,gBAAgB,GAAGL,QAAQ;IAC3BA,QAAQ,GAAGA,QAAQ,CAACvxB,IAAI;AAC1B;;AAEA;EACA4xB,gBAAgB,CAAC5xB,IAAI,GAAG0xB,WAAW;AACrC,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA3B,QAAQ,CAACjG,SAAS,CAAC6H,aAAa,GAAG,UAAShzC,IAAI,EAAE;AAChD,EAAA,OAAO,IAAI,CAACqxC,UAAU,CAACrxC,IAAI,CAAC;AAC9B,CAAC;;AAED;AACA;AACA;AACA;AACAoxC,QAAQ,CAACjG,SAAS,CAAC+H,aAAa,GAAG,UAASlzC,IAAI,EAAE4yC,QAAQ,EAAE;AAC1D,EAAA,IAAI,CAACvB,UAAU,CAACrxC,IAAI,CAAC,GAAG4yC,QAAQ;AAClC,CAAC;AAEDxB,QAAQ,CAACjG,SAAS,CAACgH,eAAe,GAAG,UAASnnB,KAAK,EAAEymB,QAAQ,EAAE;AAE7D,EAAA,IAAImB,QAAQ,GAAG,IAAI,CAACI,aAAa,CAAChoB,KAAK,CAAC;IACpCmoB,YAAY;IACZF,gBAAgB;IAChBG,gBAAgB;EAEpB,IAAI,CAAC3B,QAAQ,EAAE;AAEb;AACA,IAAA,IAAI,CAACyB,aAAa,CAACloB,KAAK,EAAE,IAAI,CAAC;AAE/B,IAAA;AACF;AAEA,EAAA,OAAO4nB,QAAQ,EAAE;IAEfO,YAAY,GAAGP,QAAQ,CAACvxB,IAAI;IAE5B+xB,gBAAgB,GAAGR,QAAQ,CAACnB,QAAQ;IAEpC,IAAI2B,gBAAgB,KAAK3B,QAAQ,IAAI2B,gBAAgB,CAAClC,MAAM,CAAC,KAAKO,QAAQ,EAAE;AAC1E,MAAA,IAAIwB,gBAAgB,EAAE;QACpBA,gBAAgB,CAAC5xB,IAAI,GAAG8xB,YAAY;AACtC,OAAC,MAAM;AAEL;AACA,QAAA,IAAI,CAACD,aAAa,CAACloB,KAAK,EAAEmoB,YAAY,CAAC;AACzC;AACF;AAEAF,IAAAA,gBAAgB,GAAGL,QAAQ;AAC3BA,IAAAA,QAAQ,GAAGO,YAAY;AACzB;AACF,CAAC;;AAED;AACA;AACA;AACA,SAASf,aAAaA,GAAG;AAEzBA,aAAa,CAACjH,SAAS,CAAC5S,eAAe,GAAG,YAAW;EACnD,IAAI,CAAC0U,YAAY,GAAG,IAAI;AAC1B,CAAC;AAEDmF,aAAa,CAACjH,SAAS,CAACziB,cAAc,GAAG,YAAW;EAClD,IAAI,CAACgqB,gBAAgB,GAAG,IAAI;AAC9B,CAAC;AAEDN,aAAa,CAACjH,SAAS,CAACviC,IAAI,GAAG,UAASvE,IAAI,EAAE;AAC5CwN,EAAAA,cAAM,CAAC,IAAI,EAAExN,IAAI,IAAI,EAAE,CAAC;AAC1B,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASyuC,cAAcA,CAACjmC,EAAE,EAAE2K,IAAI,EAAE;AAChC,EAAA,OAAO3K,EAAE,CAACqlC,KAAK,CAAC,IAAI,EAAE16B,IAAI,CAAC;AAC7B;;ACjmBA,MAAM67B,aAAa,GACjB,sIAAsI;AACxI,MAAMC,aAAa,GACjB,wmCAAwmC;AAE1mC,MAAMC,wBAAwB,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,WAAW,CAAC;AAElE,MAAMC,SAAS,CAAC;EACrB9vC,WAAWA,CAAC8J,kBAAkB,EAAEI,gBAAgB,EAAE+T,IAAI,EAAE4C,iBAAiB,EAAE;IACzE,IAAI,CAACkvB,mBAAmB,GAAGjmC,kBAAkB;IAC7C,IAAI,CAACkmC,iBAAiB,GAAG9lC,gBAAgB;IACzC,IAAI,CAACogC,KAAK,GAAGrsB,IAAI;IACjB,IAAI,CAACmmB,kBAAkB,GAAGvjB,iBAAiB;AAC7C;;AAEA;AACF;AACA;AACA;AACA;AACE4pB,EAAAA,aAAaA,CAACtmC,KAAK,EAAE/D,KAAK,EAAE;IAC1B,MAAM;MAAElB,IAAI;AAAE+c,MAAAA;AAAS,KAAC,GAAG9X,KAAK;IAEhC,IAAIuB,MAAM,GAAG,EAAE;IAEf,IAAIxG,IAAI,KAAK,QAAQ,EAAE;AACrBwG,MAAAA,MAAM,GAAG,CAAC,GAAGA,MAAM,EAAE,GAAGuqC,mBAAmB,CAAC9rC,KAAK,EAAE/D,KAAK,CAAC,CAAC;AAC5D;IAEA,IAAI,CAAC6b,QAAQ,EAAE;AACb,MAAA,OAAOvW,MAAM;AACf;AAEA,IAAA,MAAMwqC,mBAAmB,GAAGC,qBAAqB,CAC/Cl0B,QAAQ,EACR,IAAI,CAAC8zB,mBAAmB,EACxB,IAAI,CAACC,iBAAiB,EACtB,IAAI,CAAC1F,KACP,CAAC;AAED5kC,IAAAA,MAAM,GAAG,CAAC,GAAGA,MAAM,EAAE,GAAG0qC,mBAAmB,CAACjsC,KAAK,EAAE+rC,mBAAmB,EAAE9vC,KAAK,CAAC,CAAC;AAE/E,IAAA,OAAOsF,MAAM;AACf;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACEmlC,EAAAA,qBAAqBA,CAAC7rB,aAAa,EAAE5e,KAAK,EAAE;IAC1C,MAAM;MAAEqG,EAAE;AAAEsD,MAAAA;AAAsB,KAAC,GAAGiV,aAAa;IAEnD,MAAM7a,KAAK,GAAG,IAAI,CAACigC,kBAAkB,CAAC9/B,GAAG,CAACmC,EAAE,CAAC;IAE7C,IAAI,CAACtC,KAAK,EAAE;AACV,MAAA,OAAO,EAAE;AACX;IAEA,MAAM;MAAEjF,IAAI;AAAE+c,MAAAA;AAAS,KAAC,GAAG9X,KAAK;IAEhC,IAAIuB,MAAM,GAAG,EAAE;IAEf,IAAIxG,IAAI,KAAK,QAAQ,EAAE;AACrBwG,MAAAA,MAAM,GAAG,CAAC,GAAGA,MAAM,EAAE,GAAGuqC,mBAAmB,CAAC9rC,KAAK,EAAE/D,KAAK,CAAC,CAAC;AAC5D;IAEA,IAAI,CAAC6b,QAAQ,EAAE;AACb,MAAA,OAAOvW,MAAM;AACf;IAEA,MAAMwqC,mBAAmB,GAAGG,kBAAkB,CAACp0B,QAAQ,EAAE,IAAI,CAAC8zB,mBAAmB,EAAEhmC,qBAAqB,CAAC;AAEzGrE,IAAAA,MAAM,GAAG,CAAC,GAAGA,MAAM,EAAE,GAAG0qC,mBAAmB,CAACjsC,KAAK,EAAE+rC,mBAAmB,EAAE9vC,KAAK,CAAC,CAAC;AAE/E,IAAA,OAAOsF,MAAM;AACf;AACF;AAEAoqC,SAAS,CAAChvC,OAAO,GAAG,CAAC,oBAAoB,EAAE,kBAAkB,EAAE,MAAM,EAAE,mBAAmB,CAAC;;AAE3F;;AAEA,SAASmvC,mBAAmBA,CAAC9rC,KAAK,EAAE/D,KAAK,EAAE;EACzC,MAAM;IAAE+vB,aAAa;AAAEU,IAAAA;AAAU,GAAC,GAAG1sB,KAAK;EAC1C,MAAMuB,MAAM,GAAG,EAAE;EAEjB,IAAItF,KAAK,KAAK,KAAK,EAAE;AACnBsF,IAAAA,MAAM,CAAC/G,IAAI,CAAC,wBAAwB,CAAC;GACtC,MAAM,IAAIyB,KAAK,EAAE;IAChB,IAAI+vB,aAAa,IAAI,CAAC,IAAIV,aAAa,CAACrvB,KAAK,CAAC,GAAG+vB,aAAa,EAAE;MAC9DzqB,MAAM,CAAC/G,IAAI,CACT,uBAAuB,IACpBwxB,aAAa,KAAK,CAAC,GAChB,eAAe,GACf,CAAA,aAAA,EAAgBA,aAAa,CAAiBA,cAAAA,EAAAA,aAAa,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE,CAAE,CAAA,CAAC,GACjF,GACJ,CAAC;AACH;AAEA,IAAA,IAAIU,SAAS,EAAE;AACb,MAAA,MAAMyf,QAAQ,GAAG3gB,GAAG,CAACvvB,KAAK,CAAC;AAC3B,MAAA,MAAMmwC,YAAY,GAAG5gB,GAAG,CAACkB,SAAS,CAAC;AAEnC,MAAA,MAAMxyB,MAAM,GAAGiyC,QAAQ,CAACre,GAAG,CAACse,YAAY,CAAC;MAEzC,IAAIlyC,MAAM,CAAC+zB,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;AACvB,QAAA,MAAMpC,aAAa,GAAGsgB,QAAQ,CAACte,KAAK,CAAC3zB,MAAM,CAAC;AAC5C,QAAA,MAAMmyC,SAAS,GAAGxgB,aAAa,CAACkC,IAAI,CAACqe,YAAY,CAAC;QAElD7qC,MAAM,CAAC/G,IAAI,CAAC,CAAA,8DAAA,EAAiEqxB,aAAa,CAAQwgB,KAAAA,EAAAA,SAAS,GAAG,CAAC;AACjH;AACF;AACF;AAEA,EAAA,OAAO9qC,MAAM;AACf;AAEA,SAAS0qC,mBAAmBA,CAACjsC,KAAK,EAAEssC,UAAU,EAAErwC,KAAK,EAAE;EACrD,MAAMsF,MAAM,GAAG,EAAE;AAEjB,EAAA,IAAI+qC,UAAU,CAACC,OAAO,IAAItwC,KAAK,IAAI,CAAC,IAAIuwC,MAAM,CAACF,UAAU,CAACC,OAAO,CAAC,CAACzvC,IAAI,CAACb,KAAK,CAAC,EAAE;IAC9EsF,MAAM,CAAC/G,IAAI,CAAC,CAAA,yBAAA,EAA4B8xC,UAAU,CAACC,OAAO,GAAG,CAAC;AAChE;EAEA,IAAID,UAAU,CAACxoC,QAAQ,EAAE;IACvB,MAAM2oC,mBAAmB,GAAGzsC,KAAK,CAACjF,IAAI,KAAK,UAAU,IAAIkB,KAAK,KAAK,KAAK;IACxE,MAAMywC,YAAY,GAAG5lC,aAAK,CAAC7K,KAAK,CAAC,IAAIA,KAAK,KAAK,EAAE;AACjD,IAAA,MAAM0wC,kBAAkB,GAAGj0C,KAAK,CAAC8P,OAAO,CAACvM,KAAK,CAAC,IAAIA,KAAK,CAACzD,MAAM,KAAK,CAAC;AAErE,IAAA,IAAIi0C,mBAAmB,IAAIC,YAAY,IAAIC,kBAAkB,EAAE;AAC7DprC,MAAAA,MAAM,CAAC/G,IAAI,CAAC,oBAAoB,CAAC;AACnC;AACF;AAEA,EAAA,IAAI,KAAK,IAAI8xC,UAAU,KAAKrwC,KAAK,IAAIA,KAAK,KAAK,CAAC,CAAC,IAAIA,KAAK,GAAGqwC,UAAU,CAAC3pB,GAAG,EAAE;IAC3EphB,MAAM,CAAC/G,IAAI,CAAC,CAAA,iCAAA,EAAoC8xC,UAAU,CAAC3pB,GAAG,GAAG,CAAC;AACpE;AAEA,EAAA,IAAI,KAAK,IAAI2pB,UAAU,KAAKrwC,KAAK,IAAIA,KAAK,KAAK,CAAC,CAAC,IAAIA,KAAK,GAAGqwC,UAAU,CAAC1pB,GAAG,EAAE;IAC3ErhB,MAAM,CAAC/G,IAAI,CAAC,CAAA,iCAAA,EAAoC8xC,UAAU,CAAC1pB,GAAG,GAAG,CAAC;AACpE;AAEA,EAAA,IAAI,WAAW,IAAI0pB,UAAU,IAAIrwC,KAAK,IAAIA,KAAK,CAACmG,IAAI,EAAE,CAAC5J,MAAM,GAAG8zC,UAAU,CAACM,SAAS,EAAE;IACpFrrC,MAAM,CAAC/G,IAAI,CAAC,CAAA,kCAAA,EAAqC8xC,UAAU,CAACM,SAAS,GAAG,CAAC;AAC3E;AAEA,EAAA,IAAI,WAAW,IAAIN,UAAU,IAAIrwC,KAAK,IAAIA,KAAK,CAACmG,IAAI,EAAE,CAAC5J,MAAM,GAAG8zC,UAAU,CAACO,SAAS,EAAE;IACpFtrC,MAAM,CAAC/G,IAAI,CAAC,CAAA,kCAAA,EAAqC8xC,UAAU,CAACO,SAAS,GAAG,CAAC;AAC3E;AAEA,EAAA,IAAI,gBAAgB,IAAIP,UAAU,IAAIrwC,KAAK,IAAIqwC,UAAU,CAACQ,cAAc,KAAK,OAAO,IAAI,CAACrB,aAAa,CAAC3uC,IAAI,CAACb,KAAK,CAAC,EAAE;AAClHsF,IAAAA,MAAM,CAAC/G,IAAI,CAAC,0EAA0E,CAAC;AACzF;AAEA,EAAA,IAAI,gBAAgB,IAAI8xC,UAAU,IAAIrwC,KAAK,IAAIqwC,UAAU,CAACQ,cAAc,KAAK,OAAO,IAAI,CAACtB,aAAa,CAAC1uC,IAAI,CAACb,KAAK,CAAC,EAAE;AAClHsF,IAAAA,MAAM,CAAC/G,IAAI,CAAC,8BAA8B,CAAC;AAC7C;AAEA,EAAA,OAAO+G,MAAM;AACf;AAEA,SAAS2qC,kBAAkBA,CAACp0B,QAAQ,EAAEnS,kBAAkB,EAAEC,qBAAqB,EAAE;AAC/E,EAAA,MAAMmnC,iBAAiB,GAAG;IAAE,GAAGj1B;GAAU;AAEzC4zB,EAAAA,wBAAwB,CAACjpC,OAAO,CAAE/B,QAAQ,IAAK;AAC7C,IAAA,MAAMsD,IAAI,GAAGtD,QAAQ,CAACwB,KAAK,CAAC,GAAG,CAAC;AAChC,IAAA,MAAMjG,KAAK,GAAGkE,WAAG,CAAC4sC,iBAAiB,EAAE/oC,IAAI,CAAC;IAC1C,MAAMgpC,cAAc,GAAGtnC,uBAAuB,CAACC,kBAAkB,EAAE1J,KAAK,EAAE2J,qBAAqB,CAAC;AAChGohB,IAAAA,WAAG,CAAC+lB,iBAAiB,EAAE/oC,IAAI,EAAEgpC,cAAc,KAAK,IAAI,GAAG5sC,SAAS,GAAG4sC,cAAc,CAAC;AACpF,GAAC,CAAC;AAEF,EAAA,OAAOD,iBAAiB;AAC1B;AAEA,SAASf,qBAAqBA,CAACl0B,QAAQ,EAAEnS,kBAAkB,EAAEI,gBAAgB,EAAE+T,IAAI,EAAE;AACnF,EAAA,MAAMizB,iBAAiB,GAAG;IAAE,GAAGj1B;GAAU;AAEzC4zB,EAAAA,wBAAwB,CAACjpC,OAAO,CAAE/B,QAAQ,IAAK;AAC7C,IAAA,MAAMsD,IAAI,GAAGtD,QAAQ,CAACwB,KAAK,CAAC,GAAG,CAAC;AAEhC,IAAA,MAAMjG,KAAK,GAAGkE,WAAG,CAAC4sC,iBAAiB,EAAE/oC,IAAI,CAAC;;AAE1C;IACA,IAAI,CAAC2B,kBAAkB,IAAI,CAACA,kBAAkB,CAAC3J,YAAY,CAACC,KAAK,CAAC,EAAE;AAClE,MAAA,OAAOA,KAAK;AACd;IAEA,MAAM;MAAEiM,WAAW;AAAE1L,MAAAA;AAAK,KAAC,GAAGsd,IAAI,CAAC3R,SAAS,EAAE;AAE9C,IAAA,MAAMiG,OAAO,GAAGrI,gBAAgB,GAAGA,gBAAgB,CAACsI,eAAe,CAAC7R,IAAI,EAAEA,IAAI,CAAC,GAAGA,IAAI;AACtF,IAAA,MAAMywC,YAAY,GAAG;AAAE,MAAA,GAAG/kC,WAAW;MAAE,GAAGkG;KAAS;IAEnD,MAAM4+B,cAAc,GAAGrnC,kBAAkB,CAACpJ,QAAQ,CAACN,KAAK,EAAEgxC,YAAY,CAAC;;AAEvE;AACA,IAAA,IAAID,cAAc,EAAE;AAClBhmB,MAAAA,WAAG,CAAC+lB,iBAAiB,EAAE/oC,IAAI,EAAEgpC,cAAc,CAAC;AAC9C;AACF,GAAC,CAAC;AAEF,EAAA,OAAOD,iBAAiB;AAC1B;;AChNO,MAAMG,QAAQ,CAAC;AACpB;AACF;AACA;AACA;AACA;AACA;AACA;EACErxC,WAAWA,CAAC6gB,iBAAiB,EAAE7C,YAAY,EAAEszB,YAAY,EAAE1wB,YAAY,EAAE;IACvE,IAAI,CAACwjB,kBAAkB,GAAGvjB,iBAAiB;IAC3C,IAAI,CAACwjB,aAAa,GAAGrmB,YAAY;IACjC,IAAI,CAACuzB,aAAa,GAAGD,YAAY;IACjC,IAAI,CAACE,aAAa,GAAG5wB,YAAY;AACnC;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE6wB,YAAYA,CAAClP,MAAM,EAAE;AACnB;IACA,MAAMmP,QAAQ,GAAG,EAAE;IAEnB,IAAI;MACF,IAAI,CAACC,QAAQ,EAAE;MACf,MAAMC,cAAc,GAAG,IAAI,CAACC,eAAe,CAAC/oC,KAAK,CAACy5B,MAAM,CAAC,CAAC;MAC1D,IAAI,CAACiP,aAAa,CAACM,eAAe,CAAChpC,KAAK,CAAC8oC,cAAc,CAAC,CAAC;MAEzD,OAAO;AACLrP,QAAAA,MAAM,EAAEqP,cAAc;AACtBF,QAAAA;OACD;KACF,CAAC,OAAO9vC,GAAG,EAAE;MACZ,IAAI,CAAC+vC,QAAQ,EAAE;MACf/vC,GAAG,CAAC8vC,QAAQ,GAAGA,QAAQ;AACvB,MAAA,MAAM9vC,GAAG;AACX;AACF;AAEA+vC,EAAAA,QAAQA,GAAG;AACT,IAAA,IAAI,CAACH,aAAa,CAAChK,KAAK,EAAE;AAC1B,IAAA,IAAI,CAACpD,kBAAkB,CAACoD,KAAK,EAAE;AAC/B,IAAA,IAAI,CAACnD,aAAa,CAACmD,KAAK,EAAE;AAC5B;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACEqK,EAAAA,eAAeA,CAACE,UAAU,EAAErxB,QAAQ,EAAEjjB,KAAK,EAAE;IAC3C,MAAM;AAAE2L,MAAAA;AAAW,KAAC,GAAG2oC,UAAU;IAEjC,IAAIvyC,MAAM,EAAE2I,IAAI;AAEhB,IAAA,IAAIuY,QAAQ,EAAE;MACZlhB,MAAM,GAAG,IAAI,CAAC4kC,kBAAkB,CAAC9/B,GAAG,CAACoc,QAAQ,CAAC;AAChD;;AAEA;AACAvY,IAAAA,IAAI,GAAG3I,MAAM,GAAG,CAAC,GAAGA,MAAM,CAACgiB,KAAK,EAAE,YAAY,EAAE/jB,KAAK,CAAC,GAAG,EAAE;AAE3D,IAAA,MAAM0G,KAAK,GAAG,IAAI,CAACotC,aAAa,CAACj2B,MAAM,CACrC;AACE,MAAA,GAAGy2B,UAAU;AACbvwB,MAAAA,KAAK,EAAErZ,IAAI;AACX+7B,MAAAA,OAAO,EAAExjB;KACV,EACD,KACF,CAAC;AAED,IAAA,IAAI,CAAC0jB,kBAAkB,CAAC3lC,GAAG,CAAC0F,KAAK,CAAC;AAElC,IAAA,IAAIiF,UAAU,EAAE;AACdjF,MAAAA,KAAK,CAACiF,UAAU,GAAG,IAAI,CAAC4oC,gBAAgB,CAAC5oC,UAAU,EAAEjF,KAAK,CAACsC,EAAE,CAAC;AAChE;AAEA,IAAA,OAAOtC,KAAK;AACd;;AAEA;AACF;AACA;AACA;AACA;AACA;AACE6tC,EAAAA,gBAAgBA,CAAC5oC,UAAU,EAAEsX,QAAQ,EAAE;IACrC,OAAOtX,UAAU,CAAC9K,GAAG,CAAC,CAAC+K,SAAS,EAAE5L,KAAK,KAAK;MAC1C,OAAO,IAAI,CAACo0C,eAAe,CAACxoC,SAAS,EAAEqX,QAAQ,EAAEjjB,KAAK,CAAC;AACzD,KAAC,CAAC;AACJ;AACF;AAEA4zC,QAAQ,CAACvwC,OAAO,GAAG,CAAC,mBAAmB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,CAAC;;AC3GjF,MAAMmxC,YAAY,CAAC;AACxB;AACF;AACA;AACA;AACA;AACA;AACEjyC,EAAAA,WAAWA,CAAC6gB,iBAAiB,EAAE7C,YAAY,EAAEH,UAAU,EAAE;IACvD,IAAI,CAACumB,kBAAkB,GAAGvjB,iBAAiB;IAC3C,IAAI,CAACwjB,aAAa,GAAGrmB,YAAY;IACjC,IAAI,CAACilB,WAAW,GAAGplB,UAAU;AAC/B;AAEAvC,EAAAA,MAAMA,CAAC42B,KAAK,EAAEhnB,UAAU,GAAG,IAAI,EAAE;IAC/B,MAAM;MAAEzkB,EAAE;MAAEvH,IAAI;MAAEkJ,GAAG;MAAED,IAAI;AAAE+7B,MAAAA;AAAQ,KAAC,GAAGgO,KAAK;IAE9C,MAAMC,eAAe,GAAG,IAAI,CAAClP,WAAW,CAAC3+B,GAAG,CAACpF,IAAI,CAAC;IAElD,IAAI,CAACizC,eAAe,EAAE;AACpB,MAAA,MAAM,IAAI1xC,KAAK,CAAC,CAAuBvB,oBAAAA,EAAAA,IAAI,iBAAiB,CAAC;AAC/D;IAEA,MAAM;AAAEuU,MAAAA;AAAO,KAAC,GAAG0+B,eAAe;IAElC,IAAI,CAAC1+B,MAAM,EAAE;AACX,MAAA,MAAM,IAAIhT,KAAK,CAAC,CAAuBvB,oBAAAA,EAAAA,IAAI,iBAAiB,CAAC;AAC/D;AAEA,IAAA,IAAIuH,EAAE,IAAI,IAAI,CAAC29B,kBAAkB,CAACgO,IAAI,CAACC,QAAQ,CAAC5rC,EAAE,CAAC,EAAE;AACnD,MAAA,MAAM,IAAIhG,KAAK,CAAC,CAAuBgG,oBAAAA,EAAAA,EAAE,kBAAkB,CAAC;AAC9D;;AAEA;;IAEA,MAAMjH,MAAM,GAAG0kC,OAAO,IAAI,IAAI,CAACE,kBAAkB,CAAC9/B,GAAG,CAAC4/B,OAAO,CAAC;AAC9D,IAAA,MAAMoO,UAAU,GAAI9yC,MAAM,IAAI,IAAI,CAAC6kC,aAAa,CAAC5lB,YAAY,CAACjf,MAAM,CAAC,IAAK,EAAE;IAC5E,MAAM+yC,gBAAgB,GAAGxO,eAAe,CAACG,OAAO,EAAE,IAAI,CAACE,kBAAkB,CAAC;IAE1E,IACE3wB,MAAM,CAAC2H,KAAK,IACZhT,GAAG,IACH,CAAC,IAAI,CAACi8B,aAAa,CAACmO,YAAY,CAAC,CAAC,GAAGF,UAAU,EAAE,GAAGlqC,GAAG,CAAC/B,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE;AACnE4+B,MAAAA,QAAQ,EAAE,IAAI;AACdsN,MAAAA;AACF,KAAC,CAAC,EACF;AACA,MAAA,MAAM,IAAI9xC,KAAK,CAAC,CAAiB,cAAA,EAAA,CAAC,GAAG6xC,UAAU,EAAElqC,GAAG,CAAC,CAAC2F,IAAI,CAAC,GAAG,CAAC,sBAAsB,CAAC;AACxF;IAEA,IACE0F,MAAM,CAAC8X,MAAM,IACbpjB,IAAI,IACJ,CAAC,IAAI,CAACk8B,aAAa,CAACmO,YAAY,CAAC,CAAC,GAAGF,UAAU,EAAE,GAAGnqC,IAAI,CAAC9B,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE;MACpE6+B,YAAY,EAAEzxB,MAAM,CAAC2hB,UAAU;AAC/Bmd,MAAAA;AACF,KAAC,CAAC,EACF;MACA,MAAM,IAAI9xC,KAAK,CAAC,CAAA,cAAA,EAAiB,CAAC,GAAG6xC,UAAU,EAAE,GAAGnqC,IAAI,CAAC9B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC0H,IAAI,CAAC,GAAG,CAAC,CAAA,oBAAA,CAAsB,CAAC;AACvG;AAEA,IAAA,MAAM5J,KAAK,GAAGsP,MAAM,CAAC6H,MAAM,CACzB;MACE,IAAI7H,MAAM,CAACxP,KAAK,GAAG;QAAEA,KAAK,EAAEwP,MAAM,CAACxP;OAAO,GAAG,EAAE,CAAC;MAChD,GAAGiuC;KACJ,EACDhnB,UACF,CAAC;AAED,IAAA,IAAI,CAACunB,SAAS,CAACtuC,KAAK,CAAC;IAErB,IAAIsP,MAAM,CAAC2H,KAAK,EAAE;AAChB,MAAA,IAAI,CAACs3B,UAAU,CAACvuC,KAAK,CAAC;AACtB,MAAA,IAAI,CAACkgC,aAAa,CAACsO,SAAS,CAAC,IAAI,CAACtO,aAAa,CAAC5lB,YAAY,CAACta,KAAK,CAAC,EAAE;AACnE8gC,QAAAA,QAAQ,EAAE,IAAI;QACd2N,SAAS,EAAEzuC,KAAK,CAACsC,EAAE;AACnB8rC,QAAAA,gBAAgB,EAAExO,eAAe,CAACG,OAAO,EAAE,IAAI,CAACE,kBAAkB;AACpE,OAAC,CAAC;AACJ;IAEA,IAAI3wB,MAAM,CAAC8X,MAAM,EAAE;MACjB,IAAI9X,MAAM,CAAC2hB,UAAU,EAAE;AACrB,QAAA,IAAI,CAACyd,mBAAmB,CAAC1uC,KAAK,CAAC;AACjC;AAEA,MAAA,IAAI,CAACkgC,aAAa,CAACsO,SAAS,CAAC,IAAI,CAACtO,aAAa,CAAC5lB,YAAY,CAACta,KAAK,CAAC,EAAE;QACnE+gC,YAAY,EAAEzxB,MAAM,CAAC2hB,UAAU;QAC/Bwd,SAAS,EAAEzuC,KAAK,CAACsC,EAAE;AACnB8rC,QAAAA,gBAAgB,EAAExO,eAAe,CAACG,OAAO,EAAE,IAAI,CAACE,kBAAkB;AACpE,OAAC,CAAC;AACJ;AAEA,IAAA,OAAOjgC,KAAK;AACd;EAEAsuC,SAASA,CAACtuC,KAAK,EAAE;IACf,IAAIA,KAAK,CAACsC,EAAE,EAAE;AACZ,MAAA,IAAI,CAAC29B,kBAAkB,CAACgO,IAAI,CAACU,KAAK,CAAC3uC,KAAK,CAACsC,EAAE,EAAEtC,KAAK,CAAC;AAEnD,MAAA;AACF;IAEA,IAAIiB,MAAM,GAAG,OAAO;AAEpB,IAAA,IAAIjB,KAAK,CAACjF,IAAI,KAAK,SAAS,EAAE;AAC5BkG,MAAAA,MAAM,GAAG,MAAM;AACjB;AAEAjB,IAAAA,KAAK,CAACsC,EAAE,GAAG,IAAI,CAAC29B,kBAAkB,CAACgO,IAAI,CAAClU,YAAY,CAAC,CAAG94B,EAAAA,MAAM,CAAG,CAAA,CAAA,EAAEjB,KAAK,CAAC;AAC3E;EAEAuuC,UAAUA,CAACvuC,KAAK,EAAE;AAChB,IAAA,IAAI,CAACA,KAAK,CAACiE,GAAG,EAAE;MACdjE,KAAK,CAACiE,GAAG,GAAG,IAAI,CAAC2qC,iBAAiB,CAAC5uC,KAAK,CAAC;AAC3C;AACF;EAEA0uC,mBAAmBA,CAAC1uC,KAAK,EAAE;AACzB,IAAA,IAAI,CAACA,KAAK,CAACgE,IAAI,EAAE;MACfhE,KAAK,CAACgE,IAAI,GAAG,IAAI,CAAC4qC,iBAAiB,CAAC5uC,KAAK,CAAC;AAC5C;AACF;EAEA4uC,iBAAiBA,CAAC5uC,KAAK,EAAE;AACvB,IAAA,IAAI6uC,MAAM;IACV,MAAMxzC,MAAM,GAAG,IAAI,CAAC4kC,kBAAkB,CAAC9/B,GAAG,CAACH,KAAK,CAAC+/B,OAAO,CAAC;;AAEzD;IACA,GAAG;AACD8O,MAAAA,MAAM,GAAGt9B,IAAI,CAACs9B,MAAM,EAAE,CAAC15B,QAAQ,CAAC,EAAE,CAAC,CAAC7J,SAAS,CAAC,CAAC,CAAC;AAClD,KAAC,QAAQjQ,MAAM,IAAIA,MAAM,CAAC4J,UAAU,CAAC5K,IAAI,CAAEpB,KAAK,IAAKA,KAAK,CAACgL,GAAG,KAAK4qC,MAAM,CAAC;AAE1E,IAAA,OAAO,GAAG7uC,KAAK,CAACjF,IAAI,CAAA,CAAA,EAAI8zC,MAAM,CAAE,CAAA;AAClC;AACF;AAEAf,YAAY,CAACnxC,OAAO,GAAG,CAAC,mBAAmB,EAAE,cAAc,EAAE,YAAY,CAAC;;ACtI1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMmyC,YAAY,CAAC;AACxBjzC,EAAAA,WAAWA,CAAC6gB,iBAAiB,EAAEhD,UAAU,EAAE7Y,QAAQ,EAAE;IACnD,IAAI,CAACo/B,kBAAkB,GAAGvjB,iBAAiB;IAC3C,IAAI,CAACoiB,WAAW,GAAGplB,UAAU;IAC7B,IAAI,CAACypB,SAAS,GAAGtiC,QAAQ;IACzB,IAAI,CAACkuC,UAAU,GAAG,EAAE;AACtB;AAEAV,EAAAA,YAAYA,CAACrqC,IAAI,EAAEzM,OAAO,GAAG,EAAE,EAAE;IAC/B,MAAM;AACJupC,MAAAA,QAAQ,GAAG,KAAK;AAChBC,MAAAA,YAAY,GAAG,KAAK;AACpBiO,MAAAA,iBAAiB,GAAG,KAAK;AACzBP,MAAAA,SAAS,GAAG,IAAI;AAChBL,MAAAA,gBAAgB,GAAG;AACrB,KAAC,GAAG72C,OAAO;AAEX,IAAA,IAAIW,IAAI,GAAG;MAAEY,QAAQ,EAAE,IAAI,CAACi2C;KAAY;;AAExC;AACA;AACA,IAAA,KAAK,MAAME,OAAO,IAAIjrC,IAAI,EAAE;AAC1B9L,MAAAA,IAAI,GAAGg3C,eAAe,CAACh3C,IAAI,EAAE+2C,OAAO,CAAC;MAErC,IAAI,CAAC/2C,IAAI,EAAE;AACT,QAAA,OAAO,IAAI;AACb;AAEA,MAAA,IAAIA,IAAI,CAAC6oC,YAAY,IAAI,CAACiO,iBAAiB,EAAE;AAC3C,QAAA,IAAI,EAAEP,SAAS,IAAIL,gBAAgB,CAAC51C,MAAM,CAAC,EAAE;AAC3C,UAAA,MAAM,IAAI8D,KAAK,CACb,iGACF,CAAC;AACH;QAEA,MAAM6yC,kBAAkB,GACtBf,gBAAgB,CAAC12C,QAAQ,CAACQ,IAAI,CAACk3C,UAAU,CAAC,IACzCX,SAAS,IAAI7O,eAAe,CAAC6O,SAAS,EAAE,IAAI,CAACxO,kBAAkB,CAAC,CAACvoC,QAAQ,CAACQ,IAAI,CAACk3C,UAAU,CAAE;QAE9F,IAAI,CAACD,kBAAkB,EAAE;AACvB,UAAA,OAAO,KAAK;AACd;AACF;AAEA,MAAA,IAAIj3C,IAAI,CAACY,QAAQ,KAAK,IAAI,EAAE;AAC1B,QAAA,OAAO,KAAK;AACd;AACF;;AAEA;AACA,IAAA,OAAO,EAAEgoC,QAAQ,IAAIC,YAAY,CAAC;AACpC;AAEAyN,EAAAA,SAASA,CAACxqC,IAAI,EAAEzM,OAAO,GAAG,EAAE,EAAE;IAC5B,MAAM;AAAEupC,MAAAA,QAAQ,GAAG,KAAK;AAAEC,MAAAA,YAAY,GAAG,KAAK;AAAE0N,MAAAA,SAAS,GAAG,IAAI;AAAEL,MAAAA,gBAAgB,GAAG;AAAG,KAAC,GAAG72C,OAAO;AAEnG,IAAA,IAAI,CAAC,IAAI,CAAC82C,YAAY,CAACrqC,IAAI,EAAE;MAAE88B,QAAQ;MAAEC,YAAY;MAAE0N,SAAS;AAAEL,MAAAA;AAAiB,KAAC,CAAC,EAAE;MACrF,MAAM,IAAI9xC,KAAK,CAAC,CAAsB0H,mBAAAA,EAAAA,IAAI,CAAC4F,IAAI,CAAC,GAAG,CAAC,CAAA,CAAA,CAAG,CAAC;AAC1D;AAEA,IAAA,IAAI1R,IAAI,GAAG;MAAEY,QAAQ,EAAE,IAAI,CAACi2C;KAAY;AAExC,IAAA,KAAK,MAAME,OAAO,IAAIjrC,IAAI,EAAE;AAC1B,MAAA,IAAI/K,KAAK,GAAGi2C,eAAe,CAACh3C,IAAI,EAAE+2C,OAAO,CAAC;MAE1C,IAAI,CAACh2C,KAAK,EAAE;AACVA,QAAAA,KAAK,GAAG;UAAEg2C,OAAO;AAAEI,UAAAA,UAAU,EAAE,CAAC;AAAEv2C,UAAAA,QAAQ,EAAE;SAAI;AAChDZ,QAAAA,IAAI,CAACY,QAAQ,CAAC0B,IAAI,CAACvB,KAAK,CAAC;AAC3B,OAAC,MAAM;QACLA,KAAK,CAACo2C,UAAU,EAAE;AACpB;AAEAn3C,MAAAA,IAAI,GAAGe,KAAK;AACd;AAEA,IAAA,IAAI6nC,QAAQ,EAAE;MACZ5oC,IAAI,CAACY,QAAQ,GAAG,IAAI;AACtB;;AAEA;AACA,IAAA,IAAIioC,YAAY,EAAE;MAChB7oC,IAAI,CAAC6oC,YAAY,GAAG,IAAI;MACxB7oC,IAAI,CAACk3C,UAAU,GAAGX,SAAS;AAC7B;AACF;EAEAa,WAAWA,CAACtrC,IAAI,EAAE;AAChB;AACA,IAAA,IAAI9L,IAAI,GAAG;MAAEY,QAAQ,EAAE,IAAI,CAACi2C;KAAY;AACxC,IAAA,KAAK,MAAME,OAAO,IAAIjrC,IAAI,EAAE;AAC1B,MAAA,MAAM/K,KAAK,GAAGi2C,eAAe,CAACh3C,IAAI,EAAE+2C,OAAO,CAAC;MAC5C,IAAI,CAACh2C,KAAK,EAAE;QACV,MAAM,IAAIqD,KAAK,CAAC,CAA2B0H,wBAAAA,EAAAA,IAAI,CAAC4F,IAAI,CAAC,GAAG,CAAC,CAAA,CAAA,CAAG,CAAC;AAC/D;AACA1R,MAAAA,IAAI,GAAGe,KAAK;AACd;;AAEA;AACAf,IAAAA,IAAI,GAAG;MAAEY,QAAQ,EAAE,IAAI,CAACi2C;KAAY;AACpC,IAAA,KAAK,MAAME,OAAO,IAAIjrC,IAAI,EAAE;AAC1B,MAAA,MAAM/K,KAAK,GAAGi2C,eAAe,CAACh3C,IAAI,EAAE+2C,OAAO,CAAC;MAE5Ch2C,KAAK,CAACo2C,UAAU,EAAE;AAElB,MAAA,IAAIp2C,KAAK,CAACo2C,UAAU,KAAK,CAAC,EAAE;AAC1Bn3C,QAAAA,IAAI,CAACY,QAAQ,CAACitC,MAAM,CAAC7tC,IAAI,CAACY,QAAQ,CAAC0S,OAAO,CAACvS,KAAK,CAAC,EAAE,CAAC,CAAC;AACrD,QAAA,MAAM;AACR;AAEAf,MAAAA,IAAI,GAAGe,KAAK;AACd;AACF;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE4nC,0BAA0BA,CAAC7gC,KAAK,EAAEgF,EAAE,EAAE3H,OAAO,GAAG,EAAE,EAAE;IAClD,IAAIlC,MAAM,GAAG,IAAI;AAEjB,IAAA,MAAMo0C,eAAe,GAAG,IAAI,CAACzQ,WAAW,CAAC3+B,GAAG,CAACH,KAAK,CAACjF,IAAI,CAAC,CAACuU,MAAM;IAE/D,IAAIigC,eAAe,CAACt4B,KAAK,EAAE;MACzB,MAAMu4B,UAAU,GAAGxqC,EAAE,CAAC;QAAEhF,KAAK;AAAE8gC,QAAAA,QAAQ,EAAE,IAAI;AAAEC,QAAAA,YAAY,EAAE,KAAK;AAAE1jC,QAAAA;AAAQ,OAAC,CAAC;MAC9E,OAAOlC,MAAM,IAAIq0C,UAAU;AAC7B,KAAC,MAAM,IAAID,eAAe,CAACnoB,MAAM,EAAE;MACjC,MAAMooB,UAAU,GAAGxqC,EAAE,CAAC;QAAEhF,KAAK;AAAE8gC,QAAAA,QAAQ,EAAE,KAAK;QAAEC,YAAY,EAAEwO,eAAe,CAACte,UAAU;AAAE5zB,QAAAA;AAAQ,OAAC,CAAC;MACpGlC,MAAM,GAAGA,MAAM,IAAIq0C,UAAU;AAC/B;;AAEA;AACA,IAAA,IAAIr0C,MAAM,KAAK,KAAK,IAAIkC,OAAO,CAAC6jC,gBAAgB,EAAE;AAChD,MAAA,OAAO/lC,MAAM;AACf;IAEA,IAAIzC,KAAK,CAAC8P,OAAO,CAACxI,KAAK,CAACiF,UAAU,CAAC,EAAE;AACnC,MAAA,KAAK,MAAMhM,KAAK,IAAI+G,KAAK,CAACiF,UAAU,EAAE;AACpC,QAAA,MAAMuqC,UAAU,GAAG,IAAI,CAAC3O,0BAA0B,CAAC5nC,KAAK,EAAE+L,EAAE,EAAEL,KAAK,CAACtH,OAAO,CAAC,CAAC;QAC7ElC,MAAM,GAAGA,MAAM,IAAIq0C,UAAU;;AAE7B;QACA,IAAIr0C,MAAM,KAAK,KAAK,EAAE;AACpB,UAAA,OAAOA,MAAM;AACf;AACF;AACF;AAEA,IAAA,OAAOA,MAAM;AACf;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEmf,EAAAA,YAAYA,CAACta,KAAK,EAAEzI,OAAO,GAAG,EAAE,EAAE;IAChC,MAAM;MAAEk4C,YAAY,GAAG,EAAE;AAAEjtC,MAAAA,OAAO,GAAG,IAAI;AAAEktC,MAAAA,UAAU,GAAG;AAAK,KAAC,GAAGn4C,OAAO;IAExE,IAAIo4C,cAAc,GAAG,EAAE;AAEvB,IAAA,MAAMC,cAAc,GAAGt3C,MAAM,CAACgrC,SAAS,CAACuM,cAAc,CAACnF,IAAI,CAAC+E,YAAY,EAAEzvC,KAAK,CAACsC,EAAE,CAAC;AACnF,IAAA,MAAMitC,eAAe,GAAG,IAAI,CAACzQ,WAAW,CAAC3+B,GAAG,CAACH,KAAK,CAACjF,IAAI,CAAC,CAACuU,MAAM;;AAE/D;AACA,IAAA,IAAIsgC,cAAc,EAAE;AAClB,MAAA,MAAME,WAAW,GAAGL,YAAY,CAACzvC,KAAK,CAACsC,EAAE,CAAC;MAE1C,IAAIwtC,WAAW,KAAK,IAAI,IAAIA,WAAW,KAAK1vC,SAAS,IAAI0vC,WAAW,KAAK,EAAE,EAAE;AAC3EH,QAAAA,cAAc,GAAG,EAAE;AACrB,OAAC,MAAM,IAAI,OAAOG,WAAW,KAAK,QAAQ,EAAE;AAC1CH,QAAAA,cAAc,GAAGG,WAAW,CAAC5tC,KAAK,CAAC,GAAG,CAAC;OACxC,MAAM,IAAIxJ,KAAK,CAAC8P,OAAO,CAACsnC,WAAW,CAAC,EAAE;AACrCH,QAAAA,cAAc,GAAGG,WAAW;AAC9B,OAAC,MAAM;QACL,MAAM,IAAIxzC,KAAK,CAAC,CAAA,uBAAA,EAA0B0D,KAAK,CAACsC,EAAE,4CAA4C,CAAC;AACjG;AACF,KAAC,MAAM,IAAIitC,eAAe,CAACt4B,KAAK,EAAE;MAChC04B,cAAc,GAAG3vC,KAAK,CAACiE,GAAG,CAAC/B,KAAK,CAAC,GAAG,CAAC;KACtC,MAAM,IAAIqtC,eAAe,CAACnoB,MAAM,IAAIpnB,KAAK,CAACgE,IAAI,EAAE;MAC/C2rC,cAAc,GAAG3vC,KAAK,CAACgE,IAAI,CAAC9B,KAAK,CAAC,GAAG,CAAC;AACxC;;AAEA;AACA,IAAA,IAAIM,OAAO,EAAE;MACXmtC,cAAc,GAAG,IAAI,CAACI,WAAW,CAACJ,cAAc,EAAE3vC,KAAK,EAAEwC,OAAO,CAAC;AACnE;;AAEA;IACA,IAAIxC,KAAK,CAAC+/B,OAAO,IAAI//B,KAAK,CAAC+/B,OAAO,KAAK2P,UAAU,EAAE;MACjD,MAAMr0C,MAAM,GAAG,IAAI,CAAC4kC,kBAAkB,CAAC9/B,GAAG,CAACH,KAAK,CAAC+/B,OAAO,CAAC;AACzD,MAAA,OAAO,CAAC,IAAI,IAAI,CAACzlB,YAAY,CAACjf,MAAM,EAAE9D,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,GAAGo4C,cAAc,CAAC;AAC3E;AAEA,IAAA,OAAOA,cAAc;AACvB;AAEAtM,EAAAA,KAAKA,GAAG;IACN,IAAI,CAAC0L,UAAU,GAAG,EAAE;AACtB;AAEAgB,EAAAA,WAAWA,CAACJ,cAAc,EAAE3vC,KAAK,EAAEwC,OAAO,EAAE;IAC1C,MAAMiZ,mBAAmB,GAAG,IAAI,CAAC0nB,SAAS,CAAChjC,GAAG,CAAC,qBAAqB,EAAE,KAAK,CAAC;IAE5E,IAAIsb,mBAAmB,IAAIA,mBAAmB,CAACE,gBAAgB,CAAC3b,KAAK,CAAC+/B,OAAO,CAAC,EAAE;MAC9E,OAAO,CAACv9B,OAAO,CAACxC,KAAK,CAAC+/B,OAAO,CAAC,EAAE,GAAG4P,cAAc,CAAC;AACpD;AAEA,IAAA,OAAOA,cAAc;AACvB;AACF;AAEA,MAAMT,eAAe,GAAGA,CAACh3C,IAAI,EAAE+2C,OAAO,KAAK;AACzC,EAAA,IAAIzmC,eAAO,CAACtQ,IAAI,CAACY,QAAQ,CAAC,EAAE;AAC1B,IAAA,OAAOZ,IAAI,CAACY,QAAQ,CAACk3C,IAAI,CAAE93C,IAAI,IAAKA,IAAI,CAAC+2C,OAAO,KAAKA,OAAO,CAAC,IAAI,IAAI;AACvE;AACA,EAAA,OAAO,IAAI;AACb,CAAC;AAEDH,YAAY,CAACnyC,OAAO,GAAG,CAAC,mBAAmB,EAAE,YAAY,EAAE,UAAU,CAAC;;ACrQtE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMszC,YAAY,CAAC;EACxBp0C,WAAWA,CAACC,QAAQ,EAAE;AACpB;IACA,IAAI,CAACo0C,KAAK,GAAG,EAAE;AACf,IAAA,IAAI,CAACjC,IAAI,GAAG,IAAI50B,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;IAEhC,IAAI,CAACtd,SAAS,GAAGD,QAAQ;AAC3B;;AAEA;AACF;AACA;AACEq0C,EAAAA,MAAMA,CAACtQ,WAAW,EAAEhjB,GAAG,EAAE;AACvB,IAAA,IAAIuzB,gBAAgB,GAAG,IAAI,CAACF,KAAK,CAACF,IAAI,CAAEK,CAAC,IAAKA,CAAC,CAACxQ,WAAW,KAAKA,WAAW,CAAC;IAE5E,IAAI,CAACuQ,gBAAgB,EAAE;AACrBA,MAAAA,gBAAgB,GAAG;QACjBvQ,WAAW;AACXljB,QAAAA,IAAI,EAAE;OACP;AAED,MAAA,IAAI,CAACuzB,KAAK,CAAC11C,IAAI,CAAC41C,gBAAgB,CAAC;AACnC;AAEAA,IAAAA,gBAAgB,CAACzzB,IAAI,CAACniB,IAAI,CAACqiB,GAAG,CAAC;AACjC;;AAEA;AACF;AACA;AACA;EACEyzB,MAAMA,CAAChuC,EAAE,EAAE;AACT,IAAA,MAAMqa,IAAI,GAAG4zB,OAAO,CAAC,IAAI,CAACL,KAAK,CAAC;IAChC,OAAOvzB,IAAI,CAACqzB,IAAI,CAAEK,CAAC,IAAKA,CAAC,CAAC/tC,EAAE,KAAKA,EAAE,CAAC;AACtC;;AAEA;AACF;AACA;AACA;EACEkuC,cAAcA,CAAC5uC,SAAS,EAAE;IACxB,OAAO2uC,OAAO,CAAC,IAAI,CAACL,KAAK,CAAC,CAACF,IAAI,CAAEK,CAAC,IAAK;MACrC,MAAM;AAAEprC,QAAAA;AAAW,OAAC,GAAGorC,CAAC;AAExB,MAAA,OAAOprC,UAAU,CAACvN,QAAQ,CAACkK,SAAS,CAACU,EAAE,CAAC;AAC1C,KAAC,CAAC;AACJ;;AAEA;AACF;AACA;AACA;EACEsa,OAAOA,CAACijB,WAAW,EAAE;AACnB,IAAA,MAAM4Q,YAAY,GAAG,IAAI,CAACP,KAAK,CAACF,IAAI,CAAEK,CAAC,IAAKxQ,WAAW,KAAKwQ,CAAC,CAACxQ,WAAW,CAAC;IAE1E,IAAI,CAAC4Q,YAAY,EAAE;AACjB,MAAA,OAAO,EAAE;AACX;IAEA,OAAOA,YAAY,CAAC9zB,IAAI;AAC1B;;AAEA;AACF;AACA;AACE+zB,EAAAA,SAASA,GAAG;AACV,IAAA,OAAO,IAAI,CAACzC,IAAI,CAAClU,YAAY,CAAC,MAAM,CAAC;AACvC;;AAEA;AACF;AACA;EACE4T,eAAeA,CAAC/rC,SAAS,EAAE;IACzB,MAAM;MAAE7G,IAAI;AAAEkK,MAAAA;AAAW,KAAC,GAAGrD,SAAS;AAEtC,IAAA,IAAI,CAAC,CAAC,SAAS,EAAE,OAAO,EAAE,aAAa,CAAC,CAAClK,QAAQ,CAACqD,IAAI,CAAC,IAAI,CAACkK,UAAU,EAAE;AACtE,MAAA;AACF;;AAEA;IACA,MAAM0rC,WAAW,GAAGC,UAAU,CAAC3rC,UAAU,EAAE,IAAI,CAACgpC,IAAI,CAAC;AAErD31C,IAAAA,MAAM,CAACiN,OAAO,CAACorC,WAAW,CAAC,CAACluC,OAAO,CAAC,CAAC,CAACH,EAAE,EAAE2C,UAAU,CAAC,KAAK;AACxD;AACA,MAAA,IAAI,CAACkrC,MAAM,CAACvuC,SAAS,CAACU,EAAE,EAAE;AACxBA,QAAAA,EAAE,EAAEA,EAAE;QACN2C,UAAU,EAAEA,UAAU,CAAC9K,GAAG,CAAE02C,CAAC,IAAKA,CAAC,CAACvuC,EAAE;AACxC,OAAC,CAAC;AACJ,KAAC,CAAC;;AAEF;IACA2C,UAAU,CAACxC,OAAO,CAAEzC,KAAK,IAAK,IAAI,CAAC2tC,eAAe,CAAC3tC,KAAK,CAAC,CAAC;;AAE1D;AACA,IAAA,IAAI,CAACjE,SAAS,CAACW,IAAI,CAAC,uBAAuB,EAAE;MAAEigB,IAAI,EAAE,IAAI,CAACuzB;AAAM,KAAC,CAAC;AACpE;AAEA7M,EAAAA,KAAKA,GAAG;IACN,IAAI,CAAC6M,KAAK,GAAG,EAAE;AACf,IAAA,IAAI,CAACjC,IAAI,CAAC5K,KAAK,EAAE;;AAEjB;AACA,IAAA,IAAI,CAACtnC,SAAS,CAACW,IAAI,CAAC,oBAAoB,CAAC;AAC3C;AACF;AAEAuzC,YAAY,CAACtzC,OAAO,GAAG,CAAC,UAAU,CAAC;;AAEnC;;AAEA,SAASi0C,UAAUA,CAAC3rC,UAAU,EAAEmU,GAAG,EAAE;AACnC,EAAA,OAAO03B,eAAO,CAAC7rC,UAAU,EAAG4rC,CAAC,IAAK;AAChC;IACA,MAAM;AAAEhvC,MAAAA;AAAO,KAAC,GAAGgvC,CAAC;AAEpB,IAAA,IAAI,CAAChvC,MAAM,IAAI,CAACA,MAAM,CAACgb,GAAG,EAAE;AAC1B,MAAA,OAAOzD,GAAG,CAAC2gB,YAAY,CAAC,MAAM,CAAC;AACjC;IAEA,OAAOl4B,MAAM,CAACgb,GAAG;AACnB,GAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA,SAAS0zB,OAAOA,CAACQ,QAAQ,EAAE;AACzB,EAAA,OAAOA,QAAQ,CAAC52C,GAAG,CAAEk2C,CAAC,IAAKA,CAAC,CAAC1zB,IAAI,CAAC,CAACq0B,IAAI,EAAE;AAC3C;;ACrJO,MAAMC,iBAAiB,CAAC;EAC7Bp1C,WAAWA,CAACC,QAAQ,EAAE;IACpB,IAAI,CAACC,SAAS,GAAGD,QAAQ;AAEzB,IAAA,IAAI,CAACgjC,WAAW,GAAG,EAAE;IAErBhjC,QAAQ,CAACkf,EAAE,CAAC,YAAY,EAAE,MAAM,IAAI,CAACqoB,KAAK,EAAE,CAAC;AAE7C,IAAA,IAAI,CAAC4K,IAAI,GAAG,IAAI50B,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;AAClC;EAEA/e,GAAGA,CAACsH,SAAS,EAAE;IACb,MAAM;AAAEU,MAAAA;AAAG,KAAC,GAAGV,SAAS;AAExB,IAAA,IAAI,IAAI,CAACk9B,WAAW,CAACx8B,EAAE,CAAC,EAAE;AACxB,MAAA,MAAM,IAAIhG,KAAK,CAAC,CAAsBgG,mBAAAA,EAAAA,EAAE,iBAAiB,CAAC;AAC5D;AAEA,IAAA,IAAI,CAACvG,SAAS,CAACW,IAAI,CAAC,eAAe,EAAE;AAAEkF,MAAAA;AAAU,KAAC,CAAC;AAEnD,IAAA,IAAI,CAACk9B,WAAW,CAACx8B,EAAE,CAAC,GAAGV,SAAS;AAClC;EAEA0xB,MAAMA,CAAC1xB,SAAS,EAAE;IAChB,MAAM;AAAEU,MAAAA;AAAG,KAAC,GAAGV,SAAS;AAExB,IAAA,IAAI,CAAC,IAAI,CAACk9B,WAAW,CAACx8B,EAAE,CAAC,EAAE;AACzB,MAAA;AACF;AAEA,IAAA,IAAI,CAACvG,SAAS,CAACW,IAAI,CAAC,kBAAkB,EAAE;AAAEkF,MAAAA;AAAU,KAAC,CAAC;AAEtD,IAAA,OAAO,IAAI,CAACk9B,WAAW,CAACx8B,EAAE,CAAC;AAC7B;EAEAnC,GAAGA,CAACmC,EAAE,EAAE;AACN,IAAA,OAAO,IAAI,CAACw8B,WAAW,CAACx8B,EAAE,CAAC;AAC7B;AAEA4uC,EAAAA,MAAMA,GAAG;AACP,IAAA,OAAO54C,MAAM,CAAC4H,MAAM,CAAC,IAAI,CAAC4+B,WAAW,CAAC;AACxC;AAEAyC,EAAAA,OAAOA,GAAG;AACR,IAAA,OAAO,IAAI,CAAC2P,MAAM,EAAE,CAAClB,IAAI,CAAEpuC,SAAS,IAAKA,SAAS,CAAC7G,IAAI,KAAK,SAAS,CAAC;AACxE;EAEA0H,OAAOA,CAACmnC,QAAQ,EAAE;AAChB,IAAA,IAAI,CAACsH,MAAM,EAAE,CAACzuC,OAAO,CAAEb,SAAS,IAAKgoC,QAAQ,CAAChoC,SAAS,CAAC,CAAC;AAC3D;AAEAyhC,EAAAA,KAAKA,GAAG;AACN,IAAA,IAAI,CAACvE,WAAW,GAAG,EAAE;AAErB,IAAA,IAAI,CAACmP,IAAI,CAAC5K,KAAK,EAAE;AACnB;AACF;AAEA4N,iBAAiB,CAACt0C,OAAO,GAAG,CAAC,UAAU,CAAC;;AC5DjC,MAAMw0C,yBAAyB,CAAC;AACrCt1C,EAAAA,WAAWA,CAACC,QAAQ,EAAE4gB,iBAAiB,EAAEhD,UAAU,EAAE;IACnD,IAAI,CAAC3d,SAAS,GAAGD,QAAQ;IACzB,IAAI,CAACmkC,kBAAkB,GAAGvjB,iBAAiB;IAC3C,IAAI,CAACoiB,WAAW,GAAGplB,UAAU;AAE7B,IAAA,IAAI,CAAC03B,mBAAmB,GAAG,EAAE;IAE7Bt1C,QAAQ,CAACkf,EAAE,CAAC,YAAY,EAAE,MAAM,IAAI,CAACqoB,KAAK,EAAE,CAAC;AAC/C;AAEAzoB,EAAAA,YAAYA,CAACD,UAAU,EAAE02B,aAAa,EAAE;IACtC,MAAM;MAAE72B,MAAM;MAAE,GAAG82B;AAAS,KAAC,GAAGD,aAAa;IAE7C,MAAME,kBAAkB,GAAG,CAAC/2B,MAAM;AAClC,IAAA,MAAMg3B,iBAAiB,GAAG,IAAI,CAACJ,mBAAmB,CAACz2B,UAAU,CAAC;AAE9D,IAAA,IAAI42B,kBAAkB,IAAI,CAACC,iBAAiB,EAAE;AAC5C,MAAA,IAAI,CAACJ,mBAAmB,CAACz2B,UAAU,CAAC,GAAG;QACrCA,UAAU;QACV,GAAG22B;OACJ;AAED,MAAA,IAAI,CAACv1C,SAAS,CAACW,IAAI,CAAC,yBAAyB,EAAE;AAAEie,QAAAA;AAAW,OAAC,CAAC;AAChE,KAAC,MAAM,IAAI,CAAC42B,kBAAkB,IAAIC,iBAAiB,EAAE;AACnD,MAAA,OAAO,IAAI,CAACJ,mBAAmB,CAACz2B,UAAU,CAAC;AAE3C,MAAA,IAAI,CAAC5e,SAAS,CAACW,IAAI,CAAC,2BAA2B,EAAE;AAAEie,QAAAA;AAAW,OAAC,CAAC;AAClE,KAAC,MAAM,IAAI42B,kBAAkB,IAAIC,iBAAiB,EAAE;AAClD,MAAA,MAAMC,kBAAkB,GAAGn5C,MAAM,CAACC,IAAI,CAAC+4C,QAAQ,CAAC,CAACj3C,IAAI,CAAE4J,GAAG,IAAK;AAC7D,QAAA,OAAO,IAAI,CAACmtC,mBAAmB,CAACz2B,UAAU,CAAC,CAAC1W,GAAG,CAAC,KAAKqtC,QAAQ,CAACrtC,GAAG,CAAC;AACpE,OAAC,CAAC;AAEF,MAAA,IAAIwtC,kBAAkB,EAAE;AACtB,QAAA,IAAI,CAACL,mBAAmB,CAACz2B,UAAU,CAAC,GAAG;UACrCA,UAAU;UACV,GAAG22B;SACJ;AAED,QAAA,IAAI,CAACv1C,SAAS,CAACW,IAAI,CAAC,2BAA2B,EAAE;AAAEie,UAAAA;AAAW,SAAC,CAAC;AAClE;AACF;AAEA,IAAA,OAAOA,UAAU;AACnB;EAEAG,eAAeA,CAACH,UAAU,EAAE;AAC1B,IAAA,IAAI,IAAI,CAACy2B,mBAAmB,CAACz2B,UAAU,CAAC,EAAE;AACxC,MAAA,OAAO,IAAI,CAACy2B,mBAAmB,CAACz2B,UAAU,CAAC;AAC3C,MAAA,IAAI,CAAC5e,SAAS,CAACW,IAAI,CAAC,2BAA2B,EAAE;AAAEie,QAAAA;AAAW,OAAC,CAAC;AAClE;AACF;EAEAxa,GAAGA,CAACwa,UAAU,EAAE;AACd,IAAA,OAAO,IAAI,CAACy2B,mBAAmB,CAACz2B,UAAU,CAAC;AAC7C;AAEAu2B,EAAAA,MAAMA,GAAG;AACP,IAAA,OAAO54C,MAAM,CAAC4H,MAAM,CAAC,IAAI,CAACkxC,mBAAmB,CAAC;AAChD;AAEAM,EAAAA,WAAWA,GAAG;IACZ,OAAO,IAAI,CAACR,MAAM,EAAE,CAAC/3C,MAAM,CAAC,CAAC;AAAEmJ,MAAAA;AAAG,KAAC,KAAK;MACtC,MAAM8kC,mBAAmB,GAAG,IAAI,CAACnH,kBAAkB,CAAC9/B,GAAG,CAACmC,EAAE,CAAC;MAE3D,IAAI,CAAC8kC,mBAAmB,EAAE;AACxB,QAAA,OAAO,KAAK;AACd;MAEA,MAAM;AAAErsC,QAAAA;AAAK,OAAC,GAAGqsC,mBAAmB;MACpC,MAAM;AAAE93B,QAAAA;OAAQ,GAAG,IAAI,CAACwvB,WAAW,CAAC3+B,GAAG,CAACpF,IAAI,CAAC;MAE7C,OAAOuU,MAAM,CAAC2H,KAAK;AACrB,KAAC,CAAC;AACJ;AAEAosB,EAAAA,KAAKA,GAAG;AACN,IAAA,IAAI,CAAC+N,mBAAmB,GAAG,EAAE;AAC/B;AACF;AAEAD,yBAAyB,CAACx0C,OAAO,GAAG,CAAC,UAAU,EAAE,mBAAmB,EAAE,YAAY,CAAC;;AC9D5E,SAASg1C,QAAQA,CAACriC,MAAM,EAAExT,QAAQ,EAAEge,IAAI,EAAEjZ,QAAQ,EAAE;EACzD,MAAM+wC,GAAG,GAAGA,MAAM;AAChB,IAAA,MAAM,CAACnJ,KAAK,EAAEoJ,QAAQ,CAAC,GAAG53B,cAAQ,CAACH,IAAI,CAAC3R,SAAS,EAAE,CAAC;AAEpD,IAAA,MAAM2pC,WAAW,GAAG;AAClBruC,MAAAA,UAAUA,CAAC1I,IAAI,EAAEwC,MAAM,GAAG,IAAI,EAAE;AAC9B,QAAA,OAAOsD,QAAQ,CAACV,GAAG,CAACpF,IAAI,EAAEwC,MAAM,CAAC;OAClC;MACDgF,MAAM,EAAEuX,IAAI,CAACi4B;KACd;AAEDj2C,IAAAA,QAAQ,CAACkf,EAAE,CAAC,SAAS,EAAGg3B,QAAQ,IAAK;MACnCH,QAAQ,CAACG,QAAQ,CAAC;AACpB,KAAC,CAAC;AAEF,IAAA,MAAMz7B,QAAQ,GAAGrM,iBAAW,CAAEkR,MAAM,IAAKtB,IAAI,CAACm4B,OAAO,CAAC72B,MAAM,CAAC,EAAE,EAAE,CAAC;IAElE,MAAM;AAAEtM,MAAAA;AAAW,KAAC,GAAG25B,KAAK;IAE5B,MAAM;AAAE15B,MAAAA;AAAS,KAAC,GAAGD,UAAU;AAE/B,IAAA,MAAMwvB,QAAQ,GAAGp0B,iBAAW,CAAC,MAAM;MACjC,IAAI,CAAC6E,QAAQ,EAAE;QACb+K,IAAI,CAACo4B,MAAM,EAAE;AACf;AACF,KAAC,EAAE,CAACnjC,QAAQ,CAAC,CAAC;AAEd,IAAA,MAAMwvB,OAAO,GAAGr0B,iBAAW,CAAC,MAAM4P,IAAI,CAACooB,KAAK,EAAE,EAAE,EAAE,CAAC;IAEnD,MAAM;AAAE9D,MAAAA;AAAO,KAAC,GAAGqK,KAAK;IAExB,IAAI,CAACrK,MAAM,EAAE;AACX,MAAA,OAAO,IAAI;AACb;AAEA,IAAA,OACEp7B,cAAA,CAACU,WAAW,CAACk7B,QAAQ,EAAA;AAAC3iC,MAAAA,KAAK,EAAE61C,WAAY;MAAAh5C,QAAA,EACvCkK,cAAA,CAACm7B,aAAa,EAAA;AAAC5nB,QAAAA,QAAQ,EAAEA,QAAS;AAAC+nB,QAAAA,QAAQ,EAAEA,QAAS;AAACC,QAAAA,OAAO,EAAEA;OAAU;AAAC,KACvD,CAAC;GAE1B;EAED,MAAM;AAAEr9B,IAAAA;AAAU,GAAC,GAAGoO,MAAM;AAE5BxT,EAAAA,QAAQ,CAACkf,EAAE,CAAC,WAAW,EAAE,MAAM;IAC7BqZ,aAAM,CAACrxB,cAAA,CAAC4uC,GAAG,IAAE,CAAC,EAAE1wC,SAAS,CAAC;AAC5B,GAAC,CAAC;AAEFpF,EAAAA,QAAQ,CAACkf,EAAE,CAAC,cAAc,EAAE,MAAM;AAChCqZ,IAAAA,aAAM,CAAC,IAAI,EAAEnzB,SAAS,CAAC;AACzB,GAAC,CAAC;AACJ;AAEAywC,QAAQ,CAACh1C,OAAO,GAAG,CAAC,iBAAiB,EAAE,UAAU,EAAE,MAAM,EAAE,UAAU,CAAC;;ACtEtE;AACA;AACA;AACA;AACA;AACA,MAAMw1C,oCAAoC,GAAIC,WAAW,IAAK;AAC5D;EACA,MAAMC,cAAc,GAAG,EAAE;EAEzB,IAAID,WAAW,KAAK,IAAI,EAAE;AACxB,IAAA,OAAOC,cAAc;AACvB;EAEA/5C,MAAM,CAAC4H,MAAM,CAACkyC,WAAW,CAAC,CAAC3vC,OAAO,CAAExG,KAAK,IAAK;IAC5C,IAAIA,KAAK,KAAK,IAAI,EAAE;AAClB,MAAA;AACF;AAEA,IAAA,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;MAC7Bo2C,cAAc,CAAC73C,IAAI,CAAC,GAAG23C,oCAAoC,2BAA6Bl2C,KAAM,CAAC,CAAC;KACjG,MAAM,IAAIvD,KAAK,CAAC8P,OAAO,CAACvM,KAAK,CAAC,EAAE;AAC/Bo2C,MAAAA,cAAc,CAAC73C,IAAI,CAAC,GAAGyB,KAAK,CAAC9B,GAAG,CAACg4C,oCAAoC,CAAC,CAACnB,IAAI,EAAE,CAAC;AAChF,KAAC,MAAM,IAAI,OAAO/0C,KAAK,KAAK,QAAQ,IAAIA,KAAK,CAACE,UAAU,CAACy8B,2BAA2B,CAAC,EAAE;AACrFyZ,MAAAA,cAAc,CAAC73C,IAAI,CAACyB,KAAK,CAAC;AAC5B;AACF,GAAC,CAAC;AAEF,EAAA,OAAOo2C,cAAc;AACvB,CAAC;;AC5BD,MAAMtZ,YAAY,GAAGuZ,MAAM,CAAC,cAAc,CAAC;AAC3C,MAAMC,cAAc,GAAGD,MAAM,CAAC,UAAU,CAAC;AACzC,MAAME,uBAAuB,GAAGF,MAAM,CAAC,mBAAmB,CAAC;AAC3D,MAAMG,+BAA+B,GAAGH,MAAM,CAAC,2BAA2B,CAAC;AAC3E,MAAM/lC,WAAW,GAAG,EAAE;AAEtB,MAAMmmC,YAAY,CAAC;AACjB;AACF;AACA;AACA;AACA;AACE72C,EAAAA,WAAWA,CAACC,QAAQ,EAAE4gB,iBAAiB,EAAE9C,yBAAyB,EAAE;AAClE;AACA,IAAA,IAAI,CAACmf,YAAY,CAAC,GAAG,IAAI4Z,GAAG,EAAE;AAC9B;AACA,IAAA,IAAI,CAACJ,cAAc,CAAC,GAAGz2C,QAAQ;AAC/B;AACA,IAAA,IAAI,CAAC02C,uBAAuB,CAAC,GAAG91B,iBAAiB;AACjD;AACA,IAAA,IAAI,CAAC+1B,+BAA+B,CAAC,GAAG74B,yBAAyB;IAEjE,MAAMg5B,iBAAiB,GAAGA,CAAC;AAAE9kC,MAAAA;AAAK,KAAC,KAAK;AACtC,MAAA,MAAMukC,cAAc,GAAGF,oCAAoC,CAACrkC,IAAI,CAAC;;AAEjE;AACAukC,MAAAA,cAAc,CAAC5vC,OAAO,CAAEowC,aAAa,IAAK;AACxC,QAAA,IAAI,CAAChZ,WAAW,CAACgZ,aAAa,CAAC;AACjC,OAAC,CAAC;KACH;IAED/2C,QAAQ,CAACkf,EAAE,CAAC,YAAY,EAAE,MAAM,IAAI,CAACqoB,KAAK,EAAE,CAAC;AAC7CvnC,IAAAA,QAAQ,CAACkf,EAAE,CAAC,yBAAyB,EAAE43B,iBAAiB,CAAC;AACzD92C,IAAAA,QAAQ,CAACkf,EAAE,CAAC,4BAA4B,EAAE43B,iBAAiB,CAAC;AAC9D;;AAEA;AACF;AACA;AACA;AACE5Y,EAAAA,QAAQA,CAAC13B,EAAE,EAAEq3B,KAAK,EAAE;IAClB,IAAI,CAACZ,YAAY,CAAC,CAAC/R,GAAG,CAAC1kB,EAAE,EAAEq3B,KAAK,CAAC;AACnC;;AAEA;AACF;AACA;AACA;EACEL,QAAQA,CAACh3B,EAAE,EAAE;IACX,OAAO,IAAI,CAACy2B,YAAY,CAAC,CAAC54B,GAAG,CAACmC,EAAE,CAAC,IAAIiK,WAAW;AAClD;;AAEA;AACF;AACA;AACEumC,EAAAA,OAAOA,GAAG;AACR,IAAA,OAAOp6C,KAAK,CAACC,IAAI,CAAC,IAAI,CAACogC,YAAY,CAAC,CAACxgC,IAAI,EAAE,CAAC;AAC9C;;AAEA;AACF;AACA;AACA;EACEghC,MAAMA,CAACj3B,EAAE,EAAE;IACT,OAAO,IAAI,CAACy2B,YAAY,CAAC,CAACga,GAAG,CAACzwC,EAAE,CAAC;AACnC;;AAEA;AACF;AACA;EACEu3B,WAAWA,CAACv3B,EAAE,EAAE;AACd,IAAA,IAAI,CAACy2B,YAAY,CAAC,CAACia,MAAM,CAAC1wC,EAAE,CAAC;AAC/B;;AAEA;AACF;AACA;AACE2wC,EAAAA,WAAWA,GAAG;AACZ,IAAA,OAAO,IAAIN,GAAG,CAAC,IAAI,CAAC5Z,YAAY,CAAC,CAAC;AACpC;AAEAsK,EAAAA,KAAKA,GAAG;AACN,IAAA,IAAI,CAACtK,YAAY,CAAC,CAACsK,KAAK,EAAE;AAC5B;AACF;AAEAqP,YAAY,CAAC/1C,OAAO,GAAG,CAAC,UAAU,EAAE,mBAAmB,EAAE,2BAA2B,CAAC;;AC9E9E,MAAMu2C,YAAY,GAAG;AAC1BnR,EAAAA,QAAQ,EAAE,CAAC,YAAY,EAAE,UAAU,CAAC;AACpCroB,EAAAA,UAAU,EAAE,CAAC,MAAM,EAAEmlB,UAAU,CAAC;AAChCsU,EAAAA,QAAQ,EAAE,CAAC,MAAM,EAAExB,QAAQ,CAAC;AAC5B5Y,EAAAA,YAAY,EAAE,CAAC,MAAM,EAAE2Z,YAAY;AACrC;;ACFO,MAAMU,UAAU,GAAG;EACxBnM,WAAW,EAAE,CAACiM,YAAY,CAAC;AAC3Bp3C,EAAAA,QAAQ,EAAE,CAAC,MAAM,EAAEytC,QAAQ,CAAC;AAC5B8J,EAAAA,QAAQ,EAAE,CAAC,MAAM,EAAEnG,QAAQ,CAAC;AAC5BC,EAAAA,YAAY,EAAE,CAAC,MAAM,EAAEW,YAAY,CAAC;AACpCpxB,EAAAA,iBAAiB,EAAE,CAAC,MAAM,EAAEu0B,iBAAiB,CAAC;AAC9Cr3B,EAAAA,yBAAyB,EAAE,CAAC,MAAM,EAAEu3B,yBAAyB,CAAC;AAC9Dt3B,EAAAA,YAAY,EAAE,CAAC,MAAM,EAAEi1B,YAAY,CAAC;AACpCryB,EAAAA,YAAY,EAAE,CAAC,MAAM,EAAEwzB,YAAY,CAAC;AACpC/J,EAAAA,SAAS,EAAE,CAAC,MAAM,EAAEyF,SAAS;AAC/B,CAAC;;ACRD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMvyB,GAAG,GAAG,IAAIC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;;AAEhC;AACA;AACA;AACO,MAAMi6B,IAAI,CAAC;AAChB;AACF;AACA;AACA;AACEz3C,EAAAA,WAAWA,CAACtE,OAAO,GAAG,EAAE,EAAE;AACxB;AACJ;AACA;AACA;AACI,IAAA,IAAI,CAACyjB,EAAE,GAAG,IAAI,CAACu4B,QAAQ;;AAEvB;AACJ;AACA;AACA;AACI,IAAA,IAAI,CAACxB,GAAG,GAAG34B,GAAG,CAACI,IAAI,EAAE;;AAErB;AACJ;AACA;AACA;AACI,IAAA,IAAI,CAACg6B,UAAU,GAAGxyC,mBAAmB,EAAE;IAEvC,MAAM;MAAEE,SAAS;MAAEL,QAAQ,GAAG,IAAI,CAAC4yC,eAAe,CAACl8C,OAAO,EAAE,IAAI,CAACi8C,UAAU,CAAC;AAAE1kC,MAAAA,UAAU,GAAG;AAAG,KAAC,GAAGvX,OAAO;;AAEzG;AACJ;AACA;AACA;IACI,IAAI,CAACm8C,MAAM,GAAG;AACZxrC,MAAAA,WAAW,EAAE,IAAI;AACjB1L,MAAAA,IAAI,EAAE,IAAI;MACVsS,UAAU;MACVvN,MAAM,EAAE,EAAE;AACV68B,MAAAA,MAAM,EAAE;KACT;AAED,IAAA,IAAI,CAACj+B,GAAG,GAAGU,QAAQ,CAACV,GAAG;AAEvB,IAAA,IAAI,CAACwzC,MAAM,GAAG9yC,QAAQ,CAAC8yC,MAAM;IAE7B,IAAI,CAACxzC,GAAG,CAAC,UAAU,CAAC,CAACzD,IAAI,CAAC,WAAW,CAAC;AAEtC,IAAA,IAAIwE,SAAS,EAAE;AACb,MAAA,IAAI,CAAC0yC,QAAQ,CAAC1yC,SAAS,CAAC;AAC1B;AACF;AAEAmiC,EAAAA,KAAKA,GAAG;AACN;AACA,IAAA,IAAI,CAACwQ,KAAK,CAAC,eAAe,CAAC;;AAE3B;AACA,IAAA,IAAI,CAACA,KAAK,CAAC,YAAY,CAAC;AAC1B;;AAEA;AACF;AACA;AACA;AACEC,EAAAA,OAAOA,GAAG;AACR;IACA,IAAI,CAAC3zC,GAAG,CAAC,UAAU,CAAC,CAACzD,IAAI,CAAC,cAAc,CAAC;;AAEzC;IACA,IAAI,CAACyD,GAAG,CAAC,UAAU,CAAC,CAACzD,IAAI,CAAC,iBAAiB,CAAC;AAE5C,IAAA,IAAI,CAACq3C,OAAO,CAAC,KAAK,CAAC;AACrB;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACEzG,EAAAA,YAAYA,CAAClP,MAAM,EAAE5hC,IAAI,GAAG,EAAE,EAAE;AAC9B,IAAA,OAAO,IAAIw3C,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtC,IAAI;QACF,IAAI,CAAC7Q,KAAK,EAAE;QAEZ,MAAM;AAAEjF,UAAAA,MAAM,EAAEqP,cAAc;AAAEF,UAAAA;SAAU,GAAG,IAAI,CAACptC,GAAG,CAAC,UAAU,CAAC,CAACmtC,YAAY,CAAClP,MAAM,CAAC;QAEtF,MAAM+V,eAAe,GAAG,IAAI,CAACvL,wBAAwB,CAACjkC,KAAK,CAACnI,IAAI,CAAC,CAAC;QAElE,IAAI,CAACgqC,SAAS,CAAC;AACbhqC,UAAAA,IAAI,EAAE23C,eAAe;UACrB5yC,MAAM,EAAE,EAAE;AACV68B,UAAAA,MAAM,EAAEqP,cAAc;UACtBvlC,WAAW,EAAEvD,KAAK,CAACwvC,eAAe;AACpC,SAAC,CAAC;AAEF,QAAA,IAAI,CAACN,KAAK,CAAC,aAAa,EAAE;AAAEtG,UAAAA;AAAS,SAAC,CAAC;AAEvC,QAAA,OAAO0G,OAAO,CAAC;AAAE1G,UAAAA;AAAS,SAAC,CAAC;OAC7B,CAAC,OAAO9wC,KAAK,EAAE;AACd,QAAA,IAAI,CAACo3C,KAAK,CAAC,aAAa,EAAE;UACxBp3C,KAAK;AACL8wC,UAAAA,QAAQ,EAAE9wC,KAAK,CAAC8wC,QAAQ,IAAI;AAC9B,SAAC,CAAC;QAEF,OAAO2G,MAAM,CAACz3C,KAAK,CAAC;AACtB;AACF,KAAC,CAAC;AACJ;;AAEA;AACF;AACA;AACA;AACA;AACEy1C,EAAAA,MAAMA,GAAG;IACP,MAAM;AAAEpjC,MAAAA;AAAW,KAAC,GAAG,IAAI,CAAC3G,SAAS,EAAE;AAEvC,IAAA,IAAI2G,UAAU,CAACC,QAAQ,IAAID,UAAU,CAACtN,QAAQ,EAAE;AAC9C,MAAA,MAAM,IAAIlF,KAAK,CAAC,mBAAmB,CAAC;AACtC;AAEA,IAAA,IAAI,CAACu3C,KAAK,CAAC,WAAW,CAAC;AAEvB,IAAA,MAAMr3C,IAAI,GAAG,IAAI,CAAC43C,cAAc,EAAE;AAElC,IAAA,MAAM7yC,MAAM,GAAG,IAAI,CAACuW,QAAQ,EAAE;IAE9B,MAAM6hB,KAAK,GAAG,IAAI,CAACx5B,GAAG,CAAC,cAAc,CAAC,CAAC8yC,WAAW,EAAE;AAEpD,IAAA,MAAM93C,MAAM,GAAG;MACbqB,IAAI;MACJ+E,MAAM;AACNo4B,MAAAA;KACD;AAED,IAAA,IAAI,CAACka,KAAK,CAAC,QAAQ,EAAE14C,MAAM,CAAC;AAE5B,IAAA,OAAOA,MAAM;AACf;AAEA+mC,EAAAA,KAAKA,GAAG;AACN,IAAA,IAAI,CAAC2R,KAAK,CAAC,OAAO,CAAC;IAEnB,IAAI,CAACrN,SAAS,CAAC;MACbhqC,IAAI,EAAEmI,KAAK,CAAC,IAAI,CAAC+uC,MAAM,CAACxrC,WAAW,CAAC;AACpC3G,MAAAA,MAAM,EAAE;AACV,KAAC,CAAC;AACJ;;AAEA;AACF;AACA;AACEuW,EAAAA,QAAQA,GAAG;AACT,IAAA,MAAM4E,iBAAiB,GAAG,IAAI,CAACvc,GAAG,CAAC,mBAAmB,CAAC;AACrDyZ,MAAAA,yBAAyB,GAAG,IAAI,CAACzZ,GAAG,CAAC,2BAA2B,CAAC;AACjE+lC,MAAAA,SAAS,GAAG,IAAI,CAAC/lC,GAAG,CAAC,WAAW,CAAC;IAEnC,MAAM;AAAE3D,MAAAA;AAAK,KAAC,GAAG,IAAI,CAAC2L,SAAS,EAAE;IACjC,MAAM5G,MAAM,GAAG,EAAE;IAEjB,MAAM8yC,YAAY,GAAGA,CAAC/xC,EAAE,EAAEE,OAAO,KAAK,CAACF,EAAE,EAAE,GAAGhK,MAAM,CAAC4H,MAAM,CAACsC,OAAO,IAAI,EAAE,CAAC,CAAC;IAE3EoX,yBAAyB,CAAC83B,WAAW,EAAE,CAACjvC,OAAO,CAAEoY,aAAa,IAAK;MACjE,MAAM;QAAEvY,EAAE;QAAE+X,SAAS;AAAE7X,QAAAA;AAAQ,OAAC,GAAGqY,aAAa;AAEhD,MAAA,MAAM7a,KAAK,GAAG0c,iBAAiB,CAACvc,GAAG,CAACmC,EAAE,CAAC;;AAEvC;MACA,IAAItC,KAAK,CAACwB,QAAQ,EAAE;AAClB,QAAA;AACF;;AAEA;AACA,MAAA,MAAMvF,KAAK,GAAGkE,WAAG,CAAC3D,IAAI,EAAE6d,SAAS,CAAC;MAClC,MAAMgB,WAAW,GAAG6qB,SAAS,CAACQ,qBAAqB,CAAC7rB,aAAa,EAAE5e,KAAK,CAAC;MAEzE,IAAIof,WAAW,CAAC7iB,MAAM,EAAE;AACtBwuB,QAAAA,WAAG,CAACzlB,MAAM,EAAE8yC,YAAY,CAACr0C,KAAK,CAACsC,EAAE,EAAEE,OAAO,CAAC,EAAE6Y,WAAW,CAAC;AAC3D;AACF,KAAC,CAAC;IAEF,IAAI,CAACmrB,SAAS,CAAC;AAAEjlC,MAAAA;AAAO,KAAC,CAAC;;AAE1B;AACA,IAAA,OAAOA,MAAM;AACf;;AAEA;AACF;AACA;EACEqyC,QAAQA,CAACU,UAAU,EAAE;IACnB,IAAI,CAACA,UAAU,EAAE;AACf,MAAA,MAAM,IAAIh4C,KAAK,CAAC,qBAAqB,CAAC;AACxC;IAEA,IAAI,CAACi4C,MAAM,EAAE;AAEb,IAAA,IAAIr4C,gBAAQ,CAACo4C,UAAU,CAAC,EAAE;AACxBA,MAAAA,UAAU,GAAGnzC,QAAQ,CAAC4P,aAAa,CAACujC,UAAU,CAAC;AACjD;AAEA,IAAA,MAAMpzC,SAAS,GAAG,IAAI,CAACsyC,UAAU;AAEjCc,IAAAA,UAAU,CAACE,WAAW,CAACtzC,SAAS,CAAC;AAEjC,IAAA,IAAI,CAAC2yC,KAAK,CAAC,QAAQ,CAAC;AACtB;AAEAU,EAAAA,MAAMA,GAAG;IACP,IAAI,CAACR,OAAO,EAAE;AAChB;;AAEA;AACF;AACA;AACA;AACA;AACEA,EAAAA,OAAOA,CAAC/P,IAAI,GAAG,IAAI,EAAE;AACnB,IAAA,MAAM9iC,SAAS,GAAG,IAAI,CAACsyC,UAAU;MAC/Bc,UAAU,GAAGpzC,SAAS,CAACozC,UAAU;IAEnC,IAAI,CAACA,UAAU,EAAE;AACf,MAAA;AACF;AAEA,IAAA,IAAItQ,IAAI,EAAE;AACR,MAAA,IAAI,CAAC6P,KAAK,CAAC,QAAQ,CAAC;AACtB;AAEAS,IAAAA,UAAU,CAACG,WAAW,CAACvzC,SAAS,CAAC;AACnC;;AAEA;AACF;AACA;AACA;AACEwzC,EAAAA,WAAWA,CAACh0C,QAAQ,EAAEzE,KAAK,EAAE;AAC3B,IAAA,MAAM6S,UAAU,GAAGkY,WAAG,CAAC,IAAI,CAAC7e,SAAS,EAAE,CAAC2G,UAAU,EAAE,CAACpO,QAAQ,CAAC,EAAEzE,KAAK,CAAC;IAEtE,IAAI,CAACuqC,SAAS,CAAC;AAAE13B,MAAAA;AAAW,KAAC,CAAC;AAChC;;AAEA;AACF;AACA;AACA;AACEmM,EAAAA,GAAGA,CAAClgB,IAAI,EAAE8oC,OAAO,EAAE;IACjB,IAAI,CAAC1jC,GAAG,CAAC,UAAU,CAAC,CAAC8a,GAAG,CAAClgB,IAAI,EAAE8oC,OAAO,CAAC;AACzC;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACE4P,EAAAA,eAAeA,CAACl8C,OAAO,EAAE2J,SAAS,EAAE;IAClC,MAAM;AAAEyzC,MAAAA,OAAO,GAAG,IAAI,CAACC,WAAW,EAAE;AAAEC,MAAAA,iBAAiB,GAAG,EAAE;MAAE,GAAGvlC;AAAO,KAAC,GAAG/X,OAAO;AAEnF,IAAA,MAAMu9C,cAAc,GAAG;AACrB,MAAA,GAAGxlC,MAAM;AACT6jC,MAAAA,QAAQ,EAAE;AACRjyC,QAAAA;AACF;KACD;IAED,OAAOP,cAAc,CAAC,CACpB;AAAE2O,MAAAA,MAAM,EAAE,CAAC,OAAO,EAAEwlC,cAAc;AAAE,KAAC,EACrC;AAAEh7B,MAAAA,IAAI,EAAE,CAAC,OAAO,EAAE,IAAI;KAAG,EACzBs5B,UAAU,EACV,GAAGuB,OAAO,EACV,GAAGE,iBAAiB,CACrB,CAAC;AACJ;;AAEA;AACF;AACA;AACEhB,EAAAA,KAAKA,CAAC94C,IAAI,EAAEyB,IAAI,EAAE;IAChB,IAAI,CAAC2D,GAAG,CAAC,UAAU,CAAC,CAACzD,IAAI,CAAC3B,IAAI,EAAEyB,IAAI,CAAC;AACvC;;AAEA;AACF;AACA;AACA;AACA;EACEy1C,OAAOA,CAAC72B,MAAM,EAAE;IACd,MAAM;MAAEP,aAAa;AAAE5e,MAAAA;AAAM,KAAC,GAAGmf,MAAM;IAEvC,MAAM;MAAE9Y,EAAE;MAAE+X,SAAS;AAAE7X,MAAAA;AAAQ,KAAC,GAAGqY,aAAa;IAEhD,MAAM;MAAEre,IAAI;AAAE+E,MAAAA;AAAO,KAAC,GAAG,IAAI,CAAC4G,SAAS,EAAE;AAEzC,IAAA,MAAM+9B,SAAS,GAAG,IAAI,CAAC/lC,GAAG,CAAC,WAAW,CAAC;IAEvC,MAAMkb,WAAW,GAAG6qB,SAAS,CAACQ,qBAAqB,CAAC7rB,aAAa,EAAE5e,KAAK,CAAC;AAEzE+qB,IAAAA,WAAG,CAACxqB,IAAI,EAAE6d,SAAS,EAAEpe,KAAK,CAAC;IAE3B+qB,WAAG,CAACzlB,MAAM,EAAE,CAACe,EAAE,EAAE,GAAGhK,MAAM,CAAC4H,MAAM,CAACsC,OAAO,IAAI,EAAE,CAAC,CAAC,EAAE6Y,WAAW,CAAC7iB,MAAM,GAAG6iB,WAAW,GAAGjb,SAAS,CAAC;AAEhG,IAAA,IAAI,CAACyzC,KAAK,CAAC,eAAe,EAAEz4B,MAAM,CAAC;IAEnC,IAAI,CAACorB,SAAS,CAAC;AACbhqC,MAAAA,IAAI,EAAEmI,KAAK,CAACnI,IAAI,CAAC;MACjB+E,MAAM,EAAEoD,KAAK,CAACpD,MAAM;AACtB,KAAC,CAAC;AACJ;;AAEA;AACF;AACA;AACE4G,EAAAA,SAASA,GAAG;IACV,OAAO,IAAI,CAACurC,MAAM;AACpB;;AAEA;AACF;AACA;EACElN,SAASA,CAACiC,KAAK,EAAE;IACf,IAAI,CAACiL,MAAM,GAAG;MACZ,GAAG,IAAI,CAACA,MAAM;MACd,GAAGjL;KACJ;IAED,IAAI,CAACoL,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC1rC,SAAS,EAAE,CAAC;AACzC;;AAEA;AACF;AACA;AACEysC,EAAAA,WAAWA,GAAG;IACZ,OAAO,CACL9S,wBAAwB,EACxBO,qBAAqB,EACrBK,sBAAsB,EACtBsE,oBAAoB,EACpBoC,kBAAkB,CACnB;AACH;;AAEA;AACF;AACA;AACEmK,EAAAA,QAAQA,CAACx4C,IAAI,EAAE4uC,QAAQ,EAAE9F,OAAO,EAAE;AAChC,IAAA,IAAI,CAAC1jC,GAAG,CAAC,UAAU,CAAC,CAAC6a,EAAE,CAACjgB,IAAI,EAAE4uC,QAAQ,EAAE9F,OAAO,CAAC;AAClD;;AAEA;AACF;AACA;AACEuQ,EAAAA,cAAcA,GAAG;AACf,IAAA,MAAM13B,iBAAiB,GAAG,IAAI,CAACvc,GAAG,CAAC,mBAAmB,CAAC;AACvD,IAAA,MAAMyZ,yBAAyB,GAAG,IAAI,CAACzZ,GAAG,CAAC,2BAA2B,CAAC;IACvE,MAAMgG,QAAQ,GAAG,IAAI,CAACgC,SAAS,EAAE,CAAC3L,IAAI;IAEtC,MAAMu4C,UAAU,GAAG,EAAE;IAErBn7B,yBAAyB,CAAC83B,WAAW,EAAE,CAACjvC,OAAO,CAAEuyC,iBAAiB,IAAK;MACrE,MAAM;QAAE1yC,EAAE;AAAE+X,QAAAA;AAAU,OAAC,GAAG26B,iBAAiB;MAC3C,MAAM;AAAExzC,QAAAA;AAAS,OAAC,GAAGkb,iBAAiB,CAACvc,GAAG,CAACmC,EAAE,CAAC;AAE9C,MAAA,IAAId,QAAQ,EAAE;AACZ,QAAA;AACF;AAEA,MAAA,MAAMvF,KAAK,GAAGkE,WAAG,CAACgG,QAAQ,EAAEkU,SAAS,CAAC;AACtC2M,MAAAA,WAAG,CAAC+tB,UAAU,EAAE16B,SAAS,EAAEpe,KAAK,CAAC;AACnC,KAAC,CAAC;AAEF,IAAA,OAAO84C,UAAU;AACnB;;AAEA;AACF;AACA;AACEnM,EAAAA,wBAAwBA,CAACpsC,IAAI,EAAEjF,OAAO,GAAG,EAAE,EAAE;AAC3C,IAAA,MAAMmlB,iBAAiB,GAAG,IAAI,CAACvc,GAAG,CAAC,mBAAmB,CAAC;AACvD,IAAA,MAAMuZ,UAAU,GAAG,IAAI,CAACvZ,GAAG,CAAC,YAAY,CAAC;AACzC,IAAA,MAAM0Z,YAAY,GAAG,IAAI,CAAC1Z,GAAG,CAAC,cAAc,CAAC;AAE7C,IAAA,SAAS80C,8BAA8BA,CAACd,eAAe,EAAEvyC,SAAS,EAAEY,OAAO,EAAE;MAC3E,MAAM;QAAEyM,YAAY;QAAElU,IAAI;AAAE2gB,QAAAA;AAAY,OAAC,GAAG9Z,SAAS;MACrD,MAAM;AAAE0N,QAAAA,MAAM,EAAE6K;AAAY,OAAC,GAAGT,UAAU,CAACvZ,GAAG,CAACpF,IAAI,CAAC;AAEpD,MAAA,MAAMsf,SAAS,GAAGR,YAAY,CAACS,YAAY,CAAC1Y,SAAS,EAAE;AAAEY,QAAAA;AAAQ,OAAC,CAAC;AACnE,MAAA,IAAI0yC,SAAS,GAAG/0C,WAAG,CAAC3D,IAAI,EAAE6d,SAAS,CAAC;;AAEpC;MACA,IAAIF,WAAW,CAAClD,KAAK,EAAE;AACrB;QACA,IAAI,CAACk+B,mBAAW,CAACD,SAAS,CAAC,IAAI/6B,WAAW,CAAC/B,aAAa,EAAE;AACxD88B,UAAAA,SAAS,GAAG/6B,WAAW,CAAC/B,aAAa,CAAC;YAAExW,SAAS;YAAEpF,IAAI;AAAEP,YAAAA,KAAK,EAAEi5C;AAAU,WAAC,CAAC;AAC9E;;AAEA;QACA,MAAME,qBAAqB,GAAG,CAACD,mBAAW,CAACD,SAAS,CAAC,GACjDA,SAAS,GACT,CAACC,mBAAW,CAAClmC,YAAY,CAAC,GACxBA,YAAY,GACZkL,WAAW,CAAChC,UAAU;AAC5B6O,QAAAA,WAAG,CAACmtB,eAAe,EAAE95B,SAAS,EAAE+6B,qBAAqB,CAAC;AACxD;;AAEA;MACA,IAAI,CAAC18C,KAAK,CAAC8P,OAAO,CAAC5G,SAAS,CAACqD,UAAU,CAAC,EAAE;AACxC,QAAA;AACF;AAEA,MAAA,IAAIkV,WAAW,CAAC8W,UAAU,IAAIvV,WAAW,EAAE;AACzC;QACA,IAAI,CAACw5B,SAAS,IAAI,CAACx8C,KAAK,CAAC8P,OAAO,CAAC0sC,SAAS,CAAC,EAAE;AAC3CA,UAAAA,SAAS,GACP,IAAIx8C,KAAK,CAACy8C,mBAAW,CAACvzC,SAAS,CAACuvB,kBAAkB,CAAC,GAAG,CAAC,GAAGvvB,SAAS,CAACuvB,kBAAkB,CAAC,CACpFqM,IAAI,EAAE,CACNrjC,GAAG,CAAEgL,CAAC,KAAM,EAAE,CAAC,CAAC,IAAI,EAAE;AAC7B;;AAEA;AACA+vC,QAAAA,SAAS,GAAGA,SAAS,CAAC/6C,GAAG,CAAEk7C,GAAG,IAAMluC,gBAAQ,CAACkuC,GAAG,CAAC,GAAGA,GAAG,GAAG,EAAG,CAAC;;AAE9D;AACAruB,QAAAA,WAAG,CAACmtB,eAAe,EAAE95B,SAAS,EAAE66B,SAAS,CAAC;;AAE1C;QACA,IAAI,CAACC,mBAAW,CAAC3yC,OAAO,CAACZ,SAAS,CAACU,EAAE,CAAC,CAAC,EAAE;AACvCV,UAAAA,SAAS,CAACqD,UAAU,CAACxC,OAAO,CAAEyC,SAAS,IACrC+vC,8BAA8B,CAACd,eAAe,EAAEjvC,SAAS,EAAE;YAAE,GAAG1C;AAAQ,WAAC,CAC3E,CAAC;AAED,UAAA;AACF;;AAEA;AACA0yC,QAAAA,SAAS,CAACzyC,OAAO,CAAC,CAAC0C,CAAC,EAAE7L,KAAK,KAAK;AAC9BsI,UAAAA,SAAS,CAACqD,UAAU,CAACxC,OAAO,CAAEyC,SAAS,IACrC+vC,8BAA8B,CAACd,eAAe,EAAEjvC,SAAS,EAAE;AAAE,YAAA,GAAG1C,OAAO;YAAE,CAACZ,SAAS,CAACU,EAAE,GAAGhJ;AAAM,WAAC,CAClG,CAAC;AACH,SAAC,CAAC;AAEF,QAAA;AACF;;AAEA;AACAsI,MAAAA,SAAS,CAACqD,UAAU,CAACxC,OAAO,CAAEyC,SAAS,IAAK+vC,8BAA8B,CAACd,eAAe,EAAEjvC,SAAS,EAAE1C,OAAO,CAAC,CAAC;AAClH;;AAEA;IACA,MAAMtB,SAAS,GAAG3J,OAAO,CAAC2J,SAAS,IAAIwb,iBAAiB,CAAC6kB,OAAO,EAAE;AAClE,IAAA,MAAM/+B,OAAO,GAAGjL,OAAO,CAACiL,OAAO,IAAI,EAAE;AACrC,IAAA,MAAM8yC,QAAQ,GAAGz7B,YAAY,CAACS,YAAY,CAACpZ,SAAS,EAAE;AAAEsB,MAAAA;KAAS,CAAC,IAAI,EAAE;;AAExE;IACA,MAAMwB,IAAI,GAAG,CAACmxC,mBAAW,CAAC3yC,OAAO,CAACtB,SAAS,CAACoB,EAAE,CAAC,CAAC,GAAG,CAAC,GAAGgzC,QAAQ,EAAE9yC,OAAO,CAACtB,SAAS,CAACoB,EAAE,CAAC,CAAC,GAAGgzC,QAAQ;AAElG,IAAA,MAAMlV,WAAW,GAAGz7B,KAAK,CAACnI,IAAI,CAAC;AAC/By4C,IAAAA,8BAA8B,CAAC7U,WAAW,EAAEl/B,SAAS,EAAEsB,OAAO,CAAC;IAC/D,OAAOrC,WAAG,CAACigC,WAAW,EAAEp8B,IAAI,EAAE,EAAE,CAAC;AACnC;AACF;;AClfMuxC,MAAAA,aAAa,GAAG;;AAItB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,UAAUA,CAACj+C,OAAO,EAAE;EAClC,MAAM;IAAEiF,IAAI;IAAE4hC,MAAM;IAAE,GAAGqX;AAAY,GAAC,GAAGl+C,OAAO;AAEhD,EAAA,MAAMuiB,IAAI,GAAG,IAAIw5B,IAAI,CAACmC,WAAW,CAAC;EAElC,OAAO37B,IAAI,CAACwzB,YAAY,CAAClP,MAAM,EAAE5hC,IAAI,CAAC,CAACk5C,IAAI,CAAC,YAAY;AACtD,IAAA,OAAO57B,IAAI;AACb,GAAC,CAAC;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","x_google_ignoreList":[123,124,135]}
