{"version":3,"file":"index.esm.js","sources":["../src/context/DmnPropertiesPanelContext.js","../node_modules/dmn-js-shared/lib/util/ModelUtil.js","../node_modules/dmn-js-drd/lib/features/label-editing/LabelUtil.js","../src/icons/dmn-icon-association.svg","../src/icons/dmn-icon-authority-requirement.svg","../src/icons/dmn-icon-business-knowledge.svg","../src/icons/dmn-icon-decision.svg","../src/icons/dmn-icon-drd.svg","../src/icons/dmn-icon-information-requirement.svg","../src/icons/dmn-icon-input-data.svg","../src/icons/dmn-icon-knowledge-requirement.svg","../src/icons/dmn-icon-knowledge-source.svg","../src/icons/dmn-icon-text-annotation.svg","../src/icons/index.js","../src/render/PanelHeaderProvider.js","../src/render/PanelPlaceholderProvider.js","../src/render/DmnPropertiesPanel.js","../src/render/DmnPropertiesPanelRenderer.js","../src/cmd/MultiCommandHandler.js","../src/cmd/index.js","../src/render/index.js","../src/hooks/useService.js","../src/provider/dmn/properties/DocumentationProps.js","../src/provider/utils/ValidationUtil.js","../src/provider/dmn/properties/IdProps.js","../src/provider/dmn/properties/NameProps.js","../src/provider/dmn/DmnPropertiesProvider.js","../src/provider/dmn/index.js","../src/provider/camunda/properties/VersionTagProps.js","../src/provider/camunda/properties/HistoryCleanupProps.js","../src/provider/camunda/properties/IdProps.js","../src/provider/camunda/CamundaPropertiesProvider.js","../src/provider/camunda/index.js","../src/provider/utils/ElementUtil.js","../src/provider/utils/ExtensionElementsUtil.js","../src/provider/zeebe/properties/VersionTagProps.js","../src/provider/zeebe/ZeebePropertiesProvider.js","../src/provider/zeebe/index.js","../src/contextProvider/zeebe/TooltipProvider.js"],"sourcesContent":["import {\n  createContext\n} from '@bpmn-io/properties-panel/preact';\n\nconst DmnPropertiesPanelContext = createContext({\n  selectedElement: null,\n  injector: null,\n  getService: () => null\n});\n\nexport default DmnPropertiesPanelContext;","import { some } from 'min-dash';\n\n/**\n * Is an element of the given DMN type?\n *\n * @param  {tjs.model.Base|ModdleElement} element\n * @param  {string} type\n *\n * @return {boolean}\n */\nexport function is(element, type) {\n  var bo = getBusinessObject(element);\n  return bo && typeof bo.$instanceOf === 'function' && bo.$instanceOf(type);\n}\nexport function isInput(element) {\n  return is(element, 'dmn:InputClause');\n}\nexport function isOutput(element) {\n  return is(element, 'dmn:OutputClause');\n}\nexport function isRule(element) {\n  return is(element, 'dmn:DecisionRule');\n}\n\n/**\n * Return the business object for a given element.\n *\n * @param  {tjs.model.Base|ModdleElement} element\n *\n * @return {ModdleElement}\n */\nexport function getBusinessObject(element) {\n  return element && element.businessObject || element;\n}\nexport function getName(element) {\n  return getBusinessObject(element).name;\n}\n\n/**\n * Return true if element has any of the given types.\n *\n * @param {djs.model.Base} element\n * @param {Array<string>} types\n *\n * @return {boolean}\n */\nexport function isAny(element, types) {\n  return some(types, function (t) {\n    return is(element, t);\n  });\n}\n\n/**\n * Return main boxed expression of a given decision or BKM.\n *\n * @param {ModdleElement} decisionOrBkm - the decision or business knowledge model\n * @returns {ModdleElement|undefined}\n */\nexport function getBoxedExpression(decisionOrBkm) {\n  var bo = getBusinessObject(decisionOrBkm);\n  if (is(bo, 'dmn:Decision')) {\n    return bo.get('decisionLogic');\n  } else if (is(bo, 'dmn:BusinessKnowledgeModel')) {\n    var encapsulatedLogic = bo.get('encapsulatedLogic');\n    return encapsulatedLogic && encapsulatedLogic.get('body');\n  }\n}\nconst FEEL_NAMESPACE = 'https://www.omg.org/spec/DMN/20191111/FEEL/';\n\n/**\n * Return `true` if the expression language for a given element is FEEL.\n *\n * @param {ModdleElement} element\n * @returns {string}\n */\nexport function isFeel(element) {\n  for (let current = element; current; current = current.$parent) {\n    const expressionLanguage = current.get('expressionLanguage');\n    if (expressionLanguage) {\n      if (expressionLanguage === FEEL_NAMESPACE || /feel/i.test(expressionLanguage)) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n    if (is(current, 'dmn:FunctionDefinition')) {\n      // TODO(@barmac): remove fallback when moddle assures the default value\n      const kind = current.get('kind') || 'FEEL';\n      return kind === 'FEEL';\n    }\n  }\n  return true;\n}\n//# sourceMappingURL=ModelUtil.js.map","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\nfunction getLabelAttr(semantic) {\n  if (is(semantic, 'dmn:Decision') || is(semantic, 'dmn:BusinessKnowledgeModel') || is(semantic, 'dmn:InputData') || is(semantic, 'dmn:KnowledgeSource')) {\n    return 'name';\n  }\n  if (is(semantic, 'dmn:TextAnnotation')) {\n    return 'text';\n  }\n}\nexport function getLabel(element) {\n  var semantic = element.businessObject,\n    attr = getLabelAttr(semantic);\n  if (attr) {\n    return semantic[attr] || '';\n  }\n}\nexport function setLabel(element, text, isExternal) {\n  var semantic = element.businessObject,\n    attr = getLabelAttr(semantic);\n  if (attr) {\n    semantic[attr] = text;\n  }\n\n  // show external label if not empty\n  if (isExternal) {\n    element.hidden = !text;\n  }\n  return element;\n}\n//# sourceMappingURL=LabelUtil.js.map","<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><line x1=\"1.5\" y1=\"30.5\" x2=\"30.5\" y2=\"1.5\" stroke=\"#000\" stroke-width=\"2\" fill=\"none\" stroke-dasharray=\"3.3,6\" stroke-linecap=\"square\"/></svg>\n","<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.36396103,24.2345238 L7.77817459,25.6487373 L1.41421356,32.0126984 L2.66453526e-15,30.5984848 L6.36396103,24.2345238 Z M14.363961,16.2345238 L15.7781746,17.6487373 L9.41421356,24.0126984 L8,22.5984848 L14.363961,16.2345238 Z M22.363961,8.23452378 L23.7781746,9.64873734 L17.4142136,16.0126984 L16,14.5984848 L22.363961,8.23452378 Z M28,0 C30.209139,0 32,1.790861 32,4 C32,6.209139 30.209139,8 28,8 C25.790861,8 24,6.209139 24,4 C24,1.790861 25.790861,0 28,0 Z\" fill-rule=\"evenodd\"/></svg>","<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.25818865,8 L0,15.3581691 L0.00108688628,15.6826968 L0.0285783971,23.9415008 L26.0056978,23.9415008 L32,16.5181511 L32,8 L6.25818865,8 Z M7.06989173,9.75594092 L30.2440601,9.75594092 L30.2440601,15.8977061 L25.1666642,22.1855592 L1.77870125,22.1855592 L1.75811461,16.0013748 L7.06989173,9.75594092 Z\"/></svg>","<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0,6 L0,6.8482917 L0,26.7110009 L32,26.7110009 L32,6 L0,6 Z M1.69655118,7.69655116 L30.3034497,7.69655116 L30.3034497,25.0144505 L1.69655118,25.0144505 L1.69655118,7.69655116 Z\" fill-rule=\"evenodd\"/></svg>","<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3.56334224,0 C1.60069868,0 0.00945540903,1.59003971 0.00878003883,3.55187807 L0,28.4456347 C-0.000692916787,30.4083791 1.59094136,32 3.5545802,32 L28.4367111,32 C30.3993724,32 31.9905801,30.4099781 31.991291,28.4481219 L32,3.55436526 C32.0007107,1.59154979 30.4089698,0 28.4454198,0 L3.56334224,0 Z M14,14 L29,14.0161779 L29,20 L14,19.9838221 L14,14 Z M14,3 L29,3.02157052 L29,11 L14,10.9784295 L14,3 Z M11,19.992 L3,20 L3,14.0082 L11,14 L11,19.992 Z M11,10.9893333 L3,11 L3,3.01093333 L11,3 L11,10.9893333 Z M3,23.0079782 L11,23 L11,28.9916229 L3,29 L3,23.0079782 Z M14,28.9918446 L14,23 L29,23.0161119 L29,29 L14,28.9918446 Z\"/></svg>","<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M32,0.0604174968 C32,0.0604174968 20.3308185,6.01454865 14.4032705,8.79867568 C15.6730764,9.95826268 16.8541675,11.2089579 18.0794556,12.4144422 C12.0529976,18.5213173 6.02645794,24.6280748 0,30.7349479 C0.441940276,31.1567043 0.883529352,31.5782435 1.32546963,32 C7.35192757,25.8931249 13.3784672,19.7869913 19.4049252,13.6801162 C20.6324835,14.9033425 21.8531035,16.1334608 23.0811102,17.3563012 C26.2471868,11.1209904 32,0.0604174968 32,0.0604174968 Z\"/></svg>","<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.38379615,8 C4.5587519,8 2.92629499,8.94509149 1.79653993,10.3821464 C0.666784671,11.8192013 0,13.7557587 0,15.8804128 C0,18.0050663 0.666784671,19.9416237 1.79653993,21.3786796 C2.92629499,22.8157339 4.5587519,23.7608265 6.38379615,23.7608265 L25.6162042,23.7608265 C27.4412486,23.7608265 29.073706,22.8157339 30.2034611,21.3786796 C31.3332161,19.9416237 32,18.0050663 32,15.8804128 C32,13.7557587 31.3332161,11.8192013 30.2034611,10.3821464 C29.073706,8.94509149 27.4412486,8 25.6162042,8 L6.38379615,8 Z M6.38379615,9.76335549 L25.6162042,9.76335549 C26.8393372,9.76335549 27.9579329,10.3789743 28.8171955,11.4719612 C29.676458,12.5649481 30.236645,14.1277691 30.236645,15.8804128 C30.236645,17.6330563 29.676458,19.1958771 28.8171955,20.2888642 C27.9579329,21.3818513 26.8393372,21.9974699 25.6162042,21.9974699 L6.38379615,21.9974699 C5.16066393,21.9974699 4.04206728,21.3818513 3.18280472,20.2888642 C2.32354217,19.1958771 1.76335536,17.6330563 1.76335536,15.8804128 C1.76335536,14.1277691 2.32354217,12.5649481 3.18280472,11.4719612 C4.04206728,10.3789743 5.16066393,9.76335549 6.38379615,9.76335549 Z\"/></svg>","<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.36396103,24.2345238 L7.77817459,25.6487373 L1.41421356,32.0126984 L2.66453526e-15,30.5984848 L6.36396103,24.2345238 Z M14.363961,16.2345238 L15.7781746,17.6487373 L9.41421356,24.0126984 L8,22.5984848 L14.363961,16.2345238 Z M22.363961,8.23452378 L23.7781746,9.64873734 L17.4142136,16.0126984 L16,14.5984848 L22.363961,8.23452378 Z M32,12.0604175 L30,12.0604175 L30,3.4264175 L25.4142136,8.01269837 L24,6.59848481 L28.537,2.0604175 L20,2.0604175 L20,0.0604174968 L32,0.0604174968 L32,12.0604175 Z\" fill-rule=\"evenodd\"/></svg>","<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0,5 L0,5.77826471 L0,23.3764723 L0.348367626,23.6067617 C5.16004176,26.7876331 9.29422266,26.4713674 12.7579945,25.2360367 C16.2217669,24.0007044 19.1237821,21.9973307 21.7567539,21.6472027 L21.7775943,21.644445 L21.7982721,21.6405333 C25.3737756,20.9664623 27.4794829,22.079786 30.9236377,23.5200714 L32,23.9701973 L32,11.3717998 L32,5.06530698 L0,5 Z M1.5534196,6.55656159 L30.4465799,6.61552044 L30.4465799,11.3717998 L30.4465799,21.6328709 C27.5560699,20.4124301 25.0892923,19.4446606 21.5291253,20.1108065 C18.3303912,20.5442877 15.4288583,22.6342516 12.2361805,23.7728985 C9.12007952,24.884236 5.82916582,25.2309251 1.5534196,22.5349201 L1.5534196,6.55656159 Z\"/></svg>","<svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M22.0872067,0 L22.0872067,0.894012542 L22.0872067,15.823025 L22.0872067,30.7525922 L22.0872067,31.6466029 L22.9812174,31.6466029 L31.1065405,31.6466029 L32,31.6466029 L32,29.8591326 L31.1065405,29.8591326 L23.8746769,29.8591326 L23.8746769,15.823025 L23.8746769,1.78802508 L31.1065405,1.78802508 L32,1.78802508 L32,0 L31.1065405,0 L22.9812174,0 L22.0872067,0 L22.0872067,0 Z M19.163109,13.9989956 L16.4256802,16.1664498 L18.5931353,18.9038786 L21.3305623,16.7369783 L19.163109,13.9989956 Z M13.6876976,18.3339049 L10.9502689,20.5013582 L13.1177231,23.238787 L15.8551518,21.0713319 L13.6876976,18.3339049 Z M8.21284012,22.6688116 L5.47541139,24.8362666 L7.64286559,27.5736954 L10.3802943,25.4062421 L8.21284012,22.6688116 L8.21284012,22.6688116 Z M2.73742874,27.0037217 L-2.22044605e-15,29.171175 L2.1674542,31.9086038 L4.90488294,29.7411487 L2.73742874,27.0037217 Z\"/></svg>","import AssociationIcon from './dmn-icon-association.svg';\nimport AuthorityRequirementIcon from './dmn-icon-authority-requirement.svg';\nimport BusinessKnowledgeIcon from './dmn-icon-business-knowledge.svg';\nimport DecisionIcon from './dmn-icon-decision.svg';\nimport DRDIcon from './dmn-icon-drd.svg';\nimport InformationRequirementIcon from './dmn-icon-information-requirement.svg';\nimport InputDataIcon from './dmn-icon-input-data.svg';\nimport KnowledgeRequirementIcon from './dmn-icon-knowledge-requirement.svg';\nimport KnowledgeSourceIcon from './dmn-icon-knowledge-source.svg';\nimport TextAnnotationIcon from './dmn-icon-text-annotation.svg';\n\nexport default {\n  'Association': AssociationIcon,\n  'AuthorityRequirement': AuthorityRequirementIcon,\n  'BusinessKnowledgeModel': BusinessKnowledgeIcon,\n  'Decision': DecisionIcon,\n  'DecisionTable': DRDIcon,\n  'Definitions': DRDIcon,\n  'DRD': DRDIcon,\n  'InformationRequirement': InformationRequirementIcon,\n  'InputData': InputDataIcon,\n  'KnowledgeRequirement': KnowledgeRequirementIcon,\n  'KnowledgeSource': KnowledgeSourceIcon,\n  'TextAnnotation': TextAnnotationIcon\n};","import {\n  getLabel\n} from 'dmn-js-drd/lib/features/label-editing/LabelUtil';\n\nimport {\n  getBusinessObject,\n  is\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nimport iconsByType from '../icons';\n\nexport function getConcreteType(element) {\n  const {\n    type: elementType\n  } = element;\n\n  return getRawType(elementType);\n}\n\nexport const PanelHeaderProvider = {\n\n  getElementLabel: (element) => {\n\n    if (is(element, 'dmn:Definitions'))\n      return getBusinessObject(element).get('name');\n\n    return getLabel(element);\n  },\n\n  getElementIcon: (element) => {\n    const concreteType = getConcreteType(element);\n\n    return iconsByType[ concreteType ];\n  },\n\n  getTypeLabel: (element) => {\n    const concreteType = getConcreteType(element);\n\n    return concreteType\n      .replace(/(\\B[A-Z])/g, ' $1')\n      .replace(/(\\bNon Interrupting)/g, '($1)');\n  }\n};\n\n\n// helpers ///////////////////////\n\nfunction getRawType(type) {\n  return type.split(':')[1];\n}\n","export const PanelPlaceholderProvider = {\n\n  getEmpty: () => {\n    return {\n      text: 'Select an element to edit its properties.',\n\n      // todo(pinussilvestrus): add icon\n      icon: null\n    };\n  },\n\n  getMultiple: () => {\n    return {\n      text: 'Multiple elements are selected. Select a single element to edit its properties.',\n\n      // todo(pinussilvestrus): add icon\n      icon: null\n    };\n  },\n};","import {\n  useState,\n  useMemo,\n  useEffect\n} from '@bpmn-io/properties-panel/preact/hooks';\n\nimport {\n  find,\n  isArray,\n  reduce\n} from 'min-dash';\n\nimport { PropertiesPanel } from '@bpmn-io/properties-panel';\n\nimport {\n  DmnPropertiesPanelContext\n} from '../context';\n\nimport { PanelHeaderProvider } from './PanelHeaderProvider';\nimport { PanelPlaceholderProvider } from './PanelPlaceholderProvider';\n\n/**\n   * @param {Object} props\n   * @param {djs.model.Base|Array<djs.model.Base>} [props.element]\n   * @param {Injector} props.injector\n   * @param { (djs.model.Base) => Array<PropertiesProvider> } props.getProviders\n   * @param {Object} props.layoutConfig\n   * @param {Object} props.descriptionConfig\n   * @param {Object} props.tooltipConfig\n   */\nexport default function DmnPropertiesPanel(props) {\n  const {\n    element,\n    injector,\n    getProviders,\n    layoutConfig,\n    descriptionConfig,\n    tooltipConfig\n  } = props;\n\n  const canvas = injector.get('canvas');\n  const elementRegistry = injector.get('elementRegistry');\n  const eventBus = injector.get('eventBus');\n\n  const [ state, setState ] = useState({\n    selectedElement: element\n  });\n\n  const selectedElement = state.selectedElement;\n\n  /**\n   * @param {djs.model.Base | Array<djs.model.Base>} element\n   */\n  const _update = (element) => {\n\n    if (!element) {\n      return;\n    }\n\n    let newSelectedElement = element;\n\n    // handle labels\n    if (newSelectedElement && newSelectedElement.type === 'label') {\n      newSelectedElement = newSelectedElement.labelTarget;\n    }\n\n    setState({\n      ...state,\n      selectedElement: newSelectedElement\n    });\n\n    // notify interested parties on property panel updates\n    eventBus.fire('propertiesPanel.updated', {\n      element: newSelectedElement\n    });\n  };\n\n  // (2) react on element changes\n\n  // (2a) selection changed\n  useEffect(() => {\n    const onSelectionChanged = (e) => {\n      const { newSelection = [] } = e;\n\n      if (newSelection.length > 1) {\n        return _update(newSelection);\n      }\n\n      const newElement = newSelection[0];\n\n      const rootElement = canvas.getRootElement();\n\n      if (isImplicitRoot(rootElement)) {\n        return;\n      }\n\n      _update(newElement || rootElement);\n    };\n\n    eventBus.on('selection.changed', onSelectionChanged);\n\n    return () => {\n      eventBus.off('selection.changed', onSelectionChanged);\n    };\n  }, []);\n\n  // (2b) selected element changed\n  useEffect(() => {\n    const onElementsChanged = (e) => {\n      const elements = e.elements;\n\n      const updatedElement = findElement(elements, selectedElement);\n\n      if (updatedElement && elementExists(updatedElement, elementRegistry)) {\n        _update(updatedElement);\n      }\n    };\n\n    eventBus.on('elements.changed', onElementsChanged);\n\n    return () => {\n      eventBus.off('elements.changed', onElementsChanged);\n    };\n  }, [ selectedElement ]);\n\n  // (2c) root element changed\n  useEffect(() => {\n    const onRootAdded = (e) => {\n      const element = e.element;\n\n      if (isImplicitRoot(element)) {\n        return;\n      }\n\n      _update(element);\n    };\n\n    eventBus.on('root.added', onRootAdded);\n\n    return () => {\n      eventBus.off('root.added', onRootAdded);\n    };\n  }, [ selectedElement ]);\n\n  // (2d) provided entries changed\n  useEffect(() => {\n    const onProvidersChanged = () => {\n      _update(selectedElement);\n    };\n\n    eventBus.on('propertiesPanel.providersChanged', onProvidersChanged);\n\n    return () => {\n      eventBus.off('propertiesPanel.providersChanged', onProvidersChanged);\n    };\n  }, [ selectedElement ]);\n\n  // (3) create properties panel context\n  const dmnPropertiesPanelContext = {\n    selectedElement,\n    injector,\n    getService(type, strict) { return injector.get(type, strict); }\n  };\n\n  // (4) retrieve groups for selected element\n  const providers = getProviders(selectedElement);\n\n  const groups = useMemo(() => {\n    return reduce(providers, function(groups, provider) {\n\n      // do not collect groups for multi element state\n      if (isArray(selectedElement)) {\n        return [];\n      }\n      const updater = provider.getGroups(selectedElement);\n\n      return updater(groups);\n    }, []);\n  }, [ providers, selectedElement ]);\n\n  // (5) notify layout changes\n  const onLayoutChanged = (layout) => {\n    eventBus.fire('propertiesPanel.layoutChanged', {\n      layout\n    });\n  };\n\n  // (6) notify description changes\n  const onDescriptionLoaded = (description) => {\n    eventBus.fire('propertiesPanel.descriptionLoaded', {\n      description\n    });\n  };\n\n  // (7) notify tooltip changes\n  const onTooltipLoaded = (tooltip) => {\n    eventBus.fire('propertiesPanel.tooltipLoaded', {\n      tooltip\n    });\n  };\n\n  return <DmnPropertiesPanelContext.Provider value={ dmnPropertiesPanelContext }>\n    <PropertiesPanel\n      element={ selectedElement }\n      headerProvider={ PanelHeaderProvider }\n      placeholderProvider={ PanelPlaceholderProvider }\n      groups={ groups }\n      layoutConfig={ layoutConfig }\n      layoutChanged={ onLayoutChanged }\n      descriptionConfig={ descriptionConfig }\n      descriptionLoaded={ onDescriptionLoaded }\n      tooltipConfig={ tooltipConfig }\n      tooltipLoaded={ onTooltipLoaded }\n      eventBus={ eventBus }\n    />\n  </DmnPropertiesPanelContext.Provider>;\n}\n\n\n// helpers //////////////////////////\n\nfunction isImplicitRoot(element) {\n  return element && element.isImplicit;\n}\n\nfunction findElement(elements, element) {\n  return find(elements, (e) => e === element);\n}\n\nfunction elementExists(element, elementRegistry) {\n  return element && elementRegistry.get(element.id);\n}","import DmnPropertiesPanel from './DmnPropertiesPanel';\n\nimport {\n  isUndo,\n  isRedo\n} from 'diagram-js/lib/features/keyboard/KeyboardUtil';\n\nimport {\n  render\n} from '@bpmn-io/properties-panel/preact';\n\nimport {\n  domify,\n  query as domQuery,\n  event as domEvent\n} from 'min-dom';\n\nconst DEFAULT_PRIORITY = 1000;\n\n/**\n * @typedef { import('@bpmn-io/properties-panel').GroupDefinition } GroupDefinition\n * @typedef { import('@bpmn-io/properties-panel').ListGroupDefinition } ListGroupDefinition\n * @typedef { { getGroups: (ModdleElement) => (Array{GroupDefinition|ListGroupDefinition}) => Array{GroupDefinition|ListGroupDefinition}) } PropertiesProvider\n */\n\nexport default class DmnPropertiesPanelRenderer {\n\n  constructor(config, injector, eventBus, dmnjs) {\n    const {\n      parent,\n      layout: layoutConfig,\n      description: descriptionConfig,\n      tooltip: tooltipConfig\n    } = config || {};\n\n    this._eventBus = eventBus;\n    this._injector = injector;\n    this._layoutConfig = layoutConfig;\n    this._descriptionConfig = descriptionConfig;\n    this._tooltipConfig = tooltipConfig;\n\n    this._container = domify(\n      '<div style=\"height: 100%\" tabindex=\"-1\" class=\"bio-properties-panel-container\"></div>'\n    );\n\n    var commandStack = injector.get('commandStack', false);\n\n    commandStack && setupKeyboard(this._container, eventBus, commandStack);\n\n    eventBus.on('diagram.destroy', () => {\n      this.detach();\n    });\n\n    eventBus.on('import.done', (event) => {\n      const { element } = event;\n\n      if (parent) {\n        this.attachTo(parent);\n      }\n      this._render(element);\n    });\n\n    eventBus.on('detach', (event) => {\n      this.detach();\n    });\n\n    dmnjs.on('detach', () => {\n      this.detach();\n    });\n  }\n\n\n  /**\n   * Attach the properties panel to a parent node.\n   *\n   * @param {HTMLElement} container\n   */\n  attachTo(container) {\n    if (!container) {\n      throw new Error('container required');\n    }\n\n    // unwrap jQuery if provided\n    if (container.get && container.constructor.prototype.jquery) {\n      container = container.get(0);\n    }\n\n    if (typeof container === 'string') {\n      container = domQuery(container);\n    }\n\n    // (1) detach from old parent\n    this.detach();\n\n    // (2) append to parent container\n    container.appendChild(this._container);\n\n    // (3) notify interested parties\n    this._eventBus.fire('propertiesPanel.attach');\n  }\n\n  /**\n   * Detach the properties panel from its parent node.\n   */\n  detach() {\n    const parentNode = this._container.parentNode;\n\n    if (parentNode) {\n      parentNode.removeChild(this._container);\n\n      this._eventBus.fire('propertiesPanel.detach');\n    }\n  }\n\n  /**\n   * Register a new properties provider to the properties panel.\n   *\n   * @param {Number} [priority]\n   * @param {PropertiesProvider} provider\n   */\n  registerProvider(priority, provider) {\n\n    if (!provider) {\n      provider = priority;\n      priority = DEFAULT_PRIORITY;\n    }\n\n    if (typeof provider.getGroups !== 'function') {\n      console.error(\n        'Properties provider does not implement #getGroups(element) API'\n      );\n\n      return;\n    }\n\n    this._eventBus.on('propertiesPanel.getProviders', priority, function(event) {\n      event.providers.push(provider);\n    });\n\n    this._eventBus.fire('propertiesPanel.providersChanged');\n  }\n\n  _getProviders() {\n    const event = this._eventBus.createEvent({\n      type: 'propertiesPanel.getProviders',\n      providers: []\n    });\n\n    this._eventBus.fire(event);\n\n    return event.providers;\n  }\n\n  _render(element) {\n    const canvas = this._injector.get('canvas');\n\n    if (!element) {\n      element = canvas.getRootElement();\n    }\n\n    if (isImplicitRoot(element)) {\n      return;\n    }\n\n    render(\n      <DmnPropertiesPanel\n        element={ element }\n        injector={ this._injector }\n        getProviders={ this._getProviders.bind(this) }\n        layoutConfig={ this._layoutConfig }\n        descriptionConfig={ this._descriptionConfig }\n        tooltipConfig={ this._tooltipConfig }\n      />,\n      this._container\n    );\n\n    this._eventBus.fire('propertiesPanel.rendered');\n  }\n\n  _destroy() {\n    if (this._container) {\n      render(null, this._container);\n\n      this._eventBus.fire('propertiesPanel.destroyed');\n    }\n  }\n}\n\nDmnPropertiesPanelRenderer.$inject = [ 'config.propertiesPanel', 'injector', 'eventBus', '_parent' ];\n\n\n// helpers ///////////////////////\n\nfunction isImplicitRoot(element) {\n  return element && element.isImplicit;\n}\n\n\n/**\n * Setup keyboard bindings (undo, redo) on the given container.\n *\n * @param {Element} container\n * @param {EventBus} eventBus\n * @param {CommandStack} commandStack\n */\nfunction setupKeyboard(container, eventBus, commandStack) {\n\n  function cancel(event) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  function handleKeys(event) {\n\n    if (isUndo(event)) {\n      commandStack.undo();\n\n      return cancel(event);\n    }\n\n    if (isRedo(event)) {\n      commandStack.redo();\n\n      return cancel(event);\n    }\n  }\n\n  eventBus.on('keyboard.bind', function() {\n    domEvent.bind(container, 'keydown', handleKeys);\n  });\n\n  eventBus.on('keyboard.unbind', function() {\n    domEvent.unbind(container, 'keydown', handleKeys);\n  });\n}","import {\n  forEach\n} from 'min-dash';\n\n/**\n * A handler that combines and executes multiple commands.\n *\n * All updates are bundled on the command stack and executed in one step.\n * This also makes it possible to revert the changes in one step.\n */\nexport default class MultiCommandHandler {\n  constructor(commandStack) {\n    this._commandStack = commandStack;\n  }\n\n  preExecute(context) {\n    const commandStack = this._commandStack;\n\n    forEach(context, function(command) {\n      commandStack.execute(command.cmd, command.context);\n    });\n  }\n}\n\nMultiCommandHandler.$inject = [ 'commandStack' ];","import {\n  forEach\n} from 'min-dash';\n\nimport MultiCommandHandler from './MultiCommandHandler';\n\nconst HANDLERS = {\n  'properties-panel.multi-command-executor': MultiCommandHandler\n};\n\n\nfunction CommandInitializer(eventBus, commandStack) {\n\n  eventBus.on('diagram.init', function() {\n    forEach(HANDLERS, function(handler, id) {\n      commandStack.registerHandler(id, handler);\n    });\n  });\n}\n\nCommandInitializer.$inject = [ 'eventBus', 'commandStack' ];\n\nexport default {\n  __init__: [ CommandInitializer ]\n};","import {\n  DebounceInputModule,\n  FeelPopupModule\n} from '@bpmn-io/properties-panel';\n\nimport DmnPropertiesPanelRenderer from './DmnPropertiesPanelRenderer';\n\nimport Commands from '../cmd';\n\nexport default {\n  __depends__: [\n    Commands,\n    DebounceInputModule,\n    FeelPopupModule\n  ],\n  __init__: [\n    'propertiesPanel'\n  ],\n  propertiesPanel: [ 'type', DmnPropertiesPanelRenderer ]\n};","import {\n  useContext\n} from '@bpmn-io/properties-panel/preact/hooks';\n\nimport { DmnPropertiesPanelContext } from '../context';\n\n\nexport default function(type, strict) {\n  const {\n    getService\n  } = useContext(DmnPropertiesPanelContext);\n\n  return getService(type, strict);\n}","import {\n  TextAreaEntry,\n  isTextAreaEntryEdited\n} from '@bpmn-io/properties-panel';\n\nimport { getBusinessObject, is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport {\n  useService\n} from '../../../hooks';\n\n\n/**\n * @typedef { import('@bpmn-io/properties-panel').EntryDefinition } Entry\n */\n\n/**\n * @returns {Array<Entry>} entries\n */\nexport function DocumentationProps(props) {\n  const {\n    element\n  } = props;\n\n  if (!is(element, 'dmn:DMNElement')) {\n    return [];\n  }\n\n  const entries = [\n    {\n      id: 'description',\n      component: Description,\n      element,\n      isEdited: isTextAreaEntryEdited\n    }\n  ];\n\n  if (!is(element, 'dmn:Decision')) {\n    return entries;\n  }\n\n  return entries.concat([\n    {\n      id: 'question',\n      component: Question,\n      element,\n      isEdited: isTextAreaEntryEdited\n    },\n    {\n      id: 'allowedAnswers',\n      component: AllowedAnswers,\n      element,\n      isEdited: isTextAreaEntryEdited\n    }\n  ]);\n}\n\nfunction Description(props) {\n  const {\n    element,\n    id\n  } = props;\n\n  const modeling = useService('modeling');\n  const debounce = useService('debounceInput');\n  const translate = useService('translate');\n\n  let options = {\n    element,\n    id,\n    label: translate('Description'),\n    debounce,\n    getValue: (element) => {\n      return getBusinessObject(element).get('description');\n    },\n    setValue: (value) => {\n      modeling.updateProperties(element, {\n        description: value\n      });\n    }\n  };\n\n  return TextAreaEntry(options);\n}\n\nfunction Question(props) {\n  const {\n    element,\n    id\n  } = props;\n\n  const modeling = useService('modeling');\n  const debounce = useService('debounceInput');\n  const translate = useService('translate');\n\n  let options = {\n    element,\n    id,\n    label: translate('Question'),\n    debounce,\n    getValue: (element) => {\n      return getBusinessObject(element).get('question');\n    },\n    setValue: (value) => {\n      modeling.updateProperties(element, {\n        question: value\n      });\n    }\n  };\n\n  return TextAreaEntry(options);\n}\n\nfunction AllowedAnswers(props) {\n  const {\n    element,\n    id\n  } = props;\n\n  const modeling = useService('modeling');\n  const debounce = useService('debounceInput');\n  const translate = useService('translate');\n\n  let options = {\n    element,\n    id,\n    label: translate('Allowed answers'),\n    debounce,\n    getValue: (element) => {\n      return getBusinessObject(element).get('allowedAnswers');\n    },\n    setValue: (value) => {\n      modeling.updateProperties(element, {\n        allowedAnswers: value\n      });\n    }\n  };\n\n  return TextAreaEntry(options);\n}\n","const SPACE_REGEX = /\\s/;\n\n// for QName validation as per http://www.w3.org/TR/REC-xml/#NT-NameChar\nconst QNAME_REGEX = /^([a-z][\\w-.]*:)?[a-z_][\\w-.]*$/i;\n\n// for ID validation as per BPMN Schema (QName - Namespace)\nconst ID_REGEX = /^[a-z_][\\w-.]*$/i;\n\n/**\n * checks whether the id value is valid\n *\n * @param {ModdleElement} element\n * @param {String} idValue\n * @param {Function} translate\n *\n * @return {String} error message\n */\nexport function isIdValid(element, idValue, translate) {\n  const assigned = element.$model.ids.assigned(idValue);\n  const idAlreadyExists = assigned && assigned !== element;\n\n  if (!idValue) {\n    return translate('ID must not be empty.');\n  }\n\n  if (idAlreadyExists) {\n    return translate('ID must be unique.');\n  }\n\n  return validateId(idValue, translate);\n}\n\nexport function validateId(idValue, translate) {\n\n  if (containsSpace(idValue)) {\n    return translate('ID must not contain spaces.');\n  }\n\n  if (!ID_REGEX.test(idValue)) {\n\n    if (QNAME_REGEX.test(idValue)) {\n      return translate('ID must not contain prefix.');\n    }\n\n    return translate('ID must be a valid QName.');\n  }\n}\n\nexport function containsSpace(value) {\n  return SPACE_REGEX.test(value);\n}","import {\n  getBusinessObject\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport { TextFieldEntry, isTextFieldEntryEdited } from '@bpmn-io/properties-panel';\n\nimport { useCallback } from '@bpmn-io/properties-panel/preact/hooks';\n\nimport {\n  useService\n} from '../../../hooks';\n\nimport {\n  isIdValid\n} from '../../utils/ValidationUtil';\n\n\n/**\n * @typedef { import('@bpmn-io/properties-panel').EntryDefinition } Entry\n */\n\n/**\n * @returns {Array<Entry>} entries\n */\nexport function IdProps(props) {\n  const {\n    element\n  } = props;\n\n  return [\n    {\n      id: 'id',\n      component: Id,\n      element,\n      isEdited: isTextFieldEntryEdited\n    }\n  ];\n}\n\nfunction Id(props) {\n  const {\n    element,\n    id\n  } = props;\n\n  const modeling = useService('modeling');\n  const debounce = useService('debounceInput');\n  const translate = useService('translate');\n\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n\n    modeling.updateProperties(element, {\n      id: value\n    });\n  };\n\n  const getValue = useCallback((element) => {\n    return getBusinessObject(element).id;\n  }, [ element ]);\n\n  const validate = useCallback((value) => {\n    const businessObject = getBusinessObject(element);\n\n    return isIdValid(businessObject, value, translate);\n  }, [ element, translate ]);\n\n  return TextFieldEntry({\n    element,\n    id,\n    label: translate('ID'),\n    getValue,\n    setValue,\n    debounce,\n    validate\n  });\n}\n","import { TextAreaEntry, isTextAreaEntryEdited } from '@bpmn-io/properties-panel';\n\nimport { getBusinessObject } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport {\n  useService\n} from '../../../hooks';\n\nimport {\n  is,\n  isAny\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\n/**\n * @typedef { import('@bpmn-io/properties-panel').EntryDefinition } Entry\n */\n\n/**\n * @returns {Array<Entry>} entries\n */\nexport function NameProps(props) {\n  const {\n    element\n  } = props;\n\n  if (!isAny(element, [ 'dmn:DRGElement', 'dmn:Definitions', 'dmn:TextAnnotation' ])) {\n    return [];\n  }\n\n  return [\n    {\n      id: 'name',\n      component: Name,\n      element,\n      isEdited: isTextAreaEntryEdited\n    }\n  ];\n}\n\nfunction Name(props) {\n  const {\n    element,\n    id\n  } = props;\n\n  const modeling = useService('modeling');\n  const debounce = useService('debounceInput');\n  const translate = useService('translate');\n\n  // (1) default: name\n  let options = {\n    element,\n    id,\n    label: translate('Name'),\n    debounce,\n    getValue: (element) => {\n      return getBusinessObject(element).get('name');\n    },\n    setValue: (value) => {\n      modeling.updateProperties(element, {\n        name: value\n      });\n    },\n    autoResize: true\n  };\n\n  // (2) text annotation\n  if (is(element, 'dmn:TextAnnotation')) {\n    options = {\n      ...options,\n      getValue: (element) => {\n        return getBusinessObject(element).get('text');\n      },\n      setValue: (value) => {\n        modeling.updateProperties(element, {\n          text: value\n        });\n      }\n    };\n  }\n\n  return TextAreaEntry(options);\n}\n","import { Group } from '@bpmn-io/properties-panel';\n\nimport {\n  DocumentationProps,\n  IdProps,\n  NameProps\n} from './properties';\n\nexport default class DmnPropertiesProvider {\n\n  constructor(propertiesPanel) {\n    propertiesPanel.registerProvider(this);\n  }\n\n  getGroups(element) {\n    return (groups) => {\n      return [\n        ...groups,\n        ...getGroups(element)\n      ];\n    };\n  }\n\n}\n\nDmnPropertiesProvider.$inject = [ 'propertiesPanel' ];\n\n\nfunction getGroups(element) {\n\n  const groups = [\n    GeneralGroup(element),\n    DocumentationGroup(element)\n  ];\n\n  // contract: if a group returns null, it should not be displayed at all\n  return groups.filter(group => group !== null);\n}\n\nfunction GeneralGroup(element) {\n\n  const entries = [\n    ...NameProps({ element }),\n    ...IdProps({ element })\n  ];\n\n  return {\n    id: 'general',\n    label: 'General',\n    entries,\n    component: Group\n  };\n}\n\nfunction DocumentationGroup(element) {\n  const entries = [\n    ...DocumentationProps({ element })\n  ];\n\n  if (!entries.length) {\n    return null;\n  }\n\n  return {\n    id: 'documentation',\n    label: 'Documentation',\n    entries,\n    component: Group\n  };\n}\n","import DmnPropertiesProvider from './DmnPropertiesProvider';\n\nexport default {\n  __init__: [ 'dmnPropertiesProvider' ],\n  dmnPropertiesProvider: [ 'type', DmnPropertiesProvider ]\n};","import {\n  getBusinessObject,\n  is\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport { TextFieldEntry, isTextFieldEntryEdited } from '@bpmn-io/properties-panel';\n\nimport {\n  useService\n} from '../../../hooks';\n\n\nexport function VersionTagProps(props) {\n  const {\n    element\n  } = props;\n\n  if (!is(element, 'dmn:Decision')) {\n    return [];\n  }\n\n  return [\n    {\n      id: 'versionTag',\n      component: VersionTag,\n      element,\n      isEdited: isTextFieldEntryEdited\n    },\n  ];\n}\n\nfunction VersionTag(props) {\n  const { element, id } = props;\n\n  const modeling = useService('modeling');\n  const translate = useService('translate');\n  const debounce = useService('debounceInput');\n\n  const getValue = () => {\n    return getBusinessObject(element).get('camunda:versionTag');\n  };\n\n  const setValue = (value) => {\n    modeling.updateProperties(element, {\n      'camunda:versionTag': value\n    });\n  };\n\n  return TextFieldEntry({\n    element,\n    id,\n    label: translate('Version tag'),\n    getValue,\n    setValue,\n    debounce\n  });\n}\n","import {\n  getBusinessObject,\n  is\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport { TextFieldEntry, isTextFieldEntryEdited } from '@bpmn-io/properties-panel';\n\nimport {\n  useService\n} from '../../../hooks';\n\n\nexport function HistoryCleanupProps(props) {\n  const {\n    element\n  } = props;\n\n  if (!is(element, 'dmn:Decision')) {\n    return [];\n  }\n  return [\n    {\n      id: 'historyTimeToLive',\n      component: HistoryTimeToLive,\n      element,\n      isEdited: isTextFieldEntryEdited\n    },\n  ];\n}\n\nfunction HistoryTimeToLive(props) {\n  const {\n    element,\n    id\n  } = props;\n\n  const modeling = useService('modeling');\n  const translate = useService('translate');\n  const debounce = useService('debounceInput');\n\n  const getValue = () => {\n    return getBusinessObject(element).get('camunda:historyTimeToLive');\n  };\n\n  const setValue = (value) => {\n    modeling.updateProperties(element, {\n      'camunda:historyTimeToLive': value\n    });\n  };\n\n  return TextFieldEntry({\n    element,\n    id,\n    label: translate('Time to live'),\n    tooltip: <div>\n      <p>\n        { translate('Number of days before this resource is being cleaned up. If specified, takes precedence over the engine configuration.') }{' '}\n        <a href=\"https://docs.camunda.org/manual/latest/user-guide/process-engine/history/\" target=\"_blank\" rel=\"noopener noreferrer\">{ translate('Learn more') }</a>\n      </p>\n    </div>,\n    getValue,\n    setValue,\n    debounce\n  });\n}\n","import {\n  is,\n  getBusinessObject\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport { TextFieldEntry, isTextFieldEntryEdited } from '@bpmn-io/properties-panel';\n\nimport { useCallback } from '@bpmn-io/properties-panel/preact/hooks';\n\nimport {\n  useService\n} from '../../../hooks';\n\nimport {\n  isIdValid\n} from '../../utils/ValidationUtil';\n\n\n/**\n * @typedef { import('@bpmn-io/properties-panel').EntryDefinition } Entry\n */\n\n/**\n * @returns {Array<Entry>} entries\n */\nexport function IdProps(props) {\n  const {\n    element\n  } = props;\n\n  return [\n    {\n      id: 'id',\n      component: Id,\n      element,\n      isEdited: isTextFieldEntryEdited\n    }\n  ];\n}\n\nfunction Id(props) {\n  const {\n    element,\n    id\n  } = props;\n\n  const modeling = useService('modeling');\n  const debounce = useService('debounceInput');\n  const translate = useService('translate');\n\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n\n    modeling.updateProperties(element, {\n      id: value\n    });\n  };\n\n  const getValue = useCallback((element) => {\n    return getBusinessObject(element).id;\n  }, [ element ]);\n\n  const validate = useCallback((value) => {\n    const businessObject = getBusinessObject(element);\n\n    return isIdValid(businessObject, value, translate);\n  }, [ element, translate ]);\n\n  const description = is(element, 'dmn:Decision') ?\n    translate('This maps to the decision definition key.')\n    : null;\n\n  return TextFieldEntry({\n    element,\n    id,\n    label: translate('ID'),\n    getValue,\n    setValue,\n    debounce,\n    validate,\n    description\n  });\n}\n","import { Group } from '@bpmn-io/properties-panel';\n\nimport { findIndex } from 'min-dash';\n\nimport {\n  HistoryCleanupProps,\n  VersionTagProps,\n  IdProps\n} from './properties';\n\n\nconst LOW_PRIORITY = 500;\n\nconst CAMUNDA_PLATFORM_GROUPS = [\n  HistoryCleanupGroup,\n];\n\n/**\n * Provides `camunda` namespace properties.\n *\n * @example\n * ```javascript\n * import DmnModeler from 'dmn-js/lib/Modeler';\n * import {\n *   DmnPropertiesPanelModule,\n *   DmnPropertiesProviderModule,\n *   CamundaPlatformPropertiesProviderModule\n * } from 'dmn-js-properties-panel';\n *\n * const modeler = new DmnModeler({\n *   container: '#canvas',\n *   propertiesPanel: {\n *     parent: '#properties'\n *   },\n *   additionalModules: [\n *     DmnPropertiesPanelModule,\n *     DmnPropertiesProviderModule,\n *     CamundaPlatformPropertiesProviderModule\n *   ]\n * });\n * ```\n */\nexport default class CamundaPropertiesProvider {\n\n  constructor(propertiesPanel, injector) {\n    propertiesPanel.registerProvider(LOW_PRIORITY, this);\n\n    this._injector = injector;\n  }\n\n  getGroups(element) {\n    return (groups) => {\n\n      // (1) add Camunda Platform specific groups\n      groups = groups.concat(this._getGroups(element));\n\n      // (2) update existing groups with Camunda Platform specific properties\n      updateGeneralGroup(groups, element);\n\n      return groups;\n    };\n  }\n\n  _getGroups(element) {\n    const groups = CAMUNDA_PLATFORM_GROUPS.map(createGroup => createGroup(element, this._injector));\n\n    // contract: if a group returns null, it should not be displayed at all\n    return groups.filter(group => group !== null);\n  }\n}\n\nCamundaPropertiesProvider.$inject = [ 'propertiesPanel', 'injector' ];\n\n/**\n * This ensures the <Implementation> group always locates after <Documentation>\n */\n\nfunction updateGeneralGroup(groups, element) {\n\n  const generalGroup = findGroup(groups, 'general');\n\n  if (!generalGroup) {\n    return;\n  }\n\n  const { entries } = generalGroup;\n\n  // (1) replace id with camunda id\n  const idIndex = findIndex(entries, (entry) => entry.id === 'id');\n  entries.splice(idIndex, 1, ...IdProps({ element }));\n\n  // (2) add version tag after id\n  entries.splice(idIndex + 1, 0, ...VersionTagProps({ element }));\n}\n\n\nfunction HistoryCleanupGroup(element) {\n  const group = {\n    label: 'History cleanup',\n    id: 'Camunda__HistoryCleanup',\n    component: Group,\n    entries: [\n      ...HistoryCleanupProps({ element })\n    ]\n  };\n\n  if (group.entries.length) {\n    return group;\n  }\n\n  return null;\n}\n\n\n\n// helper /////////////////////\n\nfunction findGroup(groups, id) {\n  return groups.find(g => g.id === id);\n}\n","import CamundaPropertiesProvider from './CamundaPropertiesProvider';\n\nexport default {\n  __init__: [ 'CamundaPropertiesProvider' ],\n  CamundaPropertiesProvider: [ 'type', CamundaPropertiesProvider ]\n};","/**\n * Create a new element and (optionally) set its parent.\n */\nexport function createElement(type, properties, parent, dmnFactory) {\n  const element = dmnFactory.create(type, properties);\n\n  if (parent) {\n    element.$parent = parent;\n  }\n\n  return element;\n}","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport { createElement } from './ElementUtil';\n\nimport { isArray } from 'min-dash';\n\n/**\n * Get extension elements of business object. Optionally filter by type.\n */\nexport function getExtensionElementsList(businessObject, type = undefined) {\n  const extensionElements = businessObject.get('extensionElements');\n\n  if (!extensionElements) {\n    return [];\n  }\n\n  const values = extensionElements.get('values');\n\n  if (!values || !values.length) {\n    return [];\n  }\n\n  if (type) {\n    return values.filter(value => is(value, type));\n  }\n\n  return values;\n}\n\n/**\n * Add one or more extension elements. Create dmn:ExtensionElements if it doesn't exist.\n */\nexport function addExtensionElements(element, businessObject, extensionElementToAdd, dmnFactory, commandStack) {\n  const commands = [];\n\n  let extensionElements = businessObject.get('extensionElements');\n\n  // (1) create dmn:ExtensionElements if it doesn't exist\n  if (!extensionElements) {\n    extensionElements = createElement(\n      'dmn:ExtensionElements',\n      {\n        values: []\n      },\n      businessObject,\n      dmnFactory\n    );\n\n    commands.push({\n      cmd: 'element.updateModdleProperties',\n      context: {\n        element,\n        moddleElement: businessObject,\n        properties: {\n          extensionElements\n        }\n      }\n    });\n  }\n\n  extensionElementToAdd.$parent = extensionElements;\n\n  // (2) add extension element to list\n  commands.push({\n    cmd: 'element.updateModdleProperties',\n    context: {\n      element,\n      moddleElement: extensionElements,\n      properties: {\n        values: [ ...extensionElements.get('values'), extensionElementToAdd ]\n      }\n    }\n  });\n\n  commandStack.execute('properties-panel.multi-command-executor', commands);\n}\n\n/**\n * Remove one or more extension elements. Remove dmn:ExtensionElements afterwards if it's empty.\n */\nexport function removeExtensionElements(element, businessObject, extensionElementsToRemove, commandStack) {\n  if (!isArray(extensionElementsToRemove)) {\n    extensionElementsToRemove = [ extensionElementsToRemove ];\n  }\n\n  const extensionElements = businessObject.get('extensionElements'),\n        values = extensionElements.get('values').filter(value => !extensionElementsToRemove.includes(value));\n\n  commandStack.execute('element.updateModdleProperties', {\n    element,\n    moddleElement: extensionElements,\n    properties: {\n      values\n    }\n  });\n}\n","import {\n  getBusinessObject,\n  is\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport { TextFieldEntry, isTextFieldEntryEdited } from '@bpmn-io/properties-panel';\n\nimport {\n  useService\n} from '../../../hooks';\n\nimport { createElement } from '../../utils/ElementUtil';\n\nimport { getExtensionElementsList } from '../../utils/ExtensionElementsUtil';\n\n\nexport function VersionTagProps(props) {\n  const {\n    element\n  } = props;\n\n  if (!is(element, 'dmn:Decision')) {\n    return [];\n  }\n\n  return [\n    {\n      id: 'versionTag',\n      component: VersionTag,\n      isEdited: isTextFieldEntryEdited\n    },\n  ];\n}\n\nfunction VersionTag(props) {\n  const { element } = props;\n\n  const drdFactory = useService('drdFactory');\n  const commandStack = useService('commandStack');\n  const debounce = useService('debounceInput');\n  const translate = useService('translate');\n\n  const getValue = () => {\n    const versionTag = getVersionTag(element);\n\n    if (versionTag) {\n      return versionTag.get('value');\n    }\n  };\n\n  const setValue = (value) => {\n    let commands = [];\n\n    const businessObject = getBusinessObject(element);\n\n    let extensionElements = businessObject.get('extensionElements');\n\n    // (1) ensure extension elements\n    if (!extensionElements) {\n      extensionElements = createElement(\n        'dmn:ExtensionElements',\n        { values: [] },\n        businessObject,\n        drdFactory\n      );\n\n      commands.push({\n        cmd: 'element.updateModdleProperties',\n        context: {\n          element,\n          moddleElement: businessObject,\n          properties: { extensionElements }\n        }\n      });\n    }\n\n    // (2) ensure version tag\n    let versionTag = getVersionTag(element);\n\n    if (!versionTag) {\n      versionTag = createElement(\n        'zeebe:VersionTag',\n        {},\n        extensionElements,\n        drdFactory\n      );\n\n      commands.push({\n        cmd: 'element.updateModdleProperties',\n        context: {\n          element,\n          moddleElement: extensionElements,\n          properties: {\n            values: [ ...extensionElements.get('values'), versionTag ]\n          }\n        }\n      });\n    }\n\n    // (3) update version tag value\n    commands.push({\n      cmd: 'element.updateModdleProperties',\n      context: {\n        element,\n        moddleElement: versionTag,\n        properties: { value }\n      }\n    });\n\n    commandStack.execute('properties-panel.multi-command-executor', commands);\n  };\n\n  return TextFieldEntry({\n    element,\n    id: 'versionTag',\n    label: translate('Version tag'),\n    getValue,\n    setValue,\n    debounce\n  });\n}\n\n\n// helper //////////////////\n\nfunction getVersionTag(element) {\n  const businessObject = getBusinessObject(element);\n\n  return getExtensionElementsList(businessObject, 'zeebe:VersionTag')[ 0 ];\n}","import { findIndex } from 'min-dash';\n\nimport {\n  VersionTagProps\n} from './properties';\n\n\nconst LOW_PRIORITY = 500;\n\n/**\n * Provides `zeebe` namespace properties.\n *\n * @example\n * ```javascript\n * import DmnModeler from 'dmn-js/lib/Modeler';\n * import {\n *   DmnPropertiesPanelModule,\n *   DmnPropertiesProviderModule,\n *   ZeebePropertiesProviderModule\n * } from 'dmn-js-properties-panel';\n *\n * const modeler = new DmnModeler({\n *   container: '#canvas',\n *   propertiesPanel: {\n *     parent: '#properties'\n *   },\n *   additionalModules: [\n *     DmnPropertiesPanelModule,\n *     DmnPropertiesProviderModule,\n *     ZeebePropertiesProviderModule\n *   ]\n * });\n * ```\n */\nexport default class ZeebePropertiesProvider {\n\n  constructor(propertiesPanel, injector) {\n    propertiesPanel.registerProvider(LOW_PRIORITY, this);\n\n    this._injector = injector;\n  }\n\n  getGroups(element) {\n    return (groups) => {\n      updateGeneralGroup(groups, element);\n\n      return groups;\n    };\n  }\n}\n\nZeebePropertiesProvider.$inject = [ 'propertiesPanel', 'injector' ];\n\nfunction updateGeneralGroup(groups, element) {\n\n  const generalGroup = findGroup(groups, 'general');\n\n  if (!generalGroup) {\n    return;\n  }\n\n  const { entries } = generalGroup;\n\n  const idIndex = findIndex(entries, (entry) => entry.id === 'id');\n\n  entries.splice(idIndex + 1, 0, ...VersionTagProps({ element }));\n}\n\n// helper /////////////////////\n\nfunction findGroup(groups, id) {\n  return groups.find(g => g.id === id);\n}\n","import ZeebePropertiesProvider from './ZeebePropertiesProvider';\n\nexport default {\n  __init__: [ 'zeebePropertiesProvider' ],\n  zeebePropertiesProvider: [ 'type', ZeebePropertiesProvider ]\n};","/* eslint-disable react-hooks/rules-of-hooks */\nimport {\n  useService\n} from '../../hooks';\n\nconst TooltipProvider = {\n  'versionTag': (element) => {\n\n    const translate = useService('translate');\n\n    return (\n      <div>\n        <p>\n          { translate('Version tag by which this decision can be referenced.') }\n        </p>\n      </div>\n    );\n  }\n};\n\nexport default TooltipProvider;\n"],"names":["DmnPropertiesPanelContext","createContext","selectedElement","injector","getService","is","element","type","bo","getBusinessObject","$instanceOf","businessObject","isAny","types","some","t","getLabelAttr","semantic","getLabel","attr","_path","_extends","AssociationIcon","AuthorityRequirementIcon","BusinessKnowledgeIcon","DecisionIcon","DRDIcon","InformationRequirementIcon","InputDataIcon","KnowledgeRequirementIcon","KnowledgeSourceIcon","TextAnnotationIcon","getConcreteType","elementType","getRawType","PanelHeaderProvider","getElementLabel","get","getElementIcon","concreteType","iconsByType","getTypeLabel","replace","split","PanelPlaceholderProvider","getEmpty","text","icon","getMultiple","DmnPropertiesPanel","props","getProviders","layoutConfig","descriptionConfig","tooltipConfig","canvas","elementRegistry","eventBus","state","setState","useState","_update","newSelectedElement","labelTarget","fire","useEffect","onSelectionChanged","e","newSelection","length","newElement","rootElement","getRootElement","isImplicitRoot","on","off","onElementsChanged","elements","updatedElement","findElement","elementExists","onRootAdded","onProvidersChanged","dmnPropertiesPanelContext","strict","providers","groups","useMemo","reduce","provider","isArray","updater","getGroups","onLayoutChanged","layout","onDescriptionLoaded","description","onTooltipLoaded","tooltip","_jsx","Provider","value","children","PropertiesPanel","headerProvider","placeholderProvider","layoutChanged","descriptionLoaded","tooltipLoaded","isImplicit","find","id","DEFAULT_PRIORITY","DmnPropertiesPanelRenderer","constructor","config","dmnjs","parent","_eventBus","_injector","_layoutConfig","_descriptionConfig","_tooltipConfig","_container","domify","commandStack","setupKeyboard","detach","event","attachTo","_render","container","Error","prototype","jquery","domQuery","appendChild","parentNode","removeChild","registerProvider","priority","console","error","push","_getProviders","createEvent","render","bind","_destroy","$inject","cancel","preventDefault","stopPropagation","handleKeys","isUndo","undo","isRedo","redo","domEvent","unbind","MultiCommandHandler","_commandStack","preExecute","context","forEach","command","execute","cmd","HANDLERS","CommandInitializer","handler","registerHandler","__init__","__depends__","Commands","DebounceInputModule","FeelPopupModule","propertiesPanel","useContext","DocumentationProps","entries","component","Description","isEdited","isTextAreaEntryEdited","concat","Question","AllowedAnswers","modeling","useService","debounce","translate","options","label","getValue","setValue","updateProperties","TextAreaEntry","question","allowedAnswers","SPACE_REGEX","QNAME_REGEX","ID_REGEX","isIdValid","idValue","assigned","$model","ids","idAlreadyExists","validateId","containsSpace","test","IdProps","Id","isTextFieldEntryEdited","useCallback","validate","TextFieldEntry","NameProps","Name","name","autoResize","DmnPropertiesProvider","GeneralGroup","DocumentationGroup","filter","group","Group","dmnPropertiesProvider","VersionTagProps","VersionTag","HistoryCleanupProps","HistoryTimeToLive","_jsxs","href","target","rel","LOW_PRIORITY","CAMUNDA_PLATFORM_GROUPS","HistoryCleanupGroup","CamundaPropertiesProvider","_getGroups","updateGeneralGroup","map","createGroup","generalGroup","findGroup","idIndex","findIndex","entry","splice","g","createElement","properties","dmnFactory","create","$parent","getExtensionElementsList","undefined","extensionElements","values","drdFactory","versionTag","getVersionTag","commands","moddleElement","ZeebePropertiesProvider","zeebePropertiesProvider","TooltipProvider"],"mappings":"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","x_google_ignoreList":[1,2]}